(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Iv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cd={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function fA(){if(Wy)return rl;Wy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:f,ref:l!==void 0?l:null,props:c}}return rl.Fragment=t,rl.jsx=i,rl.jsxs=i,rl}var Jy;function dA(){return Jy||(Jy=1,cd.exports=fA()),cd.exports}var C=dA(),hd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function mA(){if(t_)return wt;t_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function M(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,J={};function X(N,$,rt){this.props=N,this.context=$,this.refs=J,this.updater=rt||H}X.prototype.isReactComponent={},X.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},X.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ct(){}ct.prototype=X.prototype;function Et(N,$,rt){this.props=N,this.context=$,this.refs=J,this.updater=rt||H}var it=Et.prototype=new ct;it.constructor=Et,Q(it,X.prototype),it.isPureReactComponent=!0;var ht=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function O(N,$,rt,tt,ft,It){return rt=It.ref,{$$typeof:r,type:N,key:$,ref:rt!==void 0?rt:null,props:It}}function b(N,$){return O(N.type,$,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(rt){return $[rt]})}var k=/\/+/g;function U(N,$){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):$.toString(36)}function R(){}function Oe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(R,R):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function se(N,$,rt,tt,ft){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(It){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case r:case t:_t=!0;break;case E:return _t=N._init,se(_t(N._payload),$,rt,tt,ft)}}if(_t)return ft=ft(N),_t=tt===""?"."+U(N,0):tt,ht(ft)?(rt="",_t!=null&&(rt=_t.replace(k,"$&/")+"/"),se(ft,$,rt,"",function(jn){return jn})):ft!=null&&(w(ft)&&(ft=b(ft,rt+(ft.key==null||N&&N.key===ft.key?"":(""+ft.key).replace(k,"$&/")+"/")+_t)),$.push(ft)),1;_t=0;var we=tt===""?".":tt+":";if(ht(N))for(var Wt=0;Wt<N.length;Wt++)tt=N[Wt],It=we+U(tt,Wt),_t+=se(tt,$,rt,It,ft);else if(Wt=M(N),typeof Wt=="function")for(N=Wt.call(N),Wt=0;!(tt=N.next()).done;)tt=tt.value,It=we+U(tt,Wt++),_t+=se(tt,$,rt,It,ft);else if(It==="object"){if(typeof N.then=="function")return se(Oe(N),$,rt,tt,ft);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _t}function F(N,$,rt){if(N==null)return N;var tt=[],ft=0;return se(N,tt,"","",function(It){return $.call(rt,It,ft++)}),tt}function nt(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(rt){(N._status===0||N._status===-1)&&(N._status=1,N._result=rt)},function(rt){(N._status===0||N._status===-1)&&(N._status=2,N._result=rt)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var lt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function jt(){}return wt.Children={map:F,forEach:function(N,$,rt){F(N,function(){$.apply(this,arguments)},rt)},count:function(N){var $=0;return F(N,function(){$++}),$},toArray:function(N){return F(N,function($){return $})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=X,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=Et,wt.StrictMode=a,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return dt.H.useMemoCache(N)}},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,$,rt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var tt=Q({},N.props),ft=N.key,It=void 0;if($!=null)for(_t in $.ref!==void 0&&(It=void 0),$.key!==void 0&&(ft=""+$.key),$)!St.call($,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&$.ref===void 0||(tt[_t]=$[_t]);var _t=arguments.length-2;if(_t===1)tt.children=rt;else if(1<_t){for(var we=Array(_t),Wt=0;Wt<_t;Wt++)we[Wt]=arguments[Wt+2];tt.children=we}return O(N.type,ft,void 0,void 0,It,tt)},wt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},wt.createElement=function(N,$,rt){var tt,ft={},It=null;if($!=null)for(tt in $.key!==void 0&&(It=""+$.key),$)St.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ft[tt]=$[tt]);var _t=arguments.length-2;if(_t===1)ft.children=rt;else if(1<_t){for(var we=Array(_t),Wt=0;Wt<_t;Wt++)we[Wt]=arguments[Wt+2];ft.children=we}if(N&&N.defaultProps)for(tt in _t=N.defaultProps,_t)ft[tt]===void 0&&(ft[tt]=_t[tt]);return O(N,It,void 0,void 0,null,ft)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:g,render:N}},wt.isValidElement=w,wt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:nt}},wt.memo=function(N,$){return{$$typeof:_,type:N,compare:$===void 0?null:$}},wt.startTransition=function(N){var $=dt.T,rt={};dt.T=rt;try{var tt=N(),ft=dt.S;ft!==null&&ft(rt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(jt,lt)}catch(It){lt(It)}finally{dt.T=$}},wt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},wt.use=function(N){return dt.H.use(N)},wt.useActionState=function(N,$,rt){return dt.H.useActionState(N,$,rt)},wt.useCallback=function(N,$){return dt.H.useCallback(N,$)},wt.useContext=function(N){return dt.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,$){return dt.H.useDeferredValue(N,$)},wt.useEffect=function(N,$,rt){var tt=dt.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(N,$)},wt.useId=function(){return dt.H.useId()},wt.useImperativeHandle=function(N,$,rt){return dt.H.useImperativeHandle(N,$,rt)},wt.useInsertionEffect=function(N,$){return dt.H.useInsertionEffect(N,$)},wt.useLayoutEffect=function(N,$){return dt.H.useLayoutEffect(N,$)},wt.useMemo=function(N,$){return dt.H.useMemo(N,$)},wt.useOptimistic=function(N,$){return dt.H.useOptimistic(N,$)},wt.useReducer=function(N,$,rt){return dt.H.useReducer(N,$,rt)},wt.useRef=function(N){return dt.H.useRef(N)},wt.useState=function(N){return dt.H.useState(N)},wt.useSyncExternalStore=function(N,$,rt){return dt.H.useSyncExternalStore(N,$,rt)},wt.useTransition=function(){return dt.H.useTransition()},wt.version="19.1.1",wt}var e_;function Zd(){return e_||(e_=1,hd.exports=mA()),hd.exports}var Zt=Zd();const gA=Iv(Zt);var fd={exports:{}},sl={},dd={exports:{}},md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function pA(){return n_||(n_=1,(function(r){function t(F,nt){var lt=F.length;F.push(nt);t:for(;0<lt;){var jt=lt-1>>>1,N=F[jt];if(0<l(N,nt))F[jt]=nt,F[lt]=N,lt=jt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],lt=F.pop();if(lt!==nt){F[0]=lt;t:for(var jt=0,N=F.length,$=N>>>1;jt<$;){var rt=2*(jt+1)-1,tt=F[rt],ft=rt+1,It=F[ft];if(0>l(tt,lt))ft<N&&0>l(It,tt)?(F[jt]=It,F[ft]=lt,jt=ft):(F[jt]=tt,F[rt]=lt,jt=rt);else if(ft<N&&0>l(It,lt))F[jt]=It,F[ft]=lt,jt=ft;else break t}}return nt}function l(F,nt){var lt=F.sortIndex-nt.sortIndex;return lt!==0?lt:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],E=1,I=null,M=3,H=!1,Q=!1,J=!1,X=!1,ct=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ht(F){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=F)a(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(_)}}function dt(F){if(J=!1,ht(F),!Q)if(i(p)!==null)Q=!0,St||(St=!0,U());else{var nt=i(_);nt!==null&&se(dt,nt.startTime-F)}}var St=!1,O=-1,b=5,w=-1;function x(){return X?!0:!(r.unstable_now()-w<b)}function k(){if(X=!1,St){var F=r.unstable_now();w=F;var nt=!0;try{t:{Q=!1,J&&(J=!1,Et(O),O=-1),H=!0;var lt=M;try{e:{for(ht(F),I=i(p);I!==null&&!(I.expirationTime>F&&x());){var jt=I.callback;if(typeof jt=="function"){I.callback=null,M=I.priorityLevel;var N=jt(I.expirationTime<=F);if(F=r.unstable_now(),typeof N=="function"){I.callback=N,ht(F),nt=!0;break e}I===i(p)&&a(p),ht(F)}else a(p);I=i(p)}if(I!==null)nt=!0;else{var $=i(_);$!==null&&se(dt,$.startTime-F),nt=!1}}break t}finally{I=null,M=lt,H=!1}nt=void 0}}finally{nt?U():St=!1}}}var U;if(typeof it=="function")U=function(){it(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=k,U=function(){Oe.postMessage(null)}}else U=function(){ct(k,0)};function se(F,nt){O=ct(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var lt=M;M=nt;try{return F()}finally{M=lt}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var lt=M;M=F;try{return nt()}finally{M=lt}},r.unstable_scheduleCallback=function(F,nt,lt){var jt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?jt+lt:jt):lt=jt,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=lt+N,F={id:E++,callback:nt,priorityLevel:F,startTime:lt,expirationTime:N,sortIndex:-1},lt>jt?(F.sortIndex=lt,t(_,F),i(p)===null&&F===i(_)&&(J?(Et(O),O=-1):J=!0,se(dt,lt-jt))):(F.sortIndex=N,t(p,F),Q||H||(Q=!0,St||(St=!0,U()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var nt=M;return function(){var lt=M;M=nt;try{return F.apply(this,arguments)}finally{M=lt}}}})(md)),md}var i_;function yA(){return i_||(i_=1,dd.exports=pA()),dd.exports}var gd={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function _A(){if(r_)return Ge;r_=1;var r=Zd();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,E)},Ge.flushSync=function(p){var _=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=_,a.p=E,a.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,I=g(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:M,fetchPriority:H}):E==="script"&&a.d.X(p,{crossOrigin:I,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,I=g(E,_.crossOrigin);a.d.L(p,E,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},Ge.requestFormReset=function(p){a.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,E){return f.H.useFormState(p,_,E)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var s_;function vA(){if(s_)return gd.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gd.exports=_A(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function TA(){if(a_)return sl;a_=1;var r=yA(),t=Zd(),i=vA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),e;if(d===o)return g(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,o=d;break}if(T===o){v=!0,o=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,o=h;break}if(T===o){v=!0,o=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,I=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case X:return"Profiler";case J:return"StrictMode";case dt:return"Suspense";case St:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case it:return(e.displayName||"Context")+".Provider";case Et:return(e._context.displayName||"Context")+".Consumer";case ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Oe(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Oe(e(n))}catch{}}return null}var se=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},jt=[],N=-1;function $(e){return{current:e}}function rt(e){0>N||(e.current=jt[N],jt[N]=null,N--)}function tt(e,n){N++,jt[N]=e.current,e.current=n}var ft=$(null),It=$(null),_t=$(null),we=$(null);function Wt(e,n){switch(tt(_t,n),tt(It,e),tt(ft,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ry(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ry(n),e=Iy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(ft),tt(ft,e)}function jn(){rt(ft),rt(It),rt(_t)}function Xi(e){e.memoizedState!==null&&tt(we,e);var n=ft.current,s=Iy(n,e.type);n!==s&&(tt(It,e),tt(ft,s))}function mi(e){It.current===e&&(rt(ft),rt(It)),we.current===e&&(rt(we),Jo._currentValue=lt)}var zr=Object.prototype.hasOwnProperty,Br=r.unstable_scheduleCallback,qr=r.unstable_cancelCallback,Xa=r.unstable_shouldYield,Vl=r.unstable_requestPaint,yn=r.unstable_now,uh=r.unstable_getCurrentPriorityLevel,$a=r.unstable_ImmediatePriority,Ps=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,ch=r.unstable_LowPriority,Ls=r.unstable_IdlePriority,Za=r.log,Ul=r.unstable_setDisableYieldValue,ae=null,qt=null;function an(e){if(typeof Za=="function"&&Ul(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ae,e)}catch{}}var He=Math.clz32?Math.clz32:Fr,Pl=Math.log,hh=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Pl(e)/hh|0)|0}var Gr=256,Kr=4194304;function xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function js(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=xn(o):(v&=T,v!==0?h=xn(v):s||(s=T&~e,s!==0&&(h=xn(s))))):(T=o&~d,T!==0?h=xn(T):v!==0?h=xn(v):s||(s=o&~e,s!==0&&(h=xn(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Qr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Wa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function to(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function gi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eo(e,n,s,o,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,S=e.expirationTimes,j=e.hiddenUpdates;for(s=v&~s;0<s;){var G=31-He(s),Y=1<<G;T[G]=0,S[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}s&=~Y}o!==0&&zn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function zn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-He(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function no(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-He(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Ky(e.type))}function Ll(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var te=Math.random().toString(36).slice(2),_e="__reactFiber$"+te,de="__reactProps$"+te,_n="__reactContainer$"+te,io="__reactEvents$"+te,fh="__reactListeners$"+te,Wi="__reactHandles$"+te,jl="__reactResources$"+te,Yr="__reactMarker$"+te;function Ji(e){delete e[_e],delete e[de],delete e[io],delete e[fh],delete e[Wi]}function yi(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[_n]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=xy(e);e!==null;){if(s=e[_e])return s;e=xy(e)}return n}e=s,s=e.parentNode}return null}function Bn(e){if(e=e[_e]||e[_n]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function $e(e){var n=e[jl];return n||(n=e[jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(e){e[Yr]=!0}var ro=new Set,Bs={};function On(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Bs[e]=n,e=0;e<n.length;e++)ro.add(n[e])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},Xr={};function ql(e){return zr.call(Xr,e)?!0:zr.call(Bl,e)?!1:zl.test(e)?Xr[e]=!0:(Bl[e]=!0,!1)}function tr(e,n,s){if(ql(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Me(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var $r,Hl;function vi(e){if($r===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Hl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+Hl}var qs=!1;function Hs(e,n){if(!e||qs)return"";qs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var S=v.split(`
`),j=T.split(`
`);for(h=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===S.length||h===j.length)for(o=S.length-1,h=j.length-1;1<=o&&0<=h&&S[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(S[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||S[o]!==j[h]){var G=`
`+S[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{qs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?vi(s):""}function so(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return vi("Activity");default:return""}}function Fs(e){try{var n="";do n+=so(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ao(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dh(e){var n=ao(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gs(e){e._valueTracker||(e._valueTracker=dh(e))}function oo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ao(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mh=/[\n"\\]/g;function me(e){return e.replace(mh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(e,n,s,o,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?er(e,v,Ze(n)):s!=null?er(e,v,Ze(s)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function Wr(e,n,s,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+Ze(s):"",n=n!=null?""+Ze(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function er(e,n,s){n==="number"&&Zr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ti(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Kt(e,n,s){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ze(s):""}function Jr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(se(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function vn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||ts.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function lo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Fl(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Fl(e,d,n[d])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ei=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,bi=null;function co(e){var n=Bn(e);if(n&&(e=n.stateNode)){var s=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(on(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(a(90));on(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&oo(o)}break t;case"textarea":Kt(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ti(e,!!s.multiple,n,!1)}}}var Fn=!1;function Gl(e,n,s){if(Fn)return e(n,s);Fn=!0;try{var o=e(n);return o}finally{if(Fn=!1,(Ai!==null||bi!==null)&&(Lu(),Ai&&(n=Ai,e=bi,bi=Ai=null,co(n),e)))for(n=0;n<e.length;n++)co(e[n])}}function es(e,n){var s=e.stateNode;if(s===null)return null;var o=s[de]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){En=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{En=!1}var Gn=null,nr=null,Si=null;function ho(){if(Si)return Si;var e,n=nr,s=n.length,o,h="value"in Gn?Gn.value:Gn.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var v=s-e;for(o=1;o<=v&&n[s-o]===h[d-o];o++);return Si=h.slice(e,1<o?1-o:void 0)}function Kn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function fo(){return!1}function Re(e){function n(s,o,h,d,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qn:fo,this.isPropagationStopped=fo,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Re(Bt),is=E({},Bt,{view:0,detail:0}),Kl=Re(is),Ys,Xs,Yn,rs=E({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Ys=e.screenX-Yn.screenX,Xs=e.screenY-Yn.screenY):Xs=Ys=0,Yn=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),An=Re(rs),Ql=E({},rs,{dataTransfer:0}),yh=Re(Ql),ss=E({},is,{relatedTarget:0}),$s=Re(ss),mo=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Re(mo),Yl=E({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=Re(Yl),_h=E({},Bt,{data:0}),go=Re(_h),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function po(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=$l[e])?!!n[e]:!1}function os(){return po}var Zl=E({},is,{key:function(e){if(e.key){var n=as[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?Kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Js=Re(Zl),Wl=E({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yo=Re(Wl),wi=E({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),Jl=Re(wi),tu=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=Re(tu),nu=E({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=Re(nu),We=E({},Bt,{newState:0,oldState:0}),iu=Re(We),ru=[9,13,27,32],Xn=Mn&&"CompositionEvent"in window,u=null;Mn&&"documentMode"in document&&(u=document.documentMode);var m=Mn&&"TextEvent"in window&&!u,y=Mn&&(!Xn||u&&8<u&&11>=u),A=" ",P=!1;function q(e,n){switch(e){case"keyup":return ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function ve(e,n){switch(e){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return e=n.data,e===A&&P?null:e;default:return null}}function kt(e,n){if(Mt)return e==="compositionend"||!Xn&&q(e,n)?(e=ho(),Si=nr=Gn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ri(e,n,s,o){Ai?bi?bi.push(o):bi=[o]:Ai=o,n=Fu(n,"onChange"),0<n.length&&(s=new Qs("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var ke=null,$n=null;function _o(e){Ey(e,0)}function su(e){var n=qn(e);if(oo(n))return e}function qm(e,n){if(e==="change")return n}var Hm=!1;if(Mn){var vh;if(Mn){var Th="oninput"in document;if(!Th){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),Th=typeof Fm.oninput=="function"}vh=Th}else vh=!1;Hm=vh&&(!document.documentMode||9<document.documentMode)}function Gm(){ke&&(ke.detachEvent("onpropertychange",Km),$n=ke=null)}function Km(e){if(e.propertyName==="value"&&su($n)){var n=[];Ri(n,$n,e,Tn(e)),Gl(_o,n)}}function qT(e,n,s){e==="focusin"?(Gm(),ke=n,$n=s,ke.attachEvent("onpropertychange",Km)):e==="focusout"&&Gm()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return su($n)}function FT(e,n){if(e==="click")return su(n)}function GT(e,n){if(e==="input"||e==="change")return su(n)}function KT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:KT;function vo(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!zr.call(n,h)||!ln(e[h],n[h]))return!1}return!0}function Qm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,n){var s=Qm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Qm(s)}}function Xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Zr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Zr(e.document)}return n}function Eh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var QT=Mn&&"documentMode"in document&&11>=document.documentMode,ea=null,Ah=null,To=null,bh=!1;function Zm(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bh||ea==null||ea!==Zr(o)||(o=ea,"selectionStart"in o&&Eh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),To&&vo(To,o)||(To=o,o=Fu(Ah,"onSelect"),0<o.length&&(n=new Qs("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ea)))}function ls(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var na={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},Sh={},Wm={};Mn&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function us(e){if(Sh[e])return Sh[e];if(!na[e])return e;var n=na[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Wm)return Sh[e]=n[s];return e}var Jm=us("animationend"),tg=us("animationiteration"),eg=us("animationstart"),YT=us("transitionrun"),XT=us("transitionstart"),$T=us("transitioncancel"),ng=us("transitionend"),ig=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function kn(e,n){ig.set(e,n),On(n,[e])}var rg=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var s=rg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Fs(n)},rg.set(e,n),n)}return{value:e,source:n,stack:Fs(n)}}var Sn=[],ia=0,Rh=0;function au(){for(var e=ia,n=Rh=ia=0;n<e;){var s=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var d=Sn[n];if(Sn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&sg(s,h,d)}}function ou(e,n,s,o){Sn[ia++]=e,Sn[ia++]=n,Sn[ia++]=s,Sn[ia++]=o,Rh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ih(e,n,s,o){return ou(e,n,s,o),lu(e)}function ra(e,n){return ou(e,null,null,n),lu(e)}function sg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-He(s),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),d):null}function lu(e){if(50<Go)throw Go=0,kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var sa={};function ZT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,s,o){return new ZT(e,n,s,o)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,n){var s=e.alternate;return s===null?(s=un(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ag(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function uu(e,n,s,o,h,d){var v=0;if(o=e,typeof e=="function")Ch(e)&&(v=1);else if(typeof e=="string")v=JE(e,s,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=un(31,s,n,h),e.elementType=w,e.lanes=d,e;case Q:return cs(s.children,h,d,n);case J:v=8,h|=24;break;case X:return e=un(12,s,n,h|2),e.elementType=X,e.lanes=d,e;case dt:return e=un(13,s,n,h),e.elementType=dt,e.lanes=d,e;case St:return e=un(19,s,n,h),e.elementType=St,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:case it:v=10;break t;case Et:v=9;break t;case ht:v=11;break t;case O:v=14;break t;case b:v=16,o=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=un(v,s,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function cs(e,n,s,o){return e=un(7,e,o,n),e.lanes=s,e}function Nh(e,n,s){return e=un(6,e,null,n),e.lanes=s,e}function Dh(e,n,s){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var aa=[],oa=0,cu=null,hu=0,wn=[],Rn=0,hs=null,Ci=1,Ni="";function fs(e,n){aa[oa++]=hu,aa[oa++]=cu,cu=e,hu=n}function og(e,n,s){wn[Rn++]=Ci,wn[Rn++]=Ni,wn[Rn++]=hs,hs=e;var o=Ci;e=Ni;var h=32-He(o)-1;o&=~(1<<h),s+=1;var d=32-He(n)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ci=1<<32-He(n)+h|s<<h|o,Ni=d+e}else Ci=1<<d|s<<h|o,Ni=e}function xh(e){e.return!==null&&(fs(e,1),og(e,1,0))}function Oh(e){for(;e===cu;)cu=aa[--oa],aa[oa]=null,hu=aa[--oa],aa[oa]=null;for(;e===hs;)hs=wn[--Rn],wn[Rn]=null,Ni=wn[--Rn],wn[Rn]=null,Ci=wn[--Rn],wn[Rn]=null}var Je=null,oe=null,zt=!1,ds=null,Zn=!1,Mh=Error(a(519));function ms(e){var n=Error(a(418,""));throw bo(bn(n,e)),Mh}function lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[de]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Qo.length;s++)Dt(Qo[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Wr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Gs(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Jr(n,o.value,o.defaultValue,o.children),Gs(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||wy(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Gu),n=!0):n=!1,n||ms(e)}function ug(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Je=Je.return}}function Eo(e){if(e!==Je)return!1;if(!zt)return ug(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||$f(e.type,e.memoizedProps)),s=!s),s&&oe&&ms(e),ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){oe=Un(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,_r(e.type)?(e=td,td=null,oe=e):oe=n):oe=Je?Un(e.stateNode.nextSibling):null;return!0}function Ao(){oe=Je=null,zt=!1}function cg(){var e=ds;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),ds=null),e}function bo(e){ds===null?ds=[e]:ds.push(e)}var kh=$(null),gs=null,Di=null;function ir(e,n,s){tt(kh,n._currentValue),n._currentValue=s}function xi(e){e._currentValue=kh.current,rt(kh)}function Vh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Uh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var S=0;S<n.length;S++)if(T.context===n[S]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Vh(d.return,s,e),o||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Vh(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function So(e,n,s,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;ln(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===we.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jo):e=[Jo])}h=h.return}e!==null&&Uh(n,e,s,o),n.flags|=262144}function fu(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ps(e){gs=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return hg(gs,e)}function du(e,n){return gs===null&&ps(e),hg(e,n)}function hg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Di===null){if(e===null)throw Error(a(308));Di=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Di=Di.next=n;return s}var WT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},JT=r.unstable_scheduleCallback,tE=r.unstable_NormalPriority,Ee={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new WT,data:new Map,refCount:0}}function wo(e){e.refCount--,e.refCount===0&&JT(tE,function(){e.controller.abort()})}var Ro=null,Lh=0,la=0,ua=null;function eE(e,n){if(Ro===null){var s=Ro=[];Lh=0,la=Bf(),ua={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Lh++,n.then(fg,fg),n}function fg(){if(--Lh===0&&Ro!==null){ua!==null&&(ua.status="fulfilled");var e=Ro;Ro=null,la=0,ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nE(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var dg=F.S;F.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&eE(e,n),dg!==null&&dg(e,n)};var ys=$(null);function jh(){var e=ys.current;return e!==null?e:Jt.pooledCache}function mu(e,n){n===null?tt(ys,ys.current):tt(ys,n.pool)}function mg(){var e=jh();return e===null?null:{parent:Ee._currentValue,pool:e}}var Io=Error(a(460)),gg=Error(a(474)),gu=Error(a(542)),zh={then:function(){}};function pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pu(){}function yg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(pu,pu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vg(e),e;default:if(typeof n.status=="string")n.then(pu,pu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vg(e),e}throw Co=n,Io}}var Co=null;function _g(){if(Co===null)throw Error(a(459));var e=Co;return Co=null,e}function vg(e){if(e===Io||e===gu)throw Error(a(483))}var rr=!1;function Bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=lu(e),sg(e,null,s),n}return ou(e,o,n,s),lu(e)}function No(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,no(e,s)}}function Hh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Fh=!1;function Do(){if(Fh){var e=ua;if(e!==null)throw e}}function xo(e,n,s,o){Fh=!1;var h=e.updateQueue;rr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var S=T,j=S.next;S.next=null,v===null?d=j:v.next=j,v=S;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=j:T.next=j,G.lastBaseUpdate=S))}if(d!==null){var Y=h.baseState;v=0,G=j=S=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(Vt&z)===z:(o&z)===z){z!==0&&z===la&&(Fh=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var yt=e,gt=T;z=n;var Xt=s;switch(gt.tag){case 1:if(yt=gt.payload,typeof yt=="function"){Y=yt.call(Xt,Y,z);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=gt.payload,z=typeof yt=="function"?yt.call(Xt,Y,z):yt,z==null)break t;Y=E({},Y,z);break t;case 2:rr=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(j=G=B,S=Y):G=G.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(S=Y),h.baseState=S,h.firstBaseUpdate=j,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),mr|=v,e.lanes=v,e.memoizedState=Y}}function Tg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Eg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Tg(s[e],n)}var ca=$(null),yu=$(0);function Ag(e,n){e=Li,tt(yu,e),tt(ca,n),Li=e|n.baseLanes}function Gh(){tt(yu,Li),tt(ca,ca.current)}function Kh(){Li=yu.current,rt(ca),rt(yu)}var or=0,Rt=null,Qt=null,ge=null,_u=!1,ha=!1,_s=!1,vu=0,Oo=0,fa=null,iE=0;function ce(){throw Error(a(321))}function Qh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!ln(e[s],n[s]))return!1;return!0}function Yh(e,n,s,o,h,d){return or=d,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?sp:ap,_s=!1,d=s(o,h),_s=!1,ha&&(d=Sg(n,s,o,h)),bg(e),d}function bg(e){F.H=wu;var n=Qt!==null&&Qt.next!==null;if(or=0,ge=Qt=Rt=null,_u=!1,Oo=0,fa=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&fu(e)&&(Ce=!0))}function Sg(e,n,s,o){Rt=e;var h=0;do{if(ha&&(fa=null),Oo=0,ha=!1,25<=h)throw Error(a(301));if(h+=1,ge=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=cE,d=n(s,o)}while(ha);return d}function rE(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Mo(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Xh(){var e=vu!==0;return vu=0,e}function $h(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Zh(e){if(_u){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}_u=!1}or=0,ge=Qt=Rt=null,ha=!1,Oo=vu=0,fa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Qt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=ge===null?Rt.memoizedState:ge.next;if(n!==null)ge=n,Qt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?Rt.memoizedState=ge=e:ge=ge.next=e}return ge}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(e){var n=Oo;return Oo+=1,fa===null&&(fa=[]),e=yg(fa,e,n),n=Rt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?sp:ap),e}function Tu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mo(e);if(e.$$typeof===it)return Fe(e)}throw Error(a(438,String(e)))}function Jh(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Wh(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Oi(e,n){return typeof n=="function"?n(e):n}function Eu(e){var n=pe();return tf(n,Qt,e)}function tf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=v=null,S=null,j=n,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Vt&Y)===Y:(or&Y)===Y){var z=j.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===la&&(G=!0);else if((or&z)===z){j=j.next,z===la&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(T=S=Y,v=d):S=S.next=Y,Rt.lanes|=z,mr|=z;Y=j.action,_s&&s(d,Y),d=j.hasEagerState?j.eagerState:s(d,Y)}else z={lane:Y,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(T=S=z,v=d):S=S.next=z,Rt.lanes|=Y,mr|=Y;j=j.next}while(j!==null&&j!==n);if(S===null?v=d:S.next=T,!ln(d,e.memoizedState)&&(Ce=!0,G&&(s=ua,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=S,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ef(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);ln(d,n.memoizedState)||(Ce=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function wg(e,n,s){var o=Rt,h=pe(),d=zt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!ln((Qt||h).memoizedState,s);v&&(h.memoizedState=s,Ce=!0),h=h.queue;var T=Cg.bind(null,o,h,e);if(ko(2048,8,T,[e]),h.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,da(9,Au(),Ig.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));d||(or&124)!==0||Rg(o,n,s)}return s}function Rg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Wh(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Ig(e,n,s,o){n.value=s,n.getSnapshot=o,Ng(n)&&Dg(e)}function Cg(e,n,s){return s(function(){Ng(n)&&Dg(e)})}function Ng(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!ln(e,s)}catch{return!0}}function Dg(e){var n=ra(e,2);n!==null&&mn(n,e,2)}function nf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),_s){an(!0);try{s()}finally{an(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n}function xg(e,n,s,o){return e.baseState=s,tf(e,Qt,typeof o=="function"?o:Oi)}function sE(e,n,s,o,h){if(Su(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,Og(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Og(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=F.T,v={};F.T=v;try{var T=s(h,o),S=F.S;S!==null&&S(v,T),Mg(e,n,T)}catch(j){rf(e,n,j)}finally{F.T=d}}else try{d=s(h,o),Mg(e,n,d)}catch(j){rf(e,n,j)}}function Mg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){kg(e,n,o)},function(o){return rf(e,n,o)}):kg(e,n,s)}function kg(e,n,s){n.status="fulfilled",n.value=s,Vg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Og(e,s)))}function rf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Vg(n),n=n.next;while(n!==o)}e.action=null}function Vg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ug(e,n){return n}function Pg(e,n){if(zt){var s=Jt.formState;if(s!==null){t:{var o=Rt;if(zt){if(oe){e:{for(var h=oe,d=Zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Un(h.nextSibling),o=h.data==="F!";break t}}ms(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:n},s.queue=o,s=np.bind(null,Rt,o),o.dispatch=s,o=nf(!1),d=uf.bind(null,Rt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=sE.bind(null,Rt,h,d,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Lg(e){var n=pe();return jg(n,Qt,e)}function jg(e,n,s){if(n=tf(e,n,Ug)[0],e=Eu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Mo(n)}catch(v){throw v===Io?gu:v}else o=n;n=pe();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,da(9,Au(),aE.bind(null,h,s),null)),[o,d,e]}function aE(e,n){e.action=n}function zg(e){var n=pe(),s=Qt;if(s!==null)return jg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function da(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Wh(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Au(){return{destroy:void 0,resource:void 0}}function Bg(){return pe().memoizedState}function bu(e,n,s,o){var h=tn();o=o===void 0?null:o,Rt.flags|=e,h.memoizedState=da(1|n,Au(),s,o)}function ko(e,n,s,o){var h=pe();o=o===void 0?null:o;var d=h.memoizedState.inst;Qt!==null&&o!==null&&Qh(o,Qt.memoizedState.deps)?h.memoizedState=da(n,d,s,o):(Rt.flags|=e,h.memoizedState=da(1|n,d,s,o))}function qg(e,n){bu(8390656,8,e,n)}function Hg(e,n){ko(2048,8,e,n)}function Fg(e,n){return ko(4,2,e,n)}function Gg(e,n){return ko(4,4,e,n)}function Kg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Qg(e,n,s){s=s!=null?s.concat([e]):null,ko(4,4,Kg.bind(null,n,e),s)}function sf(){}function Yg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Qh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Xg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Qh(n,o[1]))return o[0];if(o=e(),_s){an(!0);try{e()}finally{an(!1)}}return s.memoizedState=[o,n],o}function af(e,n,s){return s===void 0||(or&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Wp(),Rt.lanes|=e,mr|=e,s)}function $g(e,n,s,o){return ln(s,n)?s:ca.current!==null?(e=af(e,s,o),ln(e,n)||(Ce=!0),e):(or&42)===0?(Ce=!0,e.memoizedState=s):(e=Wp(),Rt.lanes|=e,mr|=e,n)}function Zg(e,n,s,o,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,uf(e,!1,n,s);try{var S=h(),j=F.S;if(j!==null&&j(T,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var G=nE(S,o);Vo(e,n,G,dn(e))}else Vo(e,n,o,dn(e))}catch(Y){Vo(e,n,{then:function(){},status:"rejected",reason:Y},dn())}finally{nt.p=d,F.T=v}}function oE(){}function of(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Wg(e).queue;Zg(e,h,n,lt,s===null?oE:function(){return Jg(e),s(o)})}function Wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:lt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Jg(e){var n=Wg(e).next.queue;Vo(e,n,{},dn())}function lf(){return Fe(Jo)}function tp(){return pe().memoizedState}function ep(){return pe().memoizedState}function lE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=dn();e=sr(s);var o=ar(n,e,s);o!==null&&(mn(o,n,s),No(o,n,s)),n={cache:Ph()},e.payload=n;return}n=n.return}}function uE(e,n,s){var o=dn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Su(e)?ip(n,s):(s=Ih(e,n,s,o),s!==null&&(mn(s,e,o),rp(s,n,o)))}function np(e,n,s){var o=dn();Vo(e,n,s,o)}function Vo(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Su(e))ip(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,ln(T,v))return ou(e,n,h,0),Jt===null&&au(),!1}catch{}finally{}if(s=Ih(e,n,h,o),s!==null)return mn(s,e,o),rp(s,n,o),!0}return!1}function uf(e,n,s,o){if(o={lane:2,revertLane:Bf(),action:o,hasEagerState:!1,eagerState:null,next:null},Su(e)){if(n)throw Error(a(479))}else n=Ih(e,s,o,2),n!==null&&mn(n,e,2)}function Su(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function ip(e,n){ha=_u=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function rp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,no(e,s)}}var wu={readContext:Fe,use:Tu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},sp={readContext:Fe,use:Tu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:qg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,bu(4194308,4,Kg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return bu(4194308,4,e,n)},useInsertionEffect:function(e,n){bu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(_s){an(!0);try{e()}finally{an(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(_s){an(!0);try{s(n)}finally{an(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=uE.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=nf(e);var n=e.queue,s=np.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:sf,useDeferredValue:function(e,n){var s=tn();return af(s,e,n)},useTransition:function(){var e=nf(!1);return e=Zg.bind(null,Rt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=tn();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Vt&124)!==0||Rg(o,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,qg(Cg.bind(null,o,d,e),[e]),o.flags|=2048,da(9,Au(),Ig.bind(null,o,d,s,n),null),s},useId:function(){var e=tn(),n=Jt.identifierPrefix;if(zt){var s=Ni,o=Ci;s=(o&~(1<<32-He(o)-1)).toString(32)+s,n=""+n+"R"+s,s=vu++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=iE++,n=""+n+"r"+s.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:lf,useFormState:Pg,useActionState:Pg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=uf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Jh,useCacheRefresh:function(){return tn().memoizedState=lE.bind(null,Rt)}},ap={readContext:Fe,use:Tu,useCallback:Yg,useContext:Fe,useEffect:Hg,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Eu,useRef:Bg,useState:function(){return Eu(Oi)},useDebugValue:sf,useDeferredValue:function(e,n){var s=pe();return $g(s,Qt.memoizedState,e,n)},useTransition:function(){var e=Eu(Oi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Mo(e),n]},useSyncExternalStore:wg,useId:tp,useHostTransitionStatus:lf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,n){var s=pe();return xg(s,Qt,e,n)},useMemoCache:Jh,useCacheRefresh:ep},cE={readContext:Fe,use:Tu,useCallback:Yg,useContext:Fe,useEffect:Hg,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:ef,useRef:Bg,useState:function(){return ef(Oi)},useDebugValue:sf,useDeferredValue:function(e,n){var s=pe();return Qt===null?af(s,e,n):$g(s,Qt.memoizedState,e,n)},useTransition:function(){var e=ef(Oi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Mo(e),n]},useSyncExternalStore:wg,useId:tp,useHostTransitionStatus:lf,useFormState:zg,useActionState:zg,useOptimistic:function(e,n){var s=pe();return Qt!==null?xg(s,Qt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:ep},ma=null,Uo=0;function Ru(e){var n=Uo;return Uo+=1,ma===null&&(ma=[]),yg(ma,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===I?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function op(e){var n=e._init;return n(e._payload)}function lp(e){function n(V,D){if(e){var L=V.deletions;L===null?(V.deletions=[D],V.flags|=16):L.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ii(V,D),V.index=0,V.sibling=null,V}function d(V,D,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<D?(V.flags|=67108866,D):L):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function v(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,D,L,K){return D===null||D.tag!==6?(D=Nh(L,V.mode,K),D.return=V,D):(D=h(D,L),D.return=V,D)}function S(V,D,L,K){var st=L.type;return st===Q?G(V,D,L.props.children,K,L.key):D!==null&&(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===b&&op(st)===D.type)?(D=h(D,L.props),Po(D,L),D.return=V,D):(D=uu(L.type,L.key,L.props,null,V.mode,K),Po(D,L),D.return=V,D)}function j(V,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Dh(L,V.mode,K),D.return=V,D):(D=h(D,L.children||[]),D.return=V,D)}function G(V,D,L,K,st){return D===null||D.tag!==7?(D=cs(L,V.mode,K,st),D.return=V,D):(D=h(D,L),D.return=V,D)}function Y(V,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Nh(""+D,V.mode,L),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return L=uu(D.type,D.key,D.props,null,V.mode,L),Po(L,D),L.return=V,L;case H:return D=Dh(D,V.mode,L),D.return=V,D;case b:var K=D._init;return D=K(D._payload),Y(V,D,L)}if(se(D)||U(D))return D=cs(D,V.mode,L,null),D.return=V,D;if(typeof D.then=="function")return Y(V,Ru(D),L);if(D.$$typeof===it)return Y(V,du(V,D),L);Iu(V,D)}return null}function z(V,D,L,K){var st=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return st!==null?null:T(V,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===st?S(V,D,L,K):null;case H:return L.key===st?j(V,D,L,K):null;case b:return st=L._init,L=st(L._payload),z(V,D,L,K)}if(se(L)||U(L))return st!==null?null:G(V,D,L,K,null);if(typeof L.then=="function")return z(V,D,Ru(L),K);if(L.$$typeof===it)return z(V,D,du(V,L),K);Iu(V,L)}return null}function B(V,D,L,K,st){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(L)||null,T(D,V,""+K,st);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case M:return V=V.get(K.key===null?L:K.key)||null,S(D,V,K,st);case H:return V=V.get(K.key===null?L:K.key)||null,j(D,V,K,st);case b:var Ct=K._init;return K=Ct(K._payload),B(V,D,L,K,st)}if(se(K)||U(K))return V=V.get(L)||null,G(D,V,K,st,null);if(typeof K.then=="function")return B(V,D,L,Ru(K),st);if(K.$$typeof===it)return B(V,D,L,du(D,K),st);Iu(D,K)}return null}function yt(V,D,L,K){for(var st=null,Ct=null,ot=D,pt=D=0,De=null;ot!==null&&pt<L.length;pt++){ot.index>pt?(De=ot,ot=null):De=ot.sibling;var Pt=z(V,ot,L[pt],K);if(Pt===null){ot===null&&(ot=De);break}e&&ot&&Pt.alternate===null&&n(V,ot),D=d(Pt,D,pt),Ct===null?st=Pt:Ct.sibling=Pt,Ct=Pt,ot=De}if(pt===L.length)return s(V,ot),zt&&fs(V,pt),st;if(ot===null){for(;pt<L.length;pt++)ot=Y(V,L[pt],K),ot!==null&&(D=d(ot,D,pt),Ct===null?st=ot:Ct.sibling=ot,Ct=ot);return zt&&fs(V,pt),st}for(ot=o(ot);pt<L.length;pt++)De=B(ot,V,pt,L[pt],K),De!==null&&(e&&De.alternate!==null&&ot.delete(De.key===null?pt:De.key),D=d(De,D,pt),Ct===null?st=De:Ct.sibling=De,Ct=De);return e&&ot.forEach(function(br){return n(V,br)}),zt&&fs(V,pt),st}function gt(V,D,L,K){if(L==null)throw Error(a(151));for(var st=null,Ct=null,ot=D,pt=D=0,De=null,Pt=L.next();ot!==null&&!Pt.done;pt++,Pt=L.next()){ot.index>pt?(De=ot,ot=null):De=ot.sibling;var br=z(V,ot,Pt.value,K);if(br===null){ot===null&&(ot=De);break}e&&ot&&br.alternate===null&&n(V,ot),D=d(br,D,pt),Ct===null?st=br:Ct.sibling=br,Ct=br,ot=De}if(Pt.done)return s(V,ot),zt&&fs(V,pt),st;if(ot===null){for(;!Pt.done;pt++,Pt=L.next())Pt=Y(V,Pt.value,K),Pt!==null&&(D=d(Pt,D,pt),Ct===null?st=Pt:Ct.sibling=Pt,Ct=Pt);return zt&&fs(V,pt),st}for(ot=o(ot);!Pt.done;pt++,Pt=L.next())Pt=B(ot,V,pt,Pt.value,K),Pt!==null&&(e&&Pt.alternate!==null&&ot.delete(Pt.key===null?pt:Pt.key),D=d(Pt,D,pt),Ct===null?st=Pt:Ct.sibling=Pt,Ct=Pt);return e&&ot.forEach(function(hA){return n(V,hA)}),zt&&fs(V,pt),st}function Xt(V,D,L,K){if(typeof L=="object"&&L!==null&&L.type===Q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:t:{for(var st=L.key;D!==null;){if(D.key===st){if(st=L.type,st===Q){if(D.tag===7){s(V,D.sibling),K=h(D,L.props.children),K.return=V,V=K;break t}}else if(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===b&&op(st)===D.type){s(V,D.sibling),K=h(D,L.props),Po(K,L),K.return=V,V=K;break t}s(V,D);break}else n(V,D);D=D.sibling}L.type===Q?(K=cs(L.props.children,V.mode,K,L.key),K.return=V,V=K):(K=uu(L.type,L.key,L.props,null,V.mode,K),Po(K,L),K.return=V,V=K)}return v(V);case H:t:{for(st=L.key;D!==null;){if(D.key===st)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(V,D.sibling),K=h(D,L.children||[]),K.return=V,V=K;break t}else{s(V,D);break}else n(V,D);D=D.sibling}K=Dh(L,V.mode,K),K.return=V,V=K}return v(V);case b:return st=L._init,L=st(L._payload),Xt(V,D,L,K)}if(se(L))return yt(V,D,L,K);if(U(L)){if(st=U(L),typeof st!="function")throw Error(a(150));return L=st.call(L),gt(V,D,L,K)}if(typeof L.then=="function")return Xt(V,D,Ru(L),K);if(L.$$typeof===it)return Xt(V,D,du(V,L),K);Iu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(V,D.sibling),K=h(D,L),K.return=V,V=K):(s(V,D),K=Nh(L,V.mode,K),K.return=V,V=K),v(V)):s(V,D)}return function(V,D,L,K){try{Uo=0;var st=Xt(V,D,L,K);return ma=null,st}catch(ot){if(ot===Io||ot===gu)throw ot;var Ct=un(29,ot,null,V.mode);return Ct.lanes=K,Ct.return=V,Ct}finally{}}}var ga=lp(!0),up=lp(!1),In=$(null),Wn=null;function lr(e){var n=e.alternate;tt(Ae,Ae.current&1),tt(In,e),Wn===null&&(n===null||ca.current!==null||n.memoizedState!==null)&&(Wn=e)}function cp(e){if(e.tag===22){if(tt(Ae,Ae.current),tt(In,e),Wn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Wn=e)}}else ur()}function ur(){tt(Ae,Ae.current),tt(In,In.current)}function Mi(e){rt(In),Wn===e&&(Wn=null),rt(Ae)}var Ae=$(0);function Cu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Jf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function cf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var hf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=dn(),h=sr(o);h.payload=n,s!=null&&(h.callback=s),n=ar(e,h,o),n!==null&&(mn(n,e,o),No(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=dn(),h=sr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ar(e,h,o),n!==null&&(mn(n,e,o),No(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=dn(),o=sr(s);o.tag=2,n!=null&&(o.callback=n),n=ar(e,o,s),n!==null&&(mn(n,e,s),No(n,e,s))}};function hp(e,n,s,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!vo(s,o)||!vo(h,d):!0}function fp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&hf.enqueueReplaceState(n,n.state,null)}function vs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dp(e){Nu(e)}function mp(e){console.error(e)}function gp(e){Nu(e)}function Du(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function pp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ff(e,n,s){return s=sr(s),s.tag=3,s.payload={element:null},s.callback=function(){Du(e,n)},s}function yp(e){return e=sr(e),e.tag=3,e}function _p(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){pp(n,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){pp(n,s,o),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function hE(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&So(n,s,h,!0),s=In.current,s!==null){switch(s.tag){case 13:return Wn===null?Uf():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===zh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Lf(e,o,h)),!1;case 22:return s.flags|=65536,o===zh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Lf(e,o,h)),!1}throw Error(a(435,s.tag))}return Lf(e,o,h),Uf(),!1}if(zt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Mh&&(e=Error(a(422),{cause:o}),bo(bn(e,s)))):(o!==Mh&&(n=Error(a(423),{cause:o}),bo(bn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=bn(o,s),h=ff(e.stateNode,o,h),Hh(e,h),le!==4&&(le=2)),!1;var d=Error(a(520),{cause:o});if(d=bn(d,s),Fo===null?Fo=[d]:Fo.push(d),le!==4&&(le=2),n===null)return!0;o=bn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=ff(s.stateNode,o,e),Hh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=yp(h),_p(h,e,s,o),Hh(s,h),!1}s=s.return}while(s!==null);return!1}var vp=Error(a(461)),Ce=!1;function Ve(e,n,s,o){n.child=e===null?up(n,null,s,o):ga(n,e.child,s,o)}function Tp(e,n,s,o,h){s=s.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return ps(n),o=Yh(e,n,s,v,d,h),T=Xh(),e!==null&&!Ce?($h(e,n,h),ki(e,n,h)):(zt&&T&&xh(n),n.flags|=1,Ve(e,n,o,h),n.child)}function Ep(e,n,s,o,h){if(e===null){var d=s.type;return typeof d=="function"&&!Ch(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Ap(e,n,d,o,h)):(e=uu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Tf(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:vo,s(v,o)&&e.ref===n.ref)return ki(e,n,h)}return n.flags|=1,e=Ii(d,o),e.ref=n.ref,e.return=n,n.child=e}function Ap(e,n,s,o,h){if(e!==null){var d=e.memoizedProps;if(vo(d,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=d,Tf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,ki(e,n,h)}return df(e,n,s,o,h)}function bp(e,n,s){var o=n.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Sp(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&mu(n,d!==null?d.cachePool:null),d!==null?Ag(n,d):Gh(),cp(n);else return n.lanes=n.childLanes=536870912,Sp(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(mu(n,d.cachePool),Ag(n,d),ur(),n.memoizedState=null):(e!==null&&mu(n,null),Gh(),ur());return Ve(e,n,h,s),n.child}function Sp(e,n,s,o){var h=jh();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&mu(n,null),Gh(),cp(n),e!==null&&So(e,n,o,!0),null}function xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function df(e,n,s,o,h){return ps(n),s=Yh(e,n,s,o,void 0,h),o=Xh(),e!==null&&!Ce?($h(e,n,h),ki(e,n,h)):(zt&&o&&xh(n),n.flags|=1,Ve(e,n,s,h),n.child)}function wp(e,n,s,o,h,d){return ps(n),n.updateQueue=null,s=Sg(n,o,s,h),bg(e),o=Xh(),e!==null&&!Ce?($h(e,n,d),ki(e,n,d)):(zt&&o&&xh(n),n.flags|=1,Ve(e,n,s,d),n.child)}function Rp(e,n,s,o,h){if(ps(n),n.stateNode===null){var d=sa,v=s.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Bh(n),v=s.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):sa,d.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(cf(n,s,v,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hf.enqueueReplaceState(d,d.state,null),xo(n,o,d,h),Do(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,S=vs(s,T);d.props=S;var j=d.context,G=s.contextType;v=sa,typeof G=="object"&&G!==null&&(v=Fe(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&fp(n,d,o,v),rr=!1;var z=n.memoizedState;d.state=z,xo(n,o,d,h),Do(),j=n.memoizedState,T||z!==j||rr?(typeof Y=="function"&&(cf(n,s,Y,o),j=n.memoizedState),(S=rr||hp(n,s,S,o,z,j,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),d.props=o,d.state=j,d.context=v,o=S):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,qh(e,n),v=n.memoizedProps,G=vs(s,v),d.props=G,Y=n.pendingProps,z=d.context,j=s.contextType,S=sa,typeof j=="object"&&j!==null&&(S=Fe(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||z!==S)&&fp(n,d,o,S),rr=!1,z=n.memoizedState,d.state=z,xo(n,o,d,h),Do();var B=n.memoizedState;v!==Y||z!==B||rr||e!==null&&e.dependencies!==null&&fu(e.dependencies)?(typeof T=="function"&&(cf(n,s,T,o),B=n.memoizedState),(G=rr||hp(n,s,G,o,z,B,S)||e!==null&&e.dependencies!==null&&fu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,S)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),d.props=o,d.state=B,d.context=S,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,xu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=ga(n,e.child,null,h),n.child=ga(n,null,s,h)):Ve(e,n,s,h),n.memoizedState=d.state,e=n.child):e=ki(e,n,h),e}function Ip(e,n,s,o){return Ao(),n.flags|=256,Ve(e,n,s,o),n.child}var mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(e){return{baseLanes:e,cachePool:mg()}}function pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Cn),e}function Cp(e,n,s){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?lr(n):ur(),zt){var T=oe,S;if(S=T){t:{for(S=T,T=Zn;S.nodeType!==8;){if(!T){T=null;break t}if(S=Un(S.nextSibling),S===null){T=null;break t}}T=S}T!==null?(n.memoizedState={dehydrated:T,treeContext:hs!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},S=un(18,null,null,0),S.stateNode=T,S.return=n,n.child=S,Je=n,oe=null,S=!0):S=!1}S||ms(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Jf(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=o.children,o=o.fallback,h?(ur(),h=n.mode,T=Ou({mode:"hidden",children:T},h),o=cs(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=gf(s),h.childLanes=pf(e,v,s),n.memoizedState=mf,o):(lr(n),yf(n,T))}if(S=e.memoizedState,S!==null&&(T=S.dehydrated,T!==null)){if(d)n.flags&256?(lr(n),n.flags&=-257,n=_f(e,n,s)):n.memoizedState!==null?(ur(),n.child=e.child,n.flags|=128,n=null):(ur(),h=o.fallback,T=n.mode,o=Ou({mode:"visible",children:o.children},T),h=cs(h,T,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ga(n,e.child,null,s),o=n.child,o.memoizedState=gf(s),o.childLanes=pf(e,v,s),n.memoizedState=mf,n=h);else if(lr(n),Jf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(a(419)),o.stack="",o.digest=v,bo({value:o,source:null,stack:null}),n=_f(e,n,s)}else if(Ce||So(e,n,s,!1),v=(s&e.childLanes)!==0,Ce||v){if(v=Jt,v!==null&&(o=s&-s,o=(o&42)!==0?1:$i(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,ra(e,o),mn(v,e,o),vp;T.data==="$?"||Uf(),n=_f(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,oe=Un(T.nextSibling),Je=n,zt=!0,ds=null,Zn=!1,e!==null&&(wn[Rn++]=Ci,wn[Rn++]=Ni,wn[Rn++]=hs,Ci=e.id,Ni=e.overflow,hs=n),n=yf(n,o.children),n.flags|=4096);return n}return h?(ur(),h=o.fallback,T=n.mode,S=e.child,j=S.sibling,o=Ii(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,j!==null?h=Ii(j,h):(h=cs(h,T,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=gf(s):(S=T.cachePool,S!==null?(j=Ee._currentValue,S=S.parent!==j?{parent:j,pool:j}:S):S=mg(),T={baseLanes:T.baseLanes|s,cachePool:S}),h.memoizedState=T,h.childLanes=pf(e,v,s),n.memoizedState=mf,o):(lr(n),s=e.child,e=s.sibling,s=Ii(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function yf(e,n){return n=Ou({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ou(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _f(e,n,s){return ga(n,e.child,null,s),e=yf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Np(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Vh(e.return,n,s)}function vf(e,n,s,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function Dp(e,n,s){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(Ve(e,n,o.children,s),o=Ae.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Np(e,s,n);else if(e.tag===19)Np(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(tt(Ae,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Cu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),vf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Cu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}vf(n,!0,s,null,d);break;case"together":vf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ki(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),mr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(So(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ii(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ii(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Tf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fu(e)))}function fE(e,n,s){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),ir(n,Ee,e.memoizedState.cache),Ao();break;case 27:case 5:Xi(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(lr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Cp(e,n,s):(lr(n),e=ki(e,n,s),e!==null?e.sibling:null);lr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(So(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Dp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(Ae,Ae.current),o)break;return null;case 22:case 23:return n.lanes=0,bp(e,n,s);case 24:ir(n,Ee,e.memoizedState.cache)}return ki(e,n,s)}function xp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Tf(e,s)&&(n.flags&128)===0)return Ce=!1,fE(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&og(n,hu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Ch(o)?(e=vs(o,e),n.tag=1,n=Rp(null,n,o,e,s)):(n.tag=0,n=df(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===ht){n.tag=11,n=Tp(null,n,o,e,s);break t}else if(h===O){n.tag=14,n=Ep(null,n,o,e,s);break t}}throw n=Oe(o)||o,Error(a(306,n,""))}}return n;case 0:return df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=vs(o,n.pendingProps),Rp(e,n,o,h,s);case 3:t:{if(Wt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,qh(e,n),xo(n,o,null,s);var v=n.memoizedState;if(o=v.cache,ir(n,Ee,o),o!==d.cache&&Uh(n,[Ee],s,!0),Do(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Ip(e,n,o,s);break t}else if(o!==h){h=bn(Error(a(424)),n),bo(h),n=Ip(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Un(e.firstChild),Je=n,zt=!0,ds=null,Zn=!0,s=up(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ao(),o===h){n=ki(e,n,s);break t}Ve(e,n,o,s)}n=n.child}return n;case 26:return xu(e,n),e===null?(s=Vy(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=Ku(_t.current).createElement(s),o[_e]=n,o[de]=e,Pe(o,s,e),ue(o),n.stateNode=o):n.memoizedState=Vy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Xi(n),e===null&&zt&&(o=n.stateNode=Oy(n.type,n.pendingProps,_t.current),Je=n,Zn=!0,h=oe,_r(n.type)?(td=h,oe=Un(o.firstChild)):oe=h),Ve(e,n,n.pendingProps.children,s),xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=oe)&&(o=zE(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,Je=n,oe=Un(o.firstChild),Zn=!1,h=!0):h=!1),h||ms(n)),Xi(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,$f(h,d)?o=null:v!==null&&$f(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Yh(e,n,rE,null,null,s),Jo._currentValue=h),xu(e,n),Ve(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=oe)&&(s=BE(s,n.pendingProps,Zn),s!==null?(n.stateNode=s,Je=n,oe=null,e=!0):e=!1),e||ms(n)),null;case 13:return Cp(e,n,s);case 4:return Wt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ga(n,null,o,s):Ve(e,n,o,s),n.child;case 11:return Tp(e,n,n.type,n.pendingProps,s);case 7:return Ve(e,n,n.pendingProps,s),n.child;case 8:return Ve(e,n,n.pendingProps.children,s),n.child;case 12:return Ve(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ir(n,n.type,o.value),Ve(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ps(n),h=Fe(h),o=o(h),n.flags|=1,Ve(e,n,o,s),n.child;case 14:return Ep(e,n,n.type,n.pendingProps,s);case 15:return Ap(e,n,n.type,n.pendingProps,s);case 19:return Dp(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Ou(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ii(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return bp(e,n,s);case 24:return ps(n),o=Fe(Ee),e===null?(h=jh(),h===null&&(h=Jt,d=Ph(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:o,cache:h},Bh(n),ir(n,Ee,h)):((e.lanes&s)!==0&&(qh(e,n),xo(n,null,null,s),Do()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ir(n,Ee,o)):(o=d.cache,ir(n,Ee,o),o!==h.cache&&Uh(n,[Ee],s,!0))),Ve(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Vi(e){e.flags|=4}function Op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zy(n)){if(n=In.current,n!==null&&((Vt&4194048)===Vt?Wn!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||n!==Wn))throw Co=zh,gg;e.flags|=8192}}function Mu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?to():536870912,e.lanes|=n,va|=n)}function Lo(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function dE(e,n,s){var o=n.pendingProps;switch(Oh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Ee),jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Eo(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cg())),ie(n),null;case 26:return s=n.memoizedState,e===null?(Vi(n),s!==null?(ie(n),Op(n,s)):(ie(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Vi(n),ie(n),Op(n,s)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==o&&Vi(n),ie(n),n.flags&=-16777217),null;case 27:mi(n),s=_t.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=ft.current,Eo(n)?lg(n):(e=Oy(h,o,s),n.stateNode=e,Vi(n))}return ie(n),null;case 5:if(mi(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(e=ft.current,Eo(n))lg(n);else{switch(h=Ku(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[_e]=n,e[de]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Pe(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=_t.current,Eo(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||wy(e.nodeValue,s)),e||ms(n)}else e=Ku(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Eo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Ao(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=cg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Mu(n,n.updateQueue),ie(n),null;case 4:return jn(),e===null&&Gf(n.stateNode.containerInfo),ie(n),null;case 10:return xi(n.type),ie(n),null;case 19:if(rt(Ae),h=n.memoizedState,h===null)return ie(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Lo(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Cu(e),d!==null){for(n.flags|=128,Lo(h,!1),e=d.updateQueue,n.updateQueue=e,Mu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)ag(s,e),s=s.sibling;return tt(Ae,Ae.current&1|2),n.child}e=e.sibling}h.tail!==null&&yn()>Uu&&(n.flags|=128,o=!0,Lo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Cu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Mu(n,e),Lo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return ie(n),null}else 2*yn()-h.renderingStartTime>Uu&&s!==536870912&&(n.flags|=128,o=!0,Lo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=yn(),n.sibling=null,e=Ae.current,tt(Ae,o?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Mi(n),Kh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Mu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&rt(ys),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),xi(Ee),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function mE(e,n){switch(Oh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Ee),jn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 13:if(Mi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ao()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(Ae),null;case 4:return jn(),null;case 10:return xi(n.type),null;case 22:case 23:return Mi(n),Kh(),e!==null&&rt(ys),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Ee),null;case 25:return null;default:return null}}function Mp(e,n){switch(Oh(n),n.tag){case 3:xi(Ee),jn();break;case 26:case 27:case 5:mi(n);break;case 4:jn();break;case 13:Mi(n);break;case 19:rt(Ae);break;case 10:xi(n.type);break;case 22:case 23:Mi(n),Kh(),e!==null&&rt(ys);break;case 24:xi(Ee)}}function jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==h)}}catch(T){$t(n,n.return,T)}}function cr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var S=s,j=T;try{j()}catch(G){$t(h,S,G)}}}o=o.next}while(o!==d)}}catch(G){$t(n,n.return,G)}}function kp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Eg(n,s)}catch(o){$t(e,e.return,o)}}}function Vp(e,n,s){s.props=vs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Jn(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Up(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Ef(e,n,s){try{var o=e.stateNode;VE(o,e.type,s,n),o[de]=n}catch(h){$t(e,e.return,h)}}function Pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_r(e.type)||e.tag===4}function Af(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_r(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gu));else if(o!==4&&(o===27&&_r(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(bf(e,n,s),e=e.sibling;e!==null;)bf(e,n,s),e=e.sibling}function ku(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&_r(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ku(e,n,s),e=e.sibling;e!==null;)ku(e,n,s),e=e.sibling}function Lp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Pe(n,o,s),n[_e]=e,n[de]=s}catch(d){$t(e,e.return,d)}}var Ui=!1,he=!1,Sf=!1,jp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function gE(e,n){if(e=e.containerInfo,Yf=Wu,e=$m(e),Eh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,S=-1,j=0,G=0,Y=e,z=null;e:for(;;){for(var B;Y!==s||h!==0&&Y.nodeType!==3||(T=v+h),Y!==d||o!==0&&Y.nodeType!==3||(S=v+o),Y.nodeType===3&&(v+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===s&&++j===h&&(T=v),z===d&&++G===o&&(S=v),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}s=T===-1||S===-1?null:{start:T,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Xf={focusedElem:e,selectionRange:s},Wu=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var yt=vs(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(yt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Wf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function zp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:hr(e,s),o&4&&jo(5,s);break;case 1:if(hr(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(s,s.return,v)}else{var h=vs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(s,s.return,v)}}o&64&&kp(s),o&512&&zo(s,s.return);break;case 3:if(hr(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Eg(e,n)}catch(v){$t(s,s.return,v)}}break;case 27:n===null&&o&4&&Lp(s);case 26:case 5:hr(e,s),n===null&&o&4&&Up(s),o&512&&zo(s,s.return);break;case 12:hr(e,s);break;case 13:hr(e,s),o&4&&Hp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=SE.bind(null,s),qE(e,s))));break;case 22:if(o=s.memoizedState!==null||Ui,!o){n=n!==null&&n.memoizedState!==null||he,h=Ui;var d=he;Ui=o,(he=n)&&!d?fr(e,s,(s.subtreeFlags&8772)!==0):hr(e,s),Ui=h,he=d}break;case 30:break;default:hr(e,s)}}function Bp(e){var n=e.alternate;n!==null&&(e.alternate=null,Bp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ji(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,en=!1;function Pi(e,n,s){for(s=s.child;s!==null;)qp(e,n,s),s=s.sibling}function qp(e,n,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ae,s)}catch{}switch(s.tag){case 26:he||Jn(s,n),Pi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:he||Jn(s,n);var o=ee,h=en;_r(s.type)&&(ee=s.stateNode,en=!1),Pi(e,n,s),Xo(s.stateNode),ee=o,en=h;break;case 5:he||Jn(s,n);case 6:if(o=ee,h=en,ee=null,Pi(e,n,s),ee=o,en=h,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(s.stateNode)}catch(d){$t(s,n,d)}else try{ee.removeChild(s.stateNode)}catch(d){$t(s,n,d)}break;case 18:ee!==null&&(en?(e=ee,Dy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),il(e)):Dy(ee,s.stateNode));break;case 4:o=ee,h=en,ee=s.stateNode.containerInfo,en=!0,Pi(e,n,s),ee=o,en=h;break;case 0:case 11:case 14:case 15:he||cr(2,s,n),he||cr(4,s,n),Pi(e,n,s);break;case 1:he||(Jn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Vp(s,n,o)),Pi(e,n,s);break;case 21:Pi(e,n,s);break;case 22:he=(o=he)||s.memoizedState!==null,Pi(e,n,s),he=o;break;default:Pi(e,n,s)}}function Hp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{il(e)}catch(s){$t(n,n.return,s)}}function pE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new jp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new jp),n;default:throw Error(a(435,e.tag))}}function wf(e,n){var s=pE(e);n.forEach(function(o){var h=wE.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function cn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(_r(T.type)){ee=T.stateNode,en=!1;break t}break;case 5:ee=T.stateNode,en=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(ee===null)throw Error(a(160));qp(d,v,h),ee=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fp(n,e),n=n.sibling}var Vn=null;function Fp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(cr(3,e,e.return),jo(3,e),cr(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(he||s===null||Jn(s,s.return)),o&64&&Ui&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Vn;if(cn(n,e),hn(e),o&512&&(he||s===null||Jn(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Yr]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Pe(d,o,s),d[_e]=e,ue(d),o=d;break t;case"link":var v=Ly("link","href",h).get(o+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(o),Pe(d,o,s),h.head.appendChild(d);break;case"meta":if(v=Ly("meta","content",h).get(o+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=h.createElement(o),Pe(d,o,s),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[_e]=e,ue(d),o=d}e.stateNode=o}else jy(h,e.type,e.stateNode);else e.stateNode=Py(h,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?jy(h,e.type,e.stateNode):Py(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,s.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(he||s===null||Jn(s,s.return)),s!==null&&o&4&&Ef(e,e.memoizedProps,s.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(he||s===null||Jn(s,s.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ef(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Sf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(Xu=null,h=Vn,Vn=Qu(n.containerInfo),cn(n,e),Vn=h,hn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{il(n.containerInfo)}catch(B){$t(e,e.return,B)}Sf&&(Sf=!1,Gp(e));break;case 4:o=Vn,Vn=Qu(e.stateNode.containerInfo),cn(n,e),hn(e),Vn=o;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(xf=yn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 22:h=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,j=Ui,G=he;if(Ui=j||h,he=G||S,cn(n,e),he=G,Ui=j,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||S||Ui||he||Ts(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){S=s=n;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=S.stateNode;var Y=S.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(S,S.return,B)}}}else if(n.tag===6){if(s===null){S=n;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(B){$t(S,S.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,wf(e,s))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Pp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Af(e);ku(e,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(vn(v,""),s.flags&=-33);var T=Af(e);ku(e,T,v);break;case 3:case 4:var S=s.stateNode.containerInfo,j=Af(e);bf(e,j,S);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function Ts(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:cr(4,n,n.return),Ts(n);break;case 1:Jn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Vp(n,n.return,s),Ts(n);break;case 27:Xo(n.stateNode);case 26:case 5:Jn(n,n.return),Ts(n);break;case 22:n.memoizedState===null&&Ts(n);break;case 30:Ts(n);break;default:Ts(n)}e=e.sibling}}function fr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:fr(h,d,s),jo(4,d);break;case 1:if(fr(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)Tg(S[h],T)}catch(j){$t(o,o.return,j)}}s&&v&64&&kp(d),zo(d,d.return);break;case 27:Lp(d);case 26:case 5:fr(h,d,s),s&&o===null&&v&4&&Up(d),zo(d,d.return);break;case 12:fr(h,d,s);break;case 13:fr(h,d,s),s&&v&4&&Hp(h,d);break;case 22:d.memoizedState===null&&fr(h,d,s),zo(d,d.return);break;case 30:break;default:fr(h,d,s)}n=n.sibling}}function Rf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&wo(s))}function If(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wo(e))}function ti(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kp(e,n,s,o),n=n.sibling}function Kp(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,s,o),h&2048&&jo(9,n);break;case 1:ti(e,n,s,o);break;case 3:ti(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wo(e)));break;case 12:if(h&2048){ti(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){$t(n,n.return,S)}}else ti(e,n,s,o);break;case 13:ti(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ti(e,n,s,o):Bo(e,n):d._visibility&2?ti(e,n,s,o):(d._visibility|=2,pa(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Rf(v,n);break;case 24:ti(e,n,s,o),h&2048&&If(n.alternate,n);break;default:ti(e,n,s,o)}}function pa(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=s,S=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:pa(d,v,T,S,h),jo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?pa(d,v,T,S,h):Bo(d,v):(G._visibility|=2,pa(d,v,T,S,h)),h&&j&2048&&Rf(v.alternate,v);break;case 24:pa(d,v,T,S,h),h&&j&2048&&If(v.alternate,v);break;default:pa(d,v,T,S,h)}n=n.sibling}}function Bo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Bo(s,o),h&2048&&Rf(o.alternate,o);break;case 24:Bo(s,o),h&2048&&If(o.alternate,o);break;default:Bo(s,o)}n=n.sibling}}var qo=8192;function ya(e){if(e.subtreeFlags&qo)for(e=e.child;e!==null;)Qp(e),e=e.sibling}function Qp(e){switch(e.tag){case 26:ya(e),e.flags&qo&&e.memoizedState!==null&&eA(Vn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var n=Vn;Vn=Qu(e.stateNode.containerInfo),ya(e),Vn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=qo,qo=16777216,ya(e),qo=n):ya(e));break;default:ya(e)}}function Yp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ho(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ne=o,$p(o,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:Ho(e),e.flags&2048&&cr(9,e,e.return);break;case 3:Ho(e);break;case 12:Ho(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vu(e)):Ho(e);break;default:Ho(e)}}function Vu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ne=o,$p(o,e)}Yp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:cr(8,n,n.return),Vu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Vu(n));break;default:Vu(n)}e=e.sibling}}function $p(e,n){for(;Ne!==null;){var s=Ne;switch(s.tag){case 0:case 11:case 15:cr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:wo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ne=o;else t:for(s=e;Ne!==null;){o=Ne;var h=o.sibling,d=o.return;if(Bp(o),o===s){Ne=null;break t}if(h!==null){h.return=d,Ne=h;break t}Ne=d}}}var yE={getCacheForType:function(e){var n=Fe(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},_E=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Nt=null,Vt=0,Ft=0,fn=null,dr=!1,_a=!1,Cf=!1,Li=0,le=0,mr=0,Es=0,Nf=0,Cn=0,va=0,Fo=null,nn=null,Df=!1,xf=0,Uu=1/0,Pu=null,gr=null,Ue=0,pr=null,Ta=null,Ea=0,Of=0,Mf=null,Zp=null,Go=0,kf=null;function dn(){if((Ht&2)!==0&&Vt!==0)return Vt&-Vt;if(F.T!==null){var e=la;return e!==0?e:Bf()}return Zi()}function Wp(){Cn===0&&(Cn=(Vt&536870912)===0||zt?Ja():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function mn(e,n,s){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),yr(e,Vt,Cn,!1)),pi(e,s),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(Es|=s),le===4&&yr(e,Vt,Cn,!1)),ei(e))}function Jp(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Qr(e,n),h=o?EE(e,n):Pf(e,n,!0),d=o;do{if(h===0){_a&&!o&&yr(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!vE(s)){h=Pf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=Fo;var S=T.current.memoizedState.isDehydrated;if(S&&(Aa(T,v).flags|=256),v=Pf(T,v,!1),v!==2){if(Cf&&!S){T.errorRecoveryDisabledLanes|=d,Es|=d,h=4;break t}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Aa(e,0),yr(e,n,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:yr(o,n,Cn,!dr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=xf+300-yn(),10<h)){if(yr(o,n,Cn,!dr),js(o,0,!0)!==0)break t;o.timeoutHandle=Cy(ty.bind(null,o,s,nn,Pu,Df,n,Cn,Es,va,dr,d,2,-0,0),h);break t}ty(o,s,nn,Pu,Df,n,Cn,Es,va,dr,d,0,-0,0)}}break}while(!0);ei(e)}function ty(e,n,s,o,h,d,v,T,S,j,G,Y,z,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Wo={stylesheets:null,count:0,unsuspend:tA},Qp(n),Y=nA(),Y!==null)){e.cancelPendingCommit=Y(oy.bind(null,e,n,d,s,o,h,v,T,S,G,1,z,B)),yr(e,d,v,!j);return}oy(e,n,d,s,o,h,v,T,S)}function vE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yr(e,n,s,o){n&=~Nf,n&=~Es,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-He(h),v=1<<d;o[d]=-1,h&=~v}s!==0&&zn(e,s,n)}function Lu(){return(Ht&6)===0?(Ko(0),!1):!0}function Vf(){if(Nt!==null){if(Ft===0)var e=Nt.return;else e=Nt,Di=gs=null,Zh(e),ma=null,Uo=0,e=Nt;for(;e!==null;)Mp(e.alternate,e),e=e.return;Nt=null}}function Aa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,PE(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Vf(),Jt=e,Nt=s=Ii(e.current,null),Vt=n,Ft=0,fn=null,dr=!1,_a=Qr(e,n),Cf=!1,va=Cn=Nf=Es=mr=le=0,nn=Fo=null,Df=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-He(o),d=1<<h;n|=e[h],o&=~d}return Li=n,au(),s}function ey(e,n){Rt=null,F.H=wu,n===Io||n===gu?(n=_g(),Ft=3):n===gg?(n=_g(),Ft=4):Ft=n===vp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Nt===null&&(le=1,Du(e,bn(n,e.current)))}function ny(){var e=F.H;return F.H=wu,e===null?wu:e}function iy(){var e=F.A;return F.A=yE,e}function Uf(){le=4,dr||(Vt&4194048)!==Vt&&In.current!==null||(_a=!0),(mr&134217727)===0&&(Es&134217727)===0||Jt===null||yr(Jt,Vt,Cn,!1)}function Pf(e,n,s){var o=Ht;Ht|=2;var h=ny(),d=iy();(Jt!==e||Vt!==n)&&(Pu=null,Aa(e,n)),n=!1;var v=le;t:do try{if(Ft!==0&&Nt!==null){var T=Nt,S=fn;switch(Ft){case 8:Vf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var j=Ft;if(Ft=0,fn=null,ba(e,T,S,j),s&&_a){v=0;break t}break;default:j=Ft,Ft=0,fn=null,ba(e,T,S,j)}}TE(),v=le;break}catch(G){ey(e,G)}while(!0);return n&&e.shellSuspendCounter++,Di=gs=null,Ht=o,F.H=h,F.A=d,Nt===null&&(Jt=null,Vt=0,au()),v}function TE(){for(;Nt!==null;)ry(Nt)}function EE(e,n){var s=Ht;Ht|=2;var o=ny(),h=iy();Jt!==e||Vt!==n?(Pu=null,Uu=yn()+500,Aa(e,n)):_a=Qr(e,n);t:do try{if(Ft!==0&&Nt!==null){n=Nt;var d=fn;e:switch(Ft){case 1:Ft=0,fn=null,ba(e,n,d,1);break;case 2:case 9:if(pg(d)){Ft=0,fn=null,sy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ei(e)},d.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:pg(d)?(Ft=0,fn=null,sy(n)):(Ft=0,fn=null,ba(e,n,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||zy(v)){Ft=0,fn=null;var S=T.sibling;if(S!==null)Nt=S;else{var j=T.return;j!==null?(Nt=j,ju(j)):Nt=null}break e}}Ft=0,fn=null,ba(e,n,d,5);break;case 6:Ft=0,fn=null,ba(e,n,d,6);break;case 8:Vf(),le=6;break t;default:throw Error(a(462))}}AE();break}catch(G){ey(e,G)}while(!0);return Di=gs=null,F.H=o,F.A=h,Ht=s,Nt!==null?0:(Jt=null,Vt=0,au(),le)}function AE(){for(;Nt!==null&&!Xa();)ry(Nt)}function ry(e){var n=xp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,n===null?ju(e):Nt=n}function sy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=wp(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=wp(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:Zh(n);default:Mp(s,n),n=Nt=ag(n,Li),n=xp(s,n,Li)}e.memoizedProps=e.pendingProps,n===null?ju(e):Nt=n}function ba(e,n,s,o){Di=gs=null,Zh(n),ma=null,Uo=0;var h=n.return;try{if(hE(e,h,n,s,Vt)){le=1,Du(e,bn(s,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;le=1,Du(e,bn(s,e.current)),Nt=null;return}n.flags&32768?(zt||o===1?e=!0:_a||(Vt&536870912)!==0?e=!1:(dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),ay(n,e)):ju(n)}function ju(e){var n=e;do{if((n.flags&32768)!==0){ay(n,dr);return}e=n.return;var s=dE(n.alternate,n,Li);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);le===0&&(le=5)}function ay(e,n){do{var s=mE(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);le=6,Nt=null}function oy(e,n,s,o,h,d,v,T,S){e.cancelPendingCommit=null;do zu();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Rh,eo(e,s,d,v,T,S),e===Jt&&(Nt=Jt=null,Vt=0),Ta=n,pr=e,Ea=s,Of=d,Mf=h,Zp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,RE(Hr,function(){return fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,v=Ht,Ht|=4;try{gE(e,n,s)}finally{Ht=v,nt.p=h,F.T=o}}Ue=1,ly(),uy(),cy()}}function ly(){if(Ue===1){Ue=0;var e=pr,n=Ta,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Fp(n,e);var d=Xf,v=$m(e.containerInfo),T=d.focusedElem,S=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Xm(T.ownerDocument.documentElement,T)){if(S!==null&&Eh(T)){var j=S.start,G=S.end;if(G===void 0&&(G=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=T.textContent.length,gt=Math.min(S.start,yt),Xt=S.end===void 0?gt:Math.min(S.end,yt);!B.extend&&gt>Xt&&(v=Xt,Xt=gt,gt=v);var V=Ym(T,gt),D=Ym(T,Xt);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),B.removeAllRanges(),gt>Xt?(B.addRange(L),B.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),B.addRange(L))}}}}for(Y=[],B=T;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Wu=!!Yf,Xf=Yf=null}finally{Ht=h,nt.p=o,F.T=s}}e.current=n,Ue=2}}function uy(){if(Ue===2){Ue=0;var e=pr,n=Ta,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{zp(e,n.alternate,n)}finally{Ht=h,nt.p=o,F.T=s}}Ue=3}}function cy(){if(Ue===4||Ue===3){Ue=0,Vl();var e=pr,n=Ta,s=Ea,o=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ta=pr=null,hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gr=null),zs(s),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{F.T=n,nt.p=h}}(Ea&3)!==0&&zu(),ei(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===kf?Go++:(Go=0,kf=e):Go=0,Ko(0)}}function hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,wo(n)))}function zu(e){return ly(),uy(),cy(),fy()}function fy(){if(Ue!==5)return!1;var e=pr,n=Of;Of=0;var s=zs(Ea),o=F.T,h=nt.p;try{nt.p=32>s?32:s,F.T=null,s=Mf,Mf=null;var d=pr,v=Ea;if(Ue=0,Ta=pr=null,Ea=0,(Ht&6)!==0)throw Error(a(331));var T=Ht;if(Ht|=4,Xp(d.current),Kp(d,d.current,v,s),Ht=T,Ko(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{nt.p=h,F.T=o,hy(e,n)}}function dy(e,n,s){n=bn(s,n),n=ff(e.stateNode,n,2),e=ar(e,n,2),e!==null&&(pi(e,2),ei(e))}function $t(e,n,s){if(e.tag===3)dy(e,e,s);else for(;n!==null;){if(n.tag===3){dy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gr===null||!gr.has(o))){e=bn(s,e),s=yp(2),o=ar(n,s,2),o!==null&&(_p(s,o,n,e),pi(o,2),ei(o));break}}n=n.return}}function Lf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new _E;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Cf=!0,h.add(s),e=bE.bind(null,e,n,s),n.then(e,e))}function bE(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Vt&s)===s&&(le===4||le===3&&(Vt&62914560)===Vt&&300>yn()-xf?(Ht&2)===0&&Aa(e,0):Nf|=s,va===Vt&&(va=0)),ei(e)}function my(e,n){n===0&&(n=to()),e=ra(e,n),e!==null&&(pi(e,n),ei(e))}function SE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),my(e,s)}function wE(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),my(e,s)}function RE(e,n){return Br(e,n)}var Bu=null,Sa=null,jf=!1,qu=!1,zf=!1,As=0;function ei(e){e!==Sa&&e.next===null&&(Sa===null?Bu=Sa=e:Sa=Sa.next=e),qu=!0,jf||(jf=!0,CE())}function Ko(e,n){if(!zf&&qu){zf=!0;do for(var s=!1,o=Bu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-He(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,_y(o,d))}else d=Vt,d=js(o,o===Jt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Qr(o,d)||(s=!0,_y(o,d));o=o.next}while(s);zf=!1}}function IE(){gy()}function gy(){qu=jf=!1;var e=0;As!==0&&(UE()&&(e=As),As=0);for(var n=yn(),s=null,o=Bu;o!==null;){var h=o.next,d=py(o,n);d===0?(o.next=null,s===null?Bu=h:s.next=h,h===null&&(Sa=s)):(s=o,(e!==0||(d&3)!==0)&&(qu=!0)),o=h}Ko(e)}function py(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-He(d),T=1<<v,S=h[v];S===-1?((T&s)===0||(T&o)!==0)&&(h[v]=Wa(T,n)):S<=n&&(e.expiredLanes|=T),d&=~T}if(n=Jt,s=Vt,s=js(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&qr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Qr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&qr(o),zs(s)){case 2:case 8:s=Ps;break;case 32:s=Hr;break;case 268435456:s=Ls;break;default:s=Hr}return o=yy.bind(null,e),s=Br(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&qr(o),e.callbackPriority=2,e.callbackNode=null,2}function yy(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(zu()&&e.callbackNode!==s)return null;var o=Vt;return o=js(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Jp(e,o,n),py(e,yn()),e.callbackNode!=null&&e.callbackNode===s?yy.bind(null,e):null)}function _y(e,n){if(zu())return null;Jp(e,n,!0)}function CE(){LE(function(){(Ht&6)!==0?Br($a,IE):gy()})}function Bf(){return As===0&&(As=Ja()),As}function vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Ty(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function NE(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var d=vy((h[de]||null).action),v=o.submitter;v&&(n=(n=v[de]||null)?vy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Qs("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(As!==0){var S=v?Ty(h,v):new FormData(h);of(s,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(T.preventDefault(),S=v?Ty(h,v):new FormData(h),of(s,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var qf=0;qf<wh.length;qf++){var Hf=wh[qf],DE=Hf.toLowerCase(),xE=Hf[0].toUpperCase()+Hf.slice(1);kn(DE,"on"+xE)}kn(Jm,"onAnimationEnd"),kn(tg,"onAnimationIteration"),kn(eg,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(YT,"onTransitionRun"),kn(XT,"onTransitionStart"),kn($T,"onTransitionCancel"),kn(ng,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function Ey(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],S=T.instance,j=T.currentTarget;if(T=T.listener,S!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(G){Nu(G)}h.currentTarget=null,d=S}else for(v=0;v<o.length;v++){if(T=o[v],S=T.instance,j=T.currentTarget,T=T.listener,S!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(G){Nu(G)}h.currentTarget=null,d=S}}}}function Dt(e,n){var s=n[io];s===void 0&&(s=n[io]=new Set);var o=e+"__bubble";s.has(o)||(Ay(n,e,2,!1),s.add(o))}function Ff(e,n,s){var o=0;n&&(o|=4),Ay(s,e,o,n)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[Hu]){e[Hu]=!0,ro.forEach(function(s){s!=="selectionchange"&&(OE.has(s)||Ff(s,!1,e),Ff(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Hu]||(n[Hu]=!0,Ff("selectionchange",!1,n))}}function Ay(e,n,s,o){switch(Ky(n)){case 2:var h=sA;break;case 8:h=aA;break;default:h=sd}s=h.bind(null,n,s,e),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Kf(e,n,s,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=yi(T),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){o=d=v;continue t}T=T.parentNode}}o=o.return}Gl(function(){var j=d,G=Tn(s),Y=[];t:{var z=ig.get(e);if(z!==void 0){var B=Qs,yt=e;switch(e){case"keypress":if(Kn(s)===0)break t;case"keydown":case"keyup":B=Js;break;case"focusin":yt="focus",B=$s;break;case"focusout":yt="blur",B=$s;break;case"beforeblur":case"afterblur":B=$s;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Jl;break;case Jm:case tg:case eg:B=Zs;break;case ng:B=eu;break;case"scroll":case"scrollend":B=Kl;break;case"wheel":B=ta;break;case"copy":case"cut":case"paste":B=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=yo;break;case"toggle":case"beforetoggle":B=iu}var gt=(n&4)!==0,Xt=!gt&&(e==="scroll"||e==="scrollend"),V=gt?z!==null?z+"Capture":null:z;gt=[];for(var D=j,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||V===null||(K=es(D,V),K!=null&&gt.push(Yo(D,K,L))),Xt)break;D=D.return}0<gt.length&&(z=new B(z,yt,null,s,G),Y.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==Ei&&(yt=s.relatedTarget||s.fromElement)&&(yi(yt)||yt[_n]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=s.relatedTarget||s.toElement,B=j,yt=yt?yi(yt):null,yt!==null&&(Xt=c(yt),gt=yt.tag,yt!==Xt||gt!==5&&gt!==27&&gt!==6)&&(yt=null)):(B=null,yt=j),B!==yt)){if(gt=An,K="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=yo,K="onPointerLeave",V="onPointerEnter",D="pointer"),Xt=B==null?z:qn(B),L=yt==null?z:qn(yt),z=new gt(K,D+"leave",B,s,G),z.target=Xt,z.relatedTarget=L,K=null,yi(G)===j&&(gt=new gt(V,D+"enter",yt,s,G),gt.target=L,gt.relatedTarget=Xt,K=gt),Xt=K,B&&yt)e:{for(gt=B,V=yt,D=0,L=gt;L;L=wa(L))D++;for(L=0,K=V;K;K=wa(K))L++;for(;0<D-L;)gt=wa(gt),D--;for(;0<L-D;)V=wa(V),L--;for(;D--;){if(gt===V||V!==null&&gt===V.alternate)break e;gt=wa(gt),V=wa(V)}gt=null}else gt=null;B!==null&&by(Y,z,B,gt,!1),yt!==null&&Xt!==null&&by(Y,Xt,yt,gt,!0)}}t:{if(z=j?qn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=qm;else if(Te(z))if(Hm)st=GT;else{st=HT;var Ct=qT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&uo(j.elementType)&&(st=qm):st=FT;if(st&&(st=st(e,j))){Ri(Y,st,s,G);break t}Ct&&Ct(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&er(z,"number",z.value)}switch(Ct=j?qn(j):window,e){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(ea=Ct,Ah=j,To=null);break;case"focusout":To=Ah=ea=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,Zm(Y,s,G);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":Zm(Y,s,G)}var ot;if(Xn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?q(e,s)&&(pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(y&&s.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ot=ho()):(Gn=G,nr="value"in Gn?Gn.value:Gn.textContent,Mt=!0)),Ct=Fu(j,pt),0<Ct.length&&(pt=new go(pt,e,null,s,G),Y.push({event:pt,listeners:Ct}),ot?pt.data=ot:(ot=et(s),ot!==null&&(pt.data=ot)))),(ot=m?ve(e,s):kt(e,s))&&(pt=Fu(j,"onBeforeInput"),0<pt.length&&(Ct=new go("onBeforeInput","beforeinput",null,s,G),Y.push({event:Ct,listeners:pt}),Ct.data=ot)),NE(Y,e,j,s,G)}Ey(Y,n)})}function Yo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Fu(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=es(e,s),h!=null&&o.unshift(Yo(e,h,d)),h=es(e,n),h!=null&&o.push(Yo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function by(e,n,s,o,h){for(var d=n._reactName,v=[];s!==null&&s!==o;){var T=s,S=T.alternate,j=T.stateNode;if(T=T.tag,S!==null&&S===o)break;T!==5&&T!==26&&T!==27||j===null||(S=j,h?(j=es(s,d),j!=null&&v.unshift(Yo(s,j,S))):h||(j=es(s,d),j!=null&&v.push(Yo(s,j,S)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var ME=/\r\n?/g,kE=/\u0000|\uFFFD/g;function Sy(e){return(typeof e=="string"?e:""+e).replace(ME,`
`).replace(kE,"")}function wy(e,n){return n=Sy(n),Sy(e)===n}function Gu(){}function Yt(e,n,s,o,h,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(e,""+o);break;case"className":Hn(e,"class",o);break;case"tabIndex":Hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,s,o);break;case"style":lo(e,o,d);break;case"data":if(n!=="object"){Hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ks(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ks(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Ks(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),tr(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gh.get(s)||s,tr(e,s,o))}}function Qf(e,n,s,o,h,d){switch(s){case"style":lo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[de]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):tr(e,s,o)}}}function Pe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,d,v,s,null)}}h&&Yt(e,n,"srcSet",s.srcSet,s,null),o&&Yt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var T=d=v=h=null,S=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":S=G;break;case"defaultChecked":j=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(e,n,o,G,s,null)}}Wr(e,d,T,S,j,v,h,!1),Gs(e);return;case"select":Dt("invalid",e),o=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Yt(e,n,h,T,s,null)}n=d,s=v,e.multiple=!!o,n!=null?Ti(e,!!o,n,!1):s!=null&&Ti(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),d=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Yt(e,n,v,T,s,null)}Jr(e,o,h,d),Gs(e);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(o=s[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,S,o,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Qo.length;o++)Dt(Qo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,j,o,s,null)}return;default:if(uo(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&Qf(e,n,G,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Yt(e,n,T,o,s,null))}function VE(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,S=null,j=null,G=null;for(B in s){var Y=s[B];if(s.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=Y;default:o.hasOwnProperty(B)||Yt(e,n,B,null,o,Y)}}for(var z in o){var B=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Y&&Yt(e,n,z,B,o,Y)}}on(e,v,T,S,j,G,d,h);return;case"select":B=v=T=z=null;for(d in s)if(S=s[d],s.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":B=S;default:o.hasOwnProperty(d)||Yt(e,n,d,null,o,S)}for(h in o)if(d=o[h],S=s[h],o.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==S&&Yt(e,n,h,d,o,S)}n=T,s=v,o=B,z!=null?Ti(e,!!s,z,!1):!!o!=!!s&&(n!=null?Ti(e,!!s,n,!0):Ti(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,n,T,null,o,h)}for(v in o)if(h=o[v],d=s[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Yt(e,n,v,h,o,d)}Kt(e,z,B);return;case"option":for(var yt in s)if(z=s[yt],s.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Yt(e,n,yt,null,o,z)}for(S in o)if(z=o[S],B=s[S],o.hasOwnProperty(S)&&z!==B&&(z!=null||B!=null))switch(S){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,S,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)z=s[gt],s.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&Yt(e,n,gt,null,o,z);for(j in o)if(z=o[j],B=s[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Yt(e,n,j,z,o,B)}return;default:if(uo(n)){for(var Xt in s)z=s[Xt],s.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&Qf(e,n,Xt,void 0,o,z);for(G in o)z=o[G],B=s[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Qf(e,n,G,z,o,B);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Yt(e,n,V,null,o,z);for(Y in o)z=o[Y],B=s[Y],!o.hasOwnProperty(Y)||z===B||z==null&&B==null||Yt(e,n,Y,z,o,B)}var Yf=null,Xf=null;function Ku(e){return e.nodeType===9?e:e.ownerDocument}function Ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $f(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zf=null;function UE(){var e=window.event;return e&&e.type==="popstate"?e===Zf?!1:(Zf=e,!0):(Zf=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,LE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(jE)}:Cy;function jE(e){setTimeout(function(){throw e})}function _r(e){return e==="head"}function Dy(e,n){var s=n,o=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var v=e.ownerDocument;if(s&1&&Xo(v.documentElement),s&2&&Xo(v.body),s&4)for(s=v.head,Xo(s),v=s.firstChild;v;){var T=v.nextSibling,S=v.nodeName;v[Yr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){e.removeChild(d),il(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);il(n)}function Wf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wf(s),Ji(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function zE(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Yr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function BE(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Un(e.nextSibling),e===null))return null;return e}function Jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function qE(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var td=null;function xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function Oy(e,n,s){switch(n=Ku(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ji(e)}var Nn=new Map,My=new Set;function Qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=nt.d;nt.d={f:HE,r:FE,D:GE,C:KE,L:QE,m:YE,X:$E,S:XE,M:ZE};function HE(){var e=ji.f(),n=Lu();return e||n}function FE(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?Jg(n):ji.r(e)}var Ra=typeof document>"u"?null:document;function ky(e,n,s){var o=Ra;if(o&&typeof n=="string"&&n){var h=me(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),My.has(h)||(My.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Pe(n,"link",e),ue(n),o.head.appendChild(n)))}}function GE(e){ji.D(e),ky("dns-prefetch",e,null)}function KE(e,n){ji.C(e,n),ky("preconnect",e,n)}function QE(e,n,s){ji.L(e,n,s);var o=Ra;if(o&&e&&n){var h='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+me(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+me(s.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(n){case"style":d=Ia(e);break;case"script":d=Ca(e)}Nn.has(d)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Nn.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector($o(d))||n==="script"&&o.querySelector(Zo(d))||(n=o.createElement("link"),Pe(n,"link",e),ue(n),o.head.appendChild(n)))}}function YE(e,n){ji.m(e,n);var s=Ra;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ca(e)}if(!Nn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Nn.set(d,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zo(d)))return}o=s.createElement("link"),Pe(o,"link",e),ue(o),s.head.appendChild(o)}}}function XE(e,n,s){ji.S(e,n,s);var o=Ra;if(o&&e){var h=$e(o).hoistableStyles,d=Ia(e);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector($o(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Nn.get(d))&&ed(e,s);var S=v=o.createElement("link");ue(S),Pe(S,"link",e),S._p=new Promise(function(j,G){S.onload=j,S.onerror=G}),S.addEventListener("load",function(){T.loading|=1}),S.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Yu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function $E(e,n){ji.X(e,n);var s=Ra;if(s&&e){var o=$e(s).hoistableScripts,h=Ca(e),d=o.get(h);d||(d=s.querySelector(Zo(h)),d||(e=E({src:e,async:!0},n),(n=Nn.get(h))&&nd(e,n),d=s.createElement("script"),ue(d),Pe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function ZE(e,n){ji.M(e,n);var s=Ra;if(s&&e){var o=$e(s).hoistableScripts,h=Ca(e),d=o.get(h);d||(d=s.querySelector(Zo(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Nn.get(h))&&nd(e,n),d=s.createElement("script"),ue(d),Pe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Vy(e,n,s,o){var h=(h=_t.current)?Qu(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ia(s.href),s=$e(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ia(s.href);var d=$e(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector($o(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(e,s),d||WE(h,e,s,v.state))),n&&o===null)throw Error(a(528,""));return v}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ca(s),s=$e(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ia(e){return'href="'+me(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function Uy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function WE(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Pe(n,"link",s),ue(n),e.head.appendChild(n))}function Ca(e){return'[src="'+me(e)+'"]'}function Zo(e){return"script[async]"+e}function Py(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(s.href)+'"]');if(o)return n.instance=o,ue(o),o;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),Pe(o,"style",h),Yu(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ia(s.href);var d=e.querySelector($o(h));if(d)return n.state.loading|=4,n.instance=d,ue(d),d;o=Uy(s),(h=Nn.get(h))&&ed(o,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var v=d;return v._p=new Promise(function(T,S){v.onload=T,v.onerror=S}),Pe(d,"link",o),n.state.loading|=4,Yu(d,s.precedence,e),n.instance=d;case"script":return d=Ca(s.src),(h=e.querySelector(Zo(d)))?(n.instance=h,ue(h),h):(o=s,(h=Nn.get(d))&&(o=E({},s),nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Pe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Yu(o,s.precedence,e));return n.instance}function Yu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xu=null;function Ly(e,n,s){if(Xu===null){var o=new Map,h=Xu=new Map;h.set(s,o)}else h=Xu,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[Yr]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function jy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function JE(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Wo=null;function tA(){}function eA(e,n,s){if(Wo===null)throw Error(a(475));var o=Wo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ia(s.href),d=e.querySelector($o(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=$u.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,ue(d);return}d=e.ownerDocument||e,s=Uy(s),(h=Nn.get(h))&&ed(s,h),d=d.createElement("link"),ue(d);var v=d;v._p=new Promise(function(T,S){v.onload=T,v.onerror=S}),Pe(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=$u.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function nA(){if(Wo===null)throw Error(a(475));var e=Wo;return e.stylesheets&&e.count===0&&id(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&id(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function id(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,n.forEach(iA,e),Zu=null,$u.call(e))}function iA(e,n){if(!(n.state.loading&4)){var s=Zu.get(e);if(s)var o=s.get(null);else{s=new Map,Zu.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,h),s.set(v,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Jo={$$typeof:it,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function rA(e,n,s,o,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function By(e,n,s,o,h,d,v,T,S,j,G,Y){return e=new rA(e,n,s,v,T,S,j,Y),n=1,d===!0&&(n|=24),d=un(3,null,null,n),e.current=d,d.stateNode=e,n=Ph(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},Bh(d),e}function qy(e){return e?(e=sa,e):sa}function Hy(e,n,s,o,h,d){h=qy(h),o.context===null?o.context=h:o.pendingContext=h,o=sr(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=ar(e,o,n),s!==null&&(mn(s,e,n),No(s,e,n))}function Fy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function rd(e,n){Fy(e,n),(e=e.alternate)&&Fy(e,n)}function Gy(e){if(e.tag===13){var n=ra(e,67108864);n!==null&&mn(n,e,67108864),rd(e,67108864)}}var Wu=!0;function sA(e,n,s,o){var h=F.T;F.T=null;var d=nt.p;try{nt.p=2,sd(e,n,s,o)}finally{nt.p=d,F.T=h}}function aA(e,n,s,o){var h=F.T;F.T=null;var d=nt.p;try{nt.p=8,sd(e,n,s,o)}finally{nt.p=d,F.T=h}}function sd(e,n,s,o){if(Wu){var h=ad(o);if(h===null)Kf(e,n,o,Ju,s),Qy(e,o);else if(lA(h,e,n,s,o))o.stopPropagation();else if(Qy(e,o),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var d=Bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var S=1<<31-He(v);T.entanglements[1]|=S,v&=~S}ei(d),(Ht&6)===0&&(Uu=yn()+500,Ko(0))}}break;case 13:T=ra(d,2),T!==null&&mn(T,d,2),Lu(),rd(d,2)}if(d=ad(o),d===null&&Kf(e,n,o,Ju,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else Kf(e,n,o,null,s)}}function ad(e){return e=Tn(e),od(e)}var Ju=null;function od(e){if(Ju=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ju=e,null}function Ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uh()){case $a:return 2;case Ps:return 8;case Hr:case ch:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var ld=!1,vr=null,Tr=null,Er=null,tl=new Map,el=new Map,Ar=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(e,n){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(n.pointerId)}}function nl(e,n,s,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&Gy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lA(e,n,s,o,h){switch(n){case"focusin":return vr=nl(vr,e,n,s,o,h),!0;case"dragenter":return Tr=nl(Tr,e,n,s,o,h),!0;case"mouseover":return Er=nl(Er,e,n,s,o,h),!0;case"pointerover":var d=h.pointerId;return tl.set(d,nl(tl.get(d)||null,e,n,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,el.set(d,nl(el.get(d)||null,e,n,s,o,h)),!0}return!1}function Yy(e){var n=yi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Ll(e.priority,function(){if(s.tag===13){var o=dn();o=$i(o);var h=ra(s,o);h!==null&&mn(h,s,o),rd(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ei=o,s.target.dispatchEvent(o),Ei=null}else return n=Bn(s),n!==null&&Gy(n),e.blockedOn=s,!1;n.shift()}return!0}function Xy(e,n,s){tc(e)&&s.delete(n)}function uA(){ld=!1,vr!==null&&tc(vr)&&(vr=null),Tr!==null&&tc(Tr)&&(Tr=null),Er!==null&&tc(Er)&&(Er=null),tl.forEach(Xy),el.forEach(Xy)}function ec(e,n){e.blockedOn===n&&(e.blockedOn=null,ld||(ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uA)))}var nc=null;function $y(e){nc!==e&&(nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(od(o||s)===null)continue;break}var d=Bn(s);d!==null&&(e.splice(n,3),n-=3,of(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function il(e){function n(S){return ec(S,e)}vr!==null&&ec(vr,e),Tr!==null&&ec(Tr,e),Er!==null&&ec(Er,e),tl.forEach(n),el.forEach(n);for(var s=0;s<Ar.length;s++){var o=Ar[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ar.length&&(s=Ar[0],s.blockedOn===null);)Yy(s),s.blockedOn===null&&Ar.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],v=h[de]||null;if(typeof d=="function")v||$y(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)T=v.formAction;else if(od(h)!==null)continue}else T=v.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),$y(s)}}}function ud(e){this._internalRoot=e}ic.prototype.render=ud.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=dn();Hy(s,o,e,n,null,null)},ic.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hy(e.current,2,null,e,null,null),Lu(),n[_n]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ar.length&&n!==0&&n<Ar[s].priority;s++);Ar.splice(s,0,e),s===0&&Yy(e)}};var Zy=t.version;if(Zy!=="19.1.1")throw Error(a(527,Zy,"19.1.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ae=rc.inject(cA),qt=rc}catch{}}return sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=dp,d=mp,v=gp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=By(e,1,!1,null,null,s,o,h,d,v,T,null),e[_n]=n.current,Gf(e),new ud(n)},sl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",d=dp,v=mp,T=gp,S=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),n=By(e,1,!0,n,s??null,o,h,d,v,T,S,j),n.context=qy(null),s=n.current,o=dn(),o=$i(o),h=sr(o),h.callback=null,ar(s,h,o),s=o,n.current.lanes=s,pi(n,s),ei(n),e[_n]=n.current,Gf(e),new ic(n)},sl.version="19.1.1",sl}var o_;function EA(){if(o_)return fd.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fd.exports=TA(),fd.exports}var AA=EA();const bA=Iv(AA),sc=[{username:"Alfredo Furnari",role:"User",password:"user"},{username:"Giusi Giuffrida",role:"User",password:"user"},{username:"Federica Mangani",role:"User",password:"user"},{username:"Martina Giuffrida",role:"User",password:"user"},{username:"Laura lo Cicero",role:"User",password:"user"},{username:"Rita Leocata",role:"User",password:"user"},{username:"Marilisa Perri",role:"User",password:"user"},{username:"Roberta Romano",role:"User",password:"user"},{username:"Marialorenza Gamiddo",role:"User",password:"user"},{username:"Mariannunziata Venuto",role:"User",password:"user"},{username:"Giuseppe del Tevere",role:"User",password:"user"},{username:"Cinzia Mazzaglia",role:"User",password:"user"},{username:"Valeria Castelli",role:"Admin",password:"admintest"},{username:"Giovanni Cantarella",role:"Admin",password:"admintest"},{username:"Stefania Barbagallo",role:"Admin",password:"admintest"},{username:"Stefania Risiglione",role:"Admin",password:"admintest"},{username:"Andrea Giordano",role:"Admin",password:"admintest"},{username:"Antonio Condorelli",role:"Admin",password:"admintest"}],SA=({onLoginSuccess:r})=>{const[t,i]=Zt.useState(sc.length>0?sc[0].username:""),[a,l]=Zt.useState(""),[c,f]=Zt.useState(!1),[g,p]=Zt.useState(null),_=()=>{if(!t){p("Per favore, seleziona un utente.");return}const E=sc.find(I=>I.username===t);E&&E.password===a?(p(null),r(E)):p("Password errata. Riprova.")};return C.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:C.jsxs("div",{className:"w-full max-w-sm p-8 space-y-6 bg-white rounded-lg shadow-md",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Social Like Dashboard"}),C.jsx("p",{className:"mt-2 text-gray-600",children:"Inserisci le tue credenziali per accedere"})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700",children:"Nome Utente"}),C.jsx("select",{id:"user-select",className:"w-full px-3 py-2 mt-1 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:t,onChange:E=>i(E.target.value),children:sc.map(E=>C.jsx("option",{value:E.username,children:E.username},E.username))})]}),C.jsxs("div",{className:"relative",children:[C.jsx("label",{htmlFor:"password-input",className:"block text-sm font-medium text-gray-700",children:"Password"}),C.jsx("input",{id:"password-input",type:c?"text":"password",className:"w-full px-3 py-2 mt-1 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:a,onChange:E=>l(E.target.value),onKeyPress:E=>E.key==="Enter"&&_()}),C.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute inset-y-0 right-0 flex items-center px-4 text-gray-700",children:c?"Hide":"Show"})]}),g&&C.jsx("p",{className:"text-sm text-center text-red-600",children:g}),C.jsx("div",{children:C.jsx("button",{onClick:_,className:"w-full px-4 py-2 text-lg font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Entra"})})]})]})})};var gn=(r=>(r.Facebook="Facebook",r.Instagram="Instagram",r.TikTok="TikTok",r.LinkedIn="LinkedIn",r.X="X",r))(gn||{}),Ma=(r=>(r.Admin="Admin",r.User="User",r))(Ma||{});const wA=r=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:C.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),RA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),C.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),C.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]}),IA=r=>C.jsxs("svg",{fill:"currentColor",width:"24",height:"24",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",...r,children:[C.jsx("title",{children:"tiktok"}),C.jsx("path",{d:"M16.656 1.029c1.637-0.025 3.262-0.012 4.886-0.025 0.054 2.031 0.878 3.859 2.189 5.213l-0.002-0.002c1.411 1.271 3.247 2.095 5.271 2.235l0.028 0.002v5.036c-1.912-0.048-3.71-0.489-5.331-1.247l0.082 0.034c-0.784-0.377-1.447-0.764-2.077-1.196l0.052 0.034c-0.012 3.649 0.012 7.298-0.025 10.934-0.103 1.853-0.719 3.543-1.707 4.954l0.020-0.031c-1.652 2.366-4.328 3.919-7.371 4.011l-0.014 0c-0.123 0.006-0.268 0.009-0.414 0.009-1.73 0-3.347-0.482-4.725-1.319l0.040 0.023c-2.508-1.509-4.238-4.091-4.558-7.094l-0.004-0.041c-0.025-0.625-0.037-1.25-0.012-1.862 0.49-4.779 4.494-8.476 9.361-8.476 0.547 0 1.083 0.047 1.604 0.136l-0.056-0.008c0.025 1.849-0.050 3.699-0.050 5.548-0.423-0.153-0.911-0.242-1.42-0.242-1.868 0-3.457 1.194-4.045 2.861l-0.009 0.030c-0.133 0.427-0.21 0.918-0.21 1.426 0 0.206 0.013 0.41 0.037 0.61l-0.002-0.024c0.332 2.046 2.086 3.59 4.201 3.59 0.061 0 0.121-0.001 0.181-0.004l-0.009 0c1.463-0.044 2.733-0.831 3.451-1.994l0.010-0.018c0.267-0.372 0.45-0.822 0.511-1.311l0.001-0.014c0.125-2.237 0.075-4.461 0.087-6.698 0.012-5.036-0.012-10.060 0.025-15.083z"})]}),CA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),C.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),C.jsx("circle",{cx:"4",cy:"4",r:"2"})]}),NA=r=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...r,children:C.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),DA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),C.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),xA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),C.jsx("polyline",{points:"17 8 12 3 7 8"}),C.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),OA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("polyline",{points:"3 6 5 6 21 6"}),C.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),C.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),C.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),MA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),C.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),C.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),C.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),kA=r=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...r,children:C.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),VA=r=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:C.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),l_=r=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:C.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),UA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("polyline",{points:"23 4 23 10 17 10"}),C.jsx("polyline",{points:"1 20 1 14 7 14"}),C.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),PA=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),C.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Cv=r=>C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[C.jsx("circle",{cx:"12",cy:"12",r:"10"}),C.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),C.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),LA={[gn.Facebook]:{Icon:wA,name:"Facebook",color:"bg-blue-600"},[gn.Instagram]:{Icon:RA,name:"Instagram",color:"bg-pink-600"},[gn.TikTok]:{Icon:IA,name:"TikTok",color:"bg-black"},[gn.LinkedIn]:{Icon:CA,name:"LinkedIn",color:"bg-sky-700"},[gn.X]:{Icon:NA,name:"X",color:"bg-gray-800"}},jA=({activePlatform:r,onPlatformChange:t})=>C.jsx("div",{className:"bg-white rounded-lg shadow-sm p-2 flex items-center space-x-2",children:Object.values(gn).map(i=>{const{Icon:a,name:l,color:c}=LA[i],f=r===i;return C.jsxs("button",{onClick:()=>t(i),className:`flex items-center gap-3 rounded-md transition-colors duration-200 ${f?`${c} text-white shadow-lg`:"text-gray-600 hover:bg-gray-100"} py-3 px-6 text-base font-medium`,children:[C.jsx(a,{className:"w-6 h-6"}),C.jsx("span",{children:l})]},i)})});var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},zA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],f=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,E=c>>2,I=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,H=_&63;p||(H=64,f||(M=64)),a.push(i[E],i[I],i[M],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Nv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const I=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new BA;const M=c<<2|g>>4;if(a.push(M),_!==64){const H=g<<4&240|_>>2;if(a.push(H),I!==64){const Q=_<<6&192|I;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(r){const t=Nv(r);return Dv.encodeByteArray(t,!0)},Ac=function(r){return qA(r).replace(/\./g,"")},xv=function(r){try{return Dv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof u_>"u")return;const r=u_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&xv(r[1]);return t&&JSON.parse(t)},Bc=()=>{try{return FA()||GA()||KA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ov=r=>{var t,i;return(i=(t=Bc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},Mv=r=>{const t=Ov(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},kv=()=>{var r;return(r=Bc())===null||r===void 0?void 0:r.config},Vv=r=>{var t;return(t=Bc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ac(JSON.stringify(i)),Ac(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function XA(){var r;const t=(r=Bc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function WA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tb(){return!XA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eb(){try{return typeof indexedDB=="object"}catch{return!1}}function nb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="FirebaseError";class fi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=ib,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?rb(c,a):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new fi(l,g,a)}}function rb(r,t){return r.replace(sb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const sb=/\{\$([^}]+)}/g;function ab(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function bc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],f=t[l];if(c_(c)&&c_(f)){if(!bc(c,f))return!1}else if(c!==f)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function c_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ob(r,t){const i=new lb(r,t);return i.subscribe.bind(i)}class lb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ub(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=pd),l.error===void 0&&(l.error=pd),l.complete===void 0&&(l.complete=pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ub(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(r){return r&&r._delegate?r._delegate:r}class kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new QA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fb(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&f.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hb(r){return r===bs?void 0:r}function fb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new cb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const mb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},gb=Ot.INFO,pb={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},yb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=pb[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wd{constructor(t){this.name=t,this._logLevel=gb,this._logHandler=yb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const _b=(r,t)=>t.some(i=>r instanceof i);let h_,f_;function vb(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tb(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,Cd=new WeakMap,Lv=new WeakMap,yd=new WeakMap,Jd=new WeakMap;function Eb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Dr(r.result)),l()},f=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&Pv.set(i,r)}).catch(()=>{}),Jd.set(t,r),t}function Ab(r){if(Cd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),l()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Cd.set(r,t)}let Nd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Cd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Lv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Dr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function bb(r){Nd=r(Nd)}function Sb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(_d(this),t,...i);return Lv.set(a,t.sort?t.sort():[t]),Dr(a)}:Tb().includes(r)?function(...t){return r.apply(_d(this),t),Dr(Pv.get(this))}:function(...t){return Dr(r.apply(_d(this),t))}}function wb(r){return typeof r=="function"?Sb(r):(r instanceof IDBTransaction&&Ab(r),_b(r,vb())?new Proxy(r,Nd):r)}function Dr(r){if(r instanceof IDBRequest)return Eb(r);if(yd.has(r))return yd.get(r);const t=wb(r);return t!==r&&(yd.set(r,t),Jd.set(t,r)),t}const _d=r=>Jd.get(r);function Rb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Dr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Dr(f.result),p.oldVersion,p.newVersion,Dr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Ib=["get","getKey","getAll","getAllKeys","count"],Cb=["put","add","delete","clear"],vd=new Map;function d_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(vd.get(t))return vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Cb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Ib.includes(i)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return vd.set(t,c),c}bb(r=>({...r,get:(t,i,a)=>d_(t,i)||r.get(t,i,a),has:(t,i)=>!!d_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Db(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Db(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dd="@firebase/app",m_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Wd("@firebase/app"),xb="@firebase/app-compat",Ob="@firebase/analytics-compat",Mb="@firebase/analytics",kb="@firebase/app-check-compat",Vb="@firebase/app-check",Ub="@firebase/auth",Pb="@firebase/auth-compat",Lb="@firebase/database",jb="@firebase/data-connect",zb="@firebase/database-compat",Bb="@firebase/functions",qb="@firebase/functions-compat",Hb="@firebase/installations",Fb="@firebase/installations-compat",Gb="@firebase/messaging",Kb="@firebase/messaging-compat",Qb="@firebase/performance",Yb="@firebase/performance-compat",Xb="@firebase/remote-config",$b="@firebase/remote-config-compat",Zb="@firebase/storage",Wb="@firebase/storage-compat",Jb="@firebase/firestore",tS="@firebase/vertexai-preview",eS="@firebase/firestore-compat",nS="firebase",iS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",rS={[Dd]:"fire-core",[xb]:"fire-core-compat",[Mb]:"fire-analytics",[Ob]:"fire-analytics-compat",[Vb]:"fire-app-check",[kb]:"fire-app-check-compat",[Ub]:"fire-auth",[Pb]:"fire-auth-compat",[Lb]:"fire-rtdb",[jb]:"fire-data-connect",[zb]:"fire-rtdb-compat",[Bb]:"fire-fn",[qb]:"fire-fn-compat",[Hb]:"fire-iid",[Fb]:"fire-iid-compat",[Gb]:"fire-fcm",[Kb]:"fire-fcm-compat",[Qb]:"fire-perf",[Yb]:"fire-perf-compat",[Xb]:"fire-rc",[$b]:"fire-rc-compat",[Zb]:"fire-gcs",[Wb]:"fire-gcs-compat",[Jb]:"fire-fst",[eS]:"fire-fst-compat",[tS]:"fire-vertex","fire-js":"fire-js",[nS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,sS=new Map,Od=new Map;function g_(r,t){try{r.container.addComponent(t)}catch(i){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Cs(r){const t=r.name;if(Od.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,r);for(const i of Sc.values())g_(i,r);for(const i of sS.values())g_(i,r);return!0}function qc(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function zi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Sl("app","Firebase",aS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=iS;function jv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:xd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw xr.create("bad-app-name",{appName:String(l)});if(i||(i=kv()),!i)throw xr.create("no-options");const c=Sc.get(l);if(c){if(bc(i,c.options)&&bc(a,c.config))return c;throw xr.create("duplicate-app",{appName:l})}const f=new db(l);for(const p of Od.values())f.addComponent(p);const g=new oS(i,a,f);return Sc.set(l,g),g}function tm(r=xd){const t=Sc.get(r);if(!t&&r===xd&&kv())return jv();if(!t)throw xr.create("no-app",{appName:r});return t}function ii(r,t,i){var a;let l=(a=rS[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(g.join(" "));return}Cs(new kr(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebase-heartbeat-database",uS=1,pl="firebase-heartbeat-store";let Td=null;function zv(){return Td||(Td=Rb(lS,uS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(pl)}catch(i){console.warn(i)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),Td}async function cS(r){try{const i=(await zv()).transaction(pl),a=await i.objectStore(pl).get(Bv(r));return await i.done,a}catch(t){if(t instanceof fi)Fi.warn(t.message);else{const i=xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(i.message)}}}async function p_(r,t){try{const a=(await zv()).transaction(pl,"readwrite");await a.objectStore(pl).put(t,Bv(r)),await a.done}catch(i){if(i instanceof fi)Fi.warn(i.message);else{const a=xr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fi.warn(a.message)}}}function Bv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1024,fS=720*60*60*1e3;class dS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=y_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const g=new Date(f.date).valueOf();return Date.now()-g<=fS}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Fi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=y_(),{heartbeatsToSend:a,unsentEntries:l}=mS(this._heartbeatsCache.heartbeats),c=Ac(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Fi.warn(i),""}}}function y_(){return new Date().toISOString().substring(0,10)}function mS(r,t=hS){const i=[];let a=r.slice();for(const l of r){const c=i.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),__(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),__(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class gS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eb()?nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function __(r){return Ac(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(r){Cs(new kr("platform-logger",t=>new Nb(t),"PRIVATE")),Cs(new kr("heartbeat",t=>new dS(t),"PRIVATE")),ii(Dd,m_,r),ii(Dd,m_,"esm2017"),ii("fire-js","")}pS("");var yS="firebase",_S="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(yS,_S,"app");function em(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vS=qv,Hv=new Sl("auth","Firebase",qv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Wd("@firebase/auth");function TS(r,...t){wc.logLevel<=Ot.WARN&&wc.warn(`Auth (${ks}): ${r}`,...t)}function dc(r,...t){wc.logLevel<=Ot.ERROR&&wc.error(`Auth (${ks}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r,...t){throw nm(r,...t)}function ri(r,...t){return nm(r,...t)}function Fv(r,t,i){const a=Object.assign(Object.assign({},vS()),{[t]:i});return new Sl("auth","Firebase",a).create(t,{appName:r.name})}function Or(r){return Fv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Hv.create(r,...t)}function vt(r,t,...i){if(!r)throw nm(t,...i)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw dc(t),new Error(t)}function Ki(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ES(){return v_()==="http:"||v_()==="https:"}function v_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ES()||ZA()||"connection"in navigator)?navigator.onLine:!0}function bS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ki(i>t,"Short delay should be less than long delay!"),this.isMobile=YA()||WA()}get(){return AS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(r,t){Ki(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Rl(3e4,6e4);function Hc(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ga(r,t,i,a,l={}){return Kv(r,l,async()=>{let c={},f={};a&&(t==="GET"?f=a:c={body:JSON.stringify(a)});const g=wl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return $A()||(_.referrerPolicy="no-referrer"),Gv.fetch()(Yv(r,r.config.apiHost,i,g),_)})}async function Kv(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},SS),t);try{const l=new RS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw ac(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ac(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ac(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(r,E,_);Gi(r,E)}}catch(l){if(l instanceof fi)throw l;Gi(r,"network-request-failed",{message:String(l)})}}async function Qv(r,t,i,a,l={}){const c=await Ga(r,t,i,a,l);return"mfaPendingCredential"in c&&Gi(r,"multi-factor-auth-required",{_serverResponse:c}),c}function Yv(r,t,i,a){const l=`${t}${i}?${a}`;return r.config.emulator?im(r.config,l):`${r.config.apiScheme}://${l}`}class RS{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ri(this.auth,"network-request-failed")),wS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ri(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(r,t){return Ga(r,"POST","/v1/accounts:delete",t)}async function Xv(r,t){return Ga(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CS(r,t=!1){const i=Be(r),a=await i.getIdToken(t),l=rm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:hl(Ed(l.auth_time)),issuedAtTime:hl(Ed(l.iat)),expirationTime:hl(Ed(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Ed(r){return Number(r)*1e3}function rm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=xv(i);return l?JSON.parse(l):(dc("Failed to decode base64 JWT payload"),null)}catch(l){return dc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function T_(r){const t=rm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof fi&&NS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function NS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await yl(r,Xv(i,{idToken:a}));vt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?$v(c.providerUserInfo):[],g=OS(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),E=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new kd(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(r,I)}async function xS(r){const t=Be(r);await Rc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function OS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function $v(r){return r.map(t=>{var{providerId:i}=t,a=em(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(r,t){const i=await Kv(r,{},async()=>{const a=wl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=Yv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Gv.fetch()(f,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kS(r,t){return Ga(r,"POST","/v2/accounts:revokeToken",Hc(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):T_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=T_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await MS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,f=new ka;return a&&(vt(typeof a=="string","internal-error",{appName:t}),f.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qi{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=em(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await yl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CS(this,t)}reload(){return xS(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new qi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Rc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(Or(this.auth));const t=await this.getIdToken();return await yl(this,IS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,f,g,p,_,E;const I=(a=i.displayName)!==null&&a!==void 0?a:void 0,M=(l=i.email)!==null&&l!==void 0?l:void 0,H=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Q=(f=i.photoURL)!==null&&f!==void 0?f:void 0,J=(g=i.tenantId)!==null&&g!==void 0?g:void 0,X=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,ct=(_=i.createdAt)!==null&&_!==void 0?_:void 0,Et=(E=i.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:it,emailVerified:ht,isAnonymous:dt,providerData:St,stsTokenManager:O}=i;vt(it&&O,t,"internal-error");const b=ka.fromJSON(this.name,O);vt(typeof it=="string",t,"internal-error"),Sr(I,t.name),Sr(M,t.name),vt(typeof ht=="boolean",t,"internal-error"),vt(typeof dt=="boolean",t,"internal-error"),Sr(H,t.name),Sr(Q,t.name),Sr(J,t.name),Sr(X,t.name),Sr(ct,t.name),Sr(Et,t.name);const w=new qi({uid:it,auth:t,email:M,emailVerified:ht,displayName:I,isAnonymous:dt,photoURL:Q,phoneNumber:H,tenantId:J,stsTokenManager:b,createdAt:ct,lastLoginAt:Et});return St&&Array.isArray(St)&&(w.providerData=St.map(x=>Object.assign({},x))),X&&(w._redirectEventId=X),w}static async _fromIdTokenResponse(t,i,a=!1){const l=new ka;l.updateFromServerResponse(i);const c=new qi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Rc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$v(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new ka;g.updateFromIdToken(a);const p=new qi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function Hi(r){Ki(r instanceof Function,"Expected a class definition");let t=E_.get(r);return t?(Ki(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,E_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Zv.type="NONE";const A_=Zv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Va{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?qi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Va(Hi(A_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Hi(A_);const f=mc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const E=await _._get(f);if(E){const I=qi._fromJSON(t,E);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Va(c,t,a):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Va(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(e0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(i0(t))return"Blackberry";if(r0(t))return"Webos";if(Jv(t))return"Safari";if((t.includes("chrome/")||t0(t))&&!t.includes("edge/"))return"Chrome";if(n0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Wv(r=Xe()){return/firefox\//i.test(r)}function Jv(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function t0(r=Xe()){return/crios\//i.test(r)}function e0(r=Xe()){return/iemobile/i.test(r)}function n0(r=Xe()){return/android/i.test(r)}function i0(r=Xe()){return/blackberry/i.test(r)}function r0(r=Xe()){return/webos/i.test(r)}function sm(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VS(r=Xe()){var t;return sm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function US(){return JA()&&document.documentMode===10}function s0(r=Xe()){return sm(r)||n0(r)||r0(r)||i0(r)||/windows phone/i.test(r)||e0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r,t=[]){let i;switch(r){case"Browser":i=b_(Xe());break;case"Worker":i=`${b_(Xe())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ks}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(r,t={}){return Ga(r,"GET","/v2/passwordPolicy",Hc(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=6;class zS{constructor(t){var i,a,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:jS,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new PS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Hi(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Va.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xv(this,{idToken:t}),a=await qi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(zi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Rc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zi(this.app))return Promise.reject(Or(this));const i=t?Be(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zi(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LS(this),i=new zS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Sl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kS(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Hi(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[Hi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{f=!0,p()}}else{const p=t.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=a0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&TS(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Fc(r){return Be(r)}class S_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ob(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qS(r){am=r}function HS(r){return am.loadJS(r)}function FS(){return am.gapiScript}function GS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(r,t){const i=qc(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(bc(c,t??{}))return l;Gi(l,"already-initialized")}return i.initialize({options:t})}function QS(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function YS(r,t,i){const a=Fc(r);vt(a._canInitEmulator,a,"emulator-config-failed"),vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=o0(t),{host:f,port:g}=XS(t),p=g===null?"":`:${g}`;a.config.emulator={url:`${c}//${f}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),$S()}function o0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function XS(r){const t=o0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:w_(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:w_(f)}}}function w_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function $S(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,i){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(r,t){return Qv(r,"POST","/v1/accounts:signInWithIdp",Hc(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="http://localhost";class Ns extends l0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=em(i,["providerId","signInMethod"]);if(!a||!l)return null;const f=new Ns(a,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const i=this.buildRequest();return Ua(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ua(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ua(t,i)}buildRequest(){const t={requestUri:ZS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=wl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends u0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Il{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ns._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Rr.credential(i,a)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Il{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Il{constructor(){super("twitter.com")}static credential(t,i){return Ns._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Cr.credential(i,a)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(r,t){return Qv(r,"POST","/v1/accounts:signUp",Hc(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await qi._fromIdTokenResponse(t,a,l),f=R_(a);return new Vr({user:c,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=R_(a);return new Vr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function R_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(r){var t;if(zi(r.app))return Promise.reject(Or(r));const i=Fc(r);if(await i._initializationPromise,!((t=i.currentUser)===null||t===void 0)&&t.isAnonymous)return new Vr({user:i.currentUser,providerId:null,operationType:"signIn"});const a=await WS(i,{returnSecureToken:!0}),l=await Vr._fromIdTokenResponse(i,"signIn",a,!0);return await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends fi{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Ic(t,i,a,l)}}function c0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ic._fromErrorAndOperation(r,c,t,a):c})}async function tw(r,t,i=!1){const a=await yl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Vr._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r,t,i=!1){const{auth:a}=r;if(zi(a.app))return Promise.reject(Or(a));const l="reauthenticate";try{const c=await yl(r,c0(a,l,t,r),i);vt(c.idToken,a,"internal-error");const f=rm(c.idToken);vt(f,a,"internal-error");const{sub:g}=f;return vt(r.uid===g,a,"user-mismatch"),Vr._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Gi(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,t,i=!1){if(zi(r.app))return Promise.reject(Or(r));const a="signIn",l=await c0(r,a,t),c=await Vr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function iw(r,t,i,a){return Be(r).onIdTokenChanged(t,i,a)}function rw(r,t,i){return Be(r).beforeAuthStateChanged(t,i)}function sw(r,t,i,a){return Be(r).onAuthStateChanged(t,i,a)}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=1e3,ow=10;class f0 extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);US()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ow):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}f0.type="LOCAL";const lw=f0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}d0.type="SESSION";const m0=d0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Gc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(f).map(async _=>_(i.origin,c)),p=await uw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=om("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(I){const M=I;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function hw(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function fw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function mw(){return g0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="firebaseLocalStorageDb",gw=1,Nc="firebaseLocalStorage",y0="fbase_key";class Cl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Kc(r,t){return r.transaction([Nc],t?"readwrite":"readonly").objectStore(Nc)}function pw(){const r=indexedDB.deleteDatabase(p0);return new Cl(r).toPromise()}function Vd(){const r=indexedDB.open(p0,gw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Nc,{keyPath:y0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Nc)?t(a):(a.close(),await pw(),t(await Vd()))})})}async function I_(r,t,i){const a=Kc(r,!0).put({[y0]:t,value:i});return new Cl(a).toPromise()}async function yw(r,t){const i=Kc(r,!1).get(t),a=await new Cl(i).toPromise();return a===void 0?null:a.value}function C_(r,t){const i=Kc(r,!0).delete(t);return new Cl(i).toPromise()}const _w=800,vw=3;class _0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gc._getInstance(mw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await fw(),!this.activeServiceWorker)return;this.sender=new cw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vd();return await I_(t,Cc,"1"),await C_(t,Cc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>I_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>yw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>C_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Kc(l,!1).getAll();return new Cl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_0.type="LOCAL";const Tw=_0;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r,t){return t?Hi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends l0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ua(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ua(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ua(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Aw(r){return nw(r.auth,new lm(r),r.bypassAuthState)}function bw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),ew(i,new lm(r),r.bypassAuthState)}async function Sw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),tw(i,new lm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return Sw;case"reauthViaPopup":case"reauthViaRedirect":return bw;default:Gi(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Rl(2e3,1e4);class Oa extends v0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ww.get())};t()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="pendingRedirect",gc=new Map;class Iw extends v0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=gc.get(this.auth._key());if(!t){try{const a=await Cw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}gc.set(this.auth._key(),t)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cw(r,t){const i=xw(t),a=Dw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Nw(r,t){gc.set(r._key(),t)}function Dw(r){return Hi(r._redirectPersistence)}function xw(r){return mc(Rw,r.config.apiKey,r.name)}async function Ow(r,t,i=!1){if(zi(r.app))return Promise.reject(Or(r));const a=Fc(r),l=Ew(a,t),f=await new Iw(a,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=600*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Vw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!T0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(ri(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(t))}saveEventToCache(t){this.cachedEventUids.add(N_(t)),this.lastProcessedEventTime=Date.now()}}function N_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function T0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Vw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(r,t={}){return Ga(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function jw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Uw(r);for(const i of t)try{if(zw(i))return}catch{}Gi(r,"unauthorized-domain")}function zw(r){const t=Md(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!Lw.test(i))return!1;if(Pw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Rl(3e4,6e4);function D_(){const r=si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function qw(r){return new Promise((t,i)=>{var a,l,c;function f(){D_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{D_(),i(ri(r,"network-request-failed"))},timeout:Bw.get()})}if(!((l=(a=si().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=si().gapi)===null||c===void 0)&&c.load)f();else{const g=GS("iframefcb");return si()[g]=()=>{gapi.load?f():i(ri(r,"network-request-failed"))},HS(`${FS()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw pc=null,t})}let pc=null;function Hw(r){return pc=pc||qw(r),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Rl(5e3,15e3),Gw="__/auth/iframe",Kw="emulator/auth/iframe",Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?im(t,Kw):`https://${r.config.authDomain}/${Gw}`,a={apiKey:t.apiKey,appName:r.name,v:ks},l=Yw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${wl(a).slice(1)}`}async function $w(r){const t=await Hw(r),i=si().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:Xw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const f=ri(r,"network-request-failed"),g=si().setTimeout(()=>{c(f)},Fw.get());function p(){si().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ww=500,Jw=600,t1="_blank",e1="http://localhost";class x_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n1(r,t,i,a=Ww,l=Jw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Zw),{width:a.toString(),height:l.toString(),top:c,left:f}),_=Xe().toLowerCase();i&&(g=t0(_)?t1:i),Wv(_)&&(t=t||e1,p.scrollbars="yes");const E=Object.entries(p).reduce((M,[H,Q])=>`${M}${H}=${Q},`,"");if(VS(_)&&g!=="_self")return i1(t||"",g),new x_(null);const I=window.open(t||"",g,E);vt(I,r,"popup-blocked");try{I.focus()}catch{}return new x_(I)}function i1(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__/auth/handler",s1="emulator/auth/handler",a1=encodeURIComponent("fac");async function O_(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ks,eventId:l};if(t instanceof u0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",ab(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,I]of Object.entries({}))f[E]=I}if(t instanceof Il){const E=t.getScopes().filter(I=>I!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await r._getAppCheckToken(),_=p?`#${a1}=${encodeURIComponent(p)}`:"";return`${o1(r)}?${wl(g).slice(1)}${_}`}function o1({config:r}){return r.emulator?im(r,s1):`https://${r.authDomain}/${r1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class l1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m0,this._completeRedirectFn=Ow,this._overrideRedirectResult=Nw}async _openPopup(t,i,a,l){var c;Ki((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await O_(t,i,a,Md(),l);return n1(t,f,om())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await O_(t,i,a,Md(),l);return hw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ki(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await $w(t),a=new kw(t);return i.register("authEvent",l=>(vt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ad,{type:Ad},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ad];f!==void 0&&i(!!f),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return s0()||Jv()||sm()}}const u1=l1;var M_="@firebase/auth",k_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f1(r){Cs(new kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a0(r)},_=new BS(a,l,c,p);return QS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Cs(new kr("auth-internal",t=>{const i=Fc(t.getProvider("auth").getImmediate());return(a=>new c1(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(M_,k_,h1(r)),ii(M_,k_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=300,m1=Vv("authIdTokenMaxAge")||d1;let V_=null;const g1=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>m1)return;const l=i==null?void 0:i.token;V_!==l&&(V_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function p1(r=tm()){const t=qc(r,"auth");if(t.isInitialized())return t.getImmediate();const i=KS(r,{popupRedirectResolver:u1,persistence:[Tw,lw,m0]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=g1(c.toString());rw(i,f,()=>f(i.currentUser)),iw(i,g=>f(g))}}const l=Ov("auth");return l&&YS(i,`http://${l}`),i}function y1(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}qS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",y1().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f1("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebasestorage.googleapis.com",_1="storageBucket",v1=120*1e3,T1=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends fi{constructor(t,i,a=0){super(bd(t),`Firebase Storage: ${i} (${bd(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return bd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ui;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ui||(ui={}));function bd(r){return"storage/"+r}function E1(){const r="An unknown error occurred, please check the error payload for server response.";return new di(ui.UNKNOWN,r)}function A1(){return new di(ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b1(){return new di(ui.CANCELED,"User canceled the upload/download.")}function S1(r){return new di(ui.INVALID_URL,"Invalid URL '"+r+"'.")}function w1(r){return new di(ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function U_(r){return new di(ui.INVALID_ARGUMENT,r)}function A0(){return new di(ui.APP_DELETED,"The Firebase app was deleted.")}function R1(r){return new di(ui.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let a;try{a=Ln.makeFromUrl(t,i)}catch{return new Ln(t,"")}if(a.path==="")return a;throw w1(t)}static makeFromUrl(t,i){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(ht){ht.path.charAt(ht.path.length-1)==="/"&&(ht.path_=ht.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+l+f,"i"),p={bucket:1,path:3};function _(ht){ht.path_=decodeURIComponent(ht.path)}const E="v[A-Za-z0-9_]+",I=i.replace(/[.]/g,"\\."),M="(/([^?#]*).*)?$",H=new RegExp(`^https?://${I}/${E}/b/${l}/o${M}`,"i"),Q={bucket:1,path:3},J=i===E0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,X="([^?#]*)",ct=new RegExp(`^https?://${J}/${l}/${X}`,"i"),it=[{regex:g,indices:p,postModify:c},{regex:H,indices:Q,postModify:_},{regex:ct,indices:{bucket:1,path:2},postModify:_}];for(let ht=0;ht<it.length;ht++){const dt=it[ht],St=dt.regex.exec(t);if(St){const O=St[dt.indices.bucket];let b=St[dt.indices.path];b||(b=""),a=new Ln(O,b),dt.postModify(a);break}}if(a==null)throw S1(t);return a}}class I1{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(r,t,i){let a=1,l=null,c=null,f=!1,g=0;function p(){return g===2}let _=!1;function E(...X){_||(_=!0,t.apply(null,X))}function I(X){l=setTimeout(()=>{l=null,r(H,p())},X)}function M(){c&&clearTimeout(c)}function H(X,...ct){if(_){M();return}if(X){M(),E.call(null,X,...ct);return}if(p()||f){M(),E.call(null,X,...ct);return}a<64&&(a*=2);let it;g===1?(g=2,it=0):it=(a+Math.random())*1e3,I(it)}let Q=!1;function J(X){Q||(Q=!0,M(),!_&&(l!==null?(X||(g=2),clearTimeout(l),I(0)):X||(g=1)))}return I(0),c=setTimeout(()=>{f=!0,J(!0)},i),J}function N1(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){return r!==void 0}function P_(r,t,i,a){if(a<t)throw U_(`Invalid value for '${r}'. Expected ${t} or greater.`);if(a>i)throw U_(`Invalid value for '${r}'. Expected ${i} or less.`)}function x1(r){const t=encodeURIComponent;let i="?";for(const a in r)if(r.hasOwnProperty(a)){const l=t(a)+"="+t(r[a]);i=i+l+"&"}return i=i.slice(0,-1),i}var Dc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Dc||(Dc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r,t){const i=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,c=t.indexOf(r)!==-1;return i||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,i,a,l,c,f,g,p,_,E,I,M=!0){this.url_=t,this.method_=i,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=I,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,Q)=>{this.resolve_=H,this.reject_=Q,this.start_()})}start_(){const t=(a,l)=>{if(l){a(!1,new oc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=g=>{const p=g.loaded,_=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const g=c.getErrorCode()===Dc.NO_ERROR,p=c.getStatus();if(!g||O1(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===Dc.ABORT;a(!1,new oc(!1,null,E));return}const _=this.successCodes_.indexOf(p)!==-1;a(!0,new oc(_,c))})},i=(a,l)=>{const c=this.resolve_,f=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());D1(p)?c(p):c()}catch(p){f(p)}else if(g!==null){const p=E1();p.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,p)):f(p)}else if(l.canceled){const p=this.appDelete_?A0():b1();f(p)}else{const p=A1();f(p)}};this.canceled_?i(!1,new oc(!1,null,!0)):this.backoffId_=C1(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&N1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oc{constructor(t,i,a){this.wasSuccessCode=t,this.connection=i,this.canceled=!!a}}function k1(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function V1(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function U1(r,t){t&&(r["X-Firebase-GMPID"]=t)}function P1(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function L1(r,t,i,a,l,c,f=!0){const g=x1(r.urlParams),p=r.url+g,_=Object.assign({},r.headers);return U1(_,t),k1(_,i),V1(_,c),P1(_,a),new M1(p,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function z1(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,i){this._service=t,i instanceof Ln?this._location=i:this._location=Ln.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new xc(t,i)}get root(){const t=new Ln(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z1(this._location.path)}get storage(){return this._service}get parent(){const t=j1(this._location.path);if(t===null)return null;const i=new Ln(this._location.bucket,t);return new xc(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw R1(t)}}function L_(r,t){const i=t==null?void 0:t[_1];return i==null?null:Ln.makeFromBucketSpec(i,r)}function B1(r,t,i,a={}){r.host=`${t}:${i}`,r._protocol="http";const{mockUserToken:l}=a;l&&(r._overrideAuthToken=typeof l=="string"?l:Uv(l,r.app.options.projectId))}class q1{constructor(t,i,a,l,c){this.app=t,this._authProvider=i,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=E0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=v1,this._maxUploadRetryTime=T1,this._requests=new Set,l!=null?this._bucket=Ln.makeFromBucketSpec(l,this._host):this._bucket=L_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,t):this._bucket=L_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){P_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){P_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xc(this,t)}_makeRequest(t,i,a,l,c=!0){if(this._deleted)return new I1(A0());{const f=L1(t,this._appId,a,l,i,this._firebaseVersion,c);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,a,l).getPromise()}}const j_="@firebase/storage",z_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="storage";function H1(r=tm(),t){r=Be(r);const a=qc(r,b0).getImmediate({identifier:t}),l=Mv("storage");return l&&F1(a,...l),a}function F1(r,t,i,a={}){B1(r,t,i,a)}function G1(r,{instanceIdentifier:t}){const i=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new q1(i,a,l,t,ks)}function K1(){Cs(new kr(b0,G1,"PUBLIC").setMultipleInstances(!0)),ii(j_,z_,""),ii(j_,z_,"esm2017")}K1();var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,S0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function w(){}w.prototype=b.prototype,O.D=b.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(x,k,U){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return b.prototype[k].apply(x,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,b,w){w||(w=0);var x=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)x[k]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(k=0;16>k;++k)x[k]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=O.g[0],w=O.g[1],k=O.g[2];var U=O.g[3],R=b+(U^w&(k^U))+x[0]+3614090360&4294967295;b=w+(R<<7&4294967295|R>>>25),R=U+(k^b&(w^k))+x[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=k+(w^U&(b^w))+x[2]+606105819&4294967295,k=U+(R<<17&4294967295|R>>>15),R=w+(b^k&(U^b))+x[3]+3250441966&4294967295,w=k+(R<<22&4294967295|R>>>10),R=b+(U^w&(k^U))+x[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(k^b&(w^k))+x[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=k+(w^U&(b^w))+x[6]+2821735955&4294967295,k=U+(R<<17&4294967295|R>>>15),R=w+(b^k&(U^b))+x[7]+4249261313&4294967295,w=k+(R<<22&4294967295|R>>>10),R=b+(U^w&(k^U))+x[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(k^b&(w^k))+x[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=k+(w^U&(b^w))+x[10]+4294925233&4294967295,k=U+(R<<17&4294967295|R>>>15),R=w+(b^k&(U^b))+x[11]+2304563134&4294967295,w=k+(R<<22&4294967295|R>>>10),R=b+(U^w&(k^U))+x[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(k^b&(w^k))+x[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=k+(w^U&(b^w))+x[14]+2792965006&4294967295,k=U+(R<<17&4294967295|R>>>15),R=w+(b^k&(U^b))+x[15]+1236535329&4294967295,w=k+(R<<22&4294967295|R>>>10),R=b+(k^U&(w^k))+x[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^k&(b^w))+x[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=k+(b^w&(U^b))+x[11]+643717713&4294967295,k=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(k^U))+x[0]+3921069994&4294967295,w=k+(R<<20&4294967295|R>>>12),R=b+(k^U&(w^k))+x[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^k&(b^w))+x[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=k+(b^w&(U^b))+x[15]+3634488961&4294967295,k=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(k^U))+x[4]+3889429448&4294967295,w=k+(R<<20&4294967295|R>>>12),R=b+(k^U&(w^k))+x[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^k&(b^w))+x[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=k+(b^w&(U^b))+x[3]+4107603335&4294967295,k=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(k^U))+x[8]+1163531501&4294967295,w=k+(R<<20&4294967295|R>>>12),R=b+(k^U&(w^k))+x[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^k&(b^w))+x[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=k+(b^w&(U^b))+x[7]+1735328473&4294967295,k=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(k^U))+x[12]+2368359562&4294967295,w=k+(R<<20&4294967295|R>>>12),R=b+(w^k^U)+x[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^k)+x[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=k+(U^b^w)+x[11]+1839030562&4294967295,k=U+(R<<16&4294967295|R>>>16),R=w+(k^U^b)+x[14]+4259657740&4294967295,w=k+(R<<23&4294967295|R>>>9),R=b+(w^k^U)+x[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^k)+x[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=k+(U^b^w)+x[7]+4139469664&4294967295,k=U+(R<<16&4294967295|R>>>16),R=w+(k^U^b)+x[10]+3200236656&4294967295,w=k+(R<<23&4294967295|R>>>9),R=b+(w^k^U)+x[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^k)+x[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=k+(U^b^w)+x[3]+3572445317&4294967295,k=U+(R<<16&4294967295|R>>>16),R=w+(k^U^b)+x[6]+76029189&4294967295,w=k+(R<<23&4294967295|R>>>9),R=b+(w^k^U)+x[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^k)+x[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=k+(U^b^w)+x[15]+530742520&4294967295,k=U+(R<<16&4294967295|R>>>16),R=w+(k^U^b)+x[2]+3299628645&4294967295,w=k+(R<<23&4294967295|R>>>9),R=b+(k^(w|~U))+x[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~k))+x[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=k+(b^(U|~w))+x[14]+2878612391&4294967295,k=U+(R<<15&4294967295|R>>>17),R=w+(U^(k|~b))+x[5]+4237533241&4294967295,w=k+(R<<21&4294967295|R>>>11),R=b+(k^(w|~U))+x[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~k))+x[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=k+(b^(U|~w))+x[10]+4293915773&4294967295,k=U+(R<<15&4294967295|R>>>17),R=w+(U^(k|~b))+x[1]+2240044497&4294967295,w=k+(R<<21&4294967295|R>>>11),R=b+(k^(w|~U))+x[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~k))+x[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=k+(b^(U|~w))+x[6]+2734768916&4294967295,k=U+(R<<15&4294967295|R>>>17),R=w+(U^(k|~b))+x[13]+1309151649&4294967295,w=k+(R<<21&4294967295|R>>>11),R=b+(k^(w|~U))+x[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~k))+x[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=k+(b^(U|~w))+x[2]+718787259&4294967295,k=U+(R<<15&4294967295|R>>>17),R=w+(U^(k|~b))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var w=b-this.blockSize,x=this.B,k=this.h,U=0;U<b;){if(k==0)for(;U<=w;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(x[k++]=O.charCodeAt(U++),k==this.blockSize){l(this,x),k=0;break}}else for(;U<b;)if(x[k++]=O[U++],k==this.blockSize){l(this,x),k=0;break}}this.h=k,this.o+=b},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var w=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=w&255,w/=256;for(this.u(O),O=Array(16),b=w=0;4>b;++b)for(var x=0;32>x;x+=8)O[w++]=this.g[b]>>>x&255;return O};function c(O,b){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=b(O)}function f(O,b){this.h=b;for(var w=[],x=!0,k=O.length-1;0<=k;k--){var U=O[k]|0;x&&U==b||(w[k]=U,x=!1)}this.g=w}var g={};function p(O){return-128<=O&&128>O?c(O,function(b){return new f([b|0],0>b?-1:0)}):new f([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return I;if(0>O)return X(_(-O));for(var b=[],w=1,x=0;O>=w;x++)b[x]=O/w|0,w*=4294967296;return new f(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return X(E(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(b,8)),x=I,k=0;k<O.length;k+=8){var U=Math.min(8,O.length-k),R=parseInt(O.substring(k,k+U),b);8>U?(U=_(Math.pow(b,U)),x=x.j(U).add(_(R))):(x=x.j(w),x=x.add(_(R)))}return x}var I=p(0),M=p(1),H=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-X(this).m();for(var O=0,b=1,w=0;w<this.g.length;w++){var x=this.i(w);O+=(0<=x?x:4294967296+x)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(J(this))return"-"+X(this).toString(O);for(var b=_(Math.pow(O,6)),w=this,x="";;){var k=ht(w,b).g;w=ct(w,k.j(b));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=k,Q(w))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function J(O){return O.h==-1}r.l=function(O){return O=ct(this,O),J(O)?-1:Q(O)?0:1};function X(O){for(var b=O.g.length,w=[],x=0;x<b;x++)w[x]=~O.g[x];return new f(w,~O.h).add(M)}r.abs=function(){return J(this)?X(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],x=0,k=0;k<=b;k++){var U=x+(this.i(k)&65535)+(O.i(k)&65535),R=(U>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);x=R>>>16,U&=65535,R&=65535,w[k]=R<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function ct(O,b){return O.add(X(b))}r.j=function(O){if(Q(this)||Q(O))return I;if(J(this))return J(O)?X(this).j(X(O)):X(X(this).j(O));if(J(O))return X(this.j(X(O)));if(0>this.l(H)&&0>O.l(H))return _(this.m()*O.m());for(var b=this.g.length+O.g.length,w=[],x=0;x<2*b;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<O.g.length;k++){var U=this.i(x)>>>16,R=this.i(x)&65535,Oe=O.i(k)>>>16,se=O.i(k)&65535;w[2*x+2*k]+=R*se,Et(w,2*x+2*k),w[2*x+2*k+1]+=U*se,Et(w,2*x+2*k+1),w[2*x+2*k+1]+=R*Oe,Et(w,2*x+2*k+1),w[2*x+2*k+2]+=U*Oe,Et(w,2*x+2*k+2)}for(x=0;x<b;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=b;x<2*b;x++)w[x]=0;return new f(w,0)};function Et(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function it(O,b){this.g=O,this.h=b}function ht(O,b){if(Q(b))throw Error("division by zero");if(Q(O))return new it(I,I);if(J(O))return b=ht(X(O),b),new it(X(b.g),X(b.h));if(J(b))return b=ht(O,X(b)),new it(X(b.g),b.h);if(30<O.g.length){if(J(O)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var w=M,x=b;0>=x.l(O);)w=dt(w),x=dt(x);var k=St(w,1),U=St(x,1);for(x=St(x,2),w=St(w,2);!Q(x);){var R=U.add(x);0>=R.l(O)&&(k=k.add(w),U=R),x=St(x,1),w=St(w,1)}return b=ct(O,k.j(b)),new it(k,b)}for(k=I;0<=O.l(b);){for(w=Math.max(1,Math.floor(O.m()/b.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=_(w),R=U.j(b);J(R)||0<R.l(O);)w-=x,U=_(w),R=U.j(b);Q(U)&&(U=M),k=k.add(U),O=ct(O,R)}return new it(k,O)}r.A=function(O){return ht(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)&O.i(x);return new f(w,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)|O.i(x);return new f(w,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)^O.i(x);return new f(w,this.h^O.h)};function dt(O){for(var b=O.g.length+1,w=[],x=0;x<b;x++)w[x]=O.i(x)<<1|O.i(x-1)>>>31;return new f(w,O.h)}function St(O,b){var w=b>>5;b%=32;for(var x=O.g.length-w,k=[],U=0;U<x;U++)k[U]=0<b?O.i(U+w)>>>b|O.i(U+w+1)<<32-b:O.i(U+w);return new f(k,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,S0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,Rs=f}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w0,ol,R0,yc,Ud,I0,C0,N0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in y))break t;y=y[P]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,P={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function M(u,m,y){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,M.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Q(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,P,q){for(var et=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)et[Mt-2]=arguments[Mt];return m.prototype[P].apply(A,et)}}function J(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function X(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const P=u.length||0,q=A.length||0;u.length=P+q;for(let et=0;et<q;et++)u[P+et]=A[et]}else u.push(A)}}class ct{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Et(u){return/^[\s\xa0]*$/.test(u)}function it(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ht(u){return ht[" "](u),u}ht[" "]=function(){};var dt=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function St(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let y,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(y in A)u[y]=A[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function k(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,y){const A=se.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new ct(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,jt=new Oe,N=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){U(y)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ft=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u})();function It(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(dt){t:{try{ht(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}Q(It,tt);var _t={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function jn(u,m,y,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=P,this.key=++Wt,this.da=this.fa=!1}function Xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,y,A,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Br(u,m,A,P);return-1<et?(m=u[et],y||(m.fa=!1)):(m=new jn(m,this.src,q,!!A,P),m.fa=y,u.push(m)),m};function zr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(A,P,1),q&&(Xi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Br(u,m,y,A){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return P}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Xa={};function Vl(u,m,y,A,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Vl(u,m[q],y,A,P);return null}return y=Ul(y),u&&u[we]?u.K(m,y,_(A)?!!A.capture:!1,P):yn(u,m,y,!1,A,P)}function yn(u,m,y,A,P,q){if(!m)throw Error("Invalid event type");var et=_(P)?!!P.capture:!!P,Mt=Ls(u);if(Mt||(u[qr]=Mt=new mi(u)),y=Mt.add(m,y,A,et,q),y.proxy)return y;if(A=uh(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ft||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Hr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function uh(){function u(y){return m.call(u.src,u.listener,y)}const m=ch;return u}function $a(u,m,y,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)$a(u,m[q],y,A,P);else A=_(A)?!!A.capture:!!A,y=Ul(y),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Br(q,y,A,P),-1<y&&(Xi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,y,A,P)),(y=-1<u?m[u]:null)&&Ps(y))}function Ps(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])zr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Hr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=Ls(m))?(zr(y,u),y.h==0&&(y.src=null,m[qr]=null)):Xi(u)}}}function Hr(u){return u in Xa?Xa[u]:Xa[u]="on"+u}function ch(u,m){if(u.da)u=!0;else{m=new It(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Ps(u),u=y.call(A,m)}return u}function Ls(u){return u=u[qr],u instanceof mi?u:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ul(u){return typeof u=="function"?u:(u[Za]||(u[Za]=function(m){return u.handleEvent(m)}),u[Za])}function ae(){rt.call(this),this.i=new mi(this),this.M=this,this.F=null}Q(ae,rt),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(u,m,y,A){$a(this,u,m,y,A)};function qt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var P=m;m=new tt(A,u),x(m,P)}if(P=!0,y)for(var q=y.length-1;0<=q;q--){var et=m.g=y[q];P=an(et,A,!0,m)&&P}if(et=m.g=u,P=an(et,A,!0,m)&&P,P=an(et,A,!1,m)&&P,y)for(q=0;q<y.length;q++)et=m.g=y[q],P=an(et,A,!1,m)&&P}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Xi(y[A]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},ae.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function an(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==y){var Mt=et.listener,ve=et.ha||et.src;et.fa&&zr(u.i,et),P=Mt.call(ve,A)!==!1&&P}}return P&&!A.defaultPrevented}function He(u,m,y){if(typeof u=="function")y&&(u=M(u,y));else if(u&&typeof u.handleEvent=="function")u=M(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Pl(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,Pl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class hh extends rt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){rt.call(this),this.h=u,this.g={}}Q(Fr,rt);var Gr=[];function Kr(u){St(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ps(m)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Kr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=g.JSON.stringify,js=g.JSON.parse,Qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Wa(){}Wa.prototype.h=null;function Ja(u){return u.h||(u.h=u.i())}function to(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){tt.call(this,"d")}Q(pi,tt);function eo(){tt.call(this,"c")}Q(eo,tt);var zn={},no=null;function $i(){return no=no||new ae}zn.La="serverreachability";function zs(u){tt.call(this,zn.La,u)}Q(zs,tt);function Zi(u){const m=$i();qt(m,new zs(m))}zn.STAT_EVENT="statevent";function Ll(u,m){tt.call(this,zn.STAT_EVENT,u),this.stat=m}Q(Ll,tt);function te(u){const m=$i();qt(m,new Ll(m,u))}zn.Ma="timingevent";function _e(u,m){tt.call(this,zn.Ma,u),this.size=m}Q(_e,tt);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function io(u,m,y,A,P,q){u.info(function(){if(u.g)if(q)for(var et="",Mt=q.split("&"),ve=0;ve<Mt.length;ve++){var kt=Mt[ve].split("=");if(1<kt.length){var Ie=kt[0];kt=kt[1];var Te=Ie.split("_");et=2<=Te.length&&Te[1]=="type"?et+(Ie+"="+kt+"&"):et+(Ie+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+y+`
`+et})}function fh(u,m,y,A,P,q,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+y+`
`+q+" "+et})}function Wi(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yr(u,y)+(A?" "+A:"")})}function jl(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function Yr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<P.length;et++)P[et]=""}}}}return xn(y)}catch{return m}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}Q(qn,Wa),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function $e(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var ro={},Bs={};function On(u,m,y){u.L=1,u.v=Jr(on(m)),u.m=y,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Xr(u),u.A=on(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),co(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ue,u.g=eu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new hh(M(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Gr[0]=P.toString()),P=Gr);for(var q=0;q<P.length;q++){var et=Vl(y,P[q],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Zi(),io(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Te=An(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ri?Zi(3):Zi(2)),tr(this);var y=this.g.Z();this.X=y;e:if(zl(this)){var A=Ql(this.g);u="";var P=A.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Hn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=y==200,fh(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,ve=this.g;if((Mt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(Mt)){var kt=Mt;break e}}kt=null}if(y=kt)Wi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$r(this,y);else{this.o=!1,this.s=3,te(12),Me(this),Hn(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<et.length;)if(ke=Bl(this,et),ke==Bs){Te==4&&(this.s=4,te(14),y=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==ro){this.s=4,te(15),Wi(this.i,this.l,et,"[Invalid Chunk]"),y=!1;break}else Wi(this.i,this.l,ke,null),$r(this,ke);if(zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||et.length!=0||this.h.h||(this.s=1,te(16),y=!1),this.o=this.o&&y,!y)Wi(this.i,this.l,et,"[Invalid Chunked Response]"),Me(this),Hn(this);else if(0<et.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),os(Ie),Ie.M=!0,te(11))}}else Wi(this.i,this.l,et,null),$r(this,et);Te==4&&Me(this),this.o&&!this.J&&(Te==4?Wl(this.j,this):(this.o=!1,Xr(this)))}else yh(this.g),y==400&&0<et.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Me(this),Hn(this)}}}catch{}finally{}};function zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Bl(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Bs:(y=Number(m.substring(y,A)),isNaN(y)?ro:(A+=1,A+y>m.length?Bs:(m=m.slice(A,A+y),u.C=A+y,m)))}$e.prototype.cancel=function(){this.J=!0,Me(this)};function Xr(u){u.S=Date.now()+u.I,ql(u,u.I)}function ql(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(M(u.ba,u),m)}function tr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jl(this.i,this.A),this.L!=2&&(Zi(),te(17)),Me(this),this.s=2,Hn(this)):ql(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Wl(u.j,u)}function Me(u){tr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function $r(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||so(y.h,u))){if(!u.K&&so(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Js(y),Zs(y);else break t;po(y),te(18)}}else y.za=P[1],0<y.za-y.T&&37500>P[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(M(y.Za,y),6e3));if(1>=Hs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wi(y,11)}else if((u.K||y.g==u)&&Js(y),!Et(m))for(P=y.Da.g.parse(m),m=0;m<P.length;m++){let kt=P[m];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const Ie=kt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const Te=kt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const Ri=kt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const ke=u.g;if(ke){const $n=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var q=A.h;q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Fs(q,q.h),q.h=null))}if(A.D){const _o=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(A.ya=_o,Kt(A.I,A.D,_o))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var et=u;if(A.qa=tu(A,A.J?A.ia:null,A.W),et.K){Ze(A.h,et);var Mt=et,ve=A.L;ve&&(Mt.I=ve),Mt.B&&(tr(Mt),Xr(Mt)),A.g=et}else $l(A);0<y.i.length&&Ws(y)}else kt[0]!="stop"&&kt[0]!="close"||wi(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?wi(y,7):mo(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}Zi(4)}catch{}}var Hl=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function so(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fs(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ao(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return J(u.i)}function dh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Gs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function oo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Gs(u),A=dh(u),P=A.length,q=0;q<P;q++)m.call(void 0,A[q],y&&y[q],u)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),P=null;if(0<=A){var q=u[y].substring(0,A);P=u[y].substring(A+1)}else q=u[y];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Wr(this,u.j),this.o=u.o,this.g=u.g,er(this,u.s),this.l=u.l;var m=u.i,y=new Ei;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ti(this,y),this.m=u.m}else u&&(m=String(u).match(Zr))?(this.h=!1,Wr(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),er(this,m[4]),this.l=vn(m[5]||"",!0),Ti(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ts(m,lo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ts(m,lo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ts(y,y.charAt(0)=="/"?gh:uo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ts(y,Ks)),u.join("")};function on(u){return new me(u)}function Wr(u,m,y){u.j=y?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function er(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ti(u,m,y){m instanceof Ei?(u.i=m,Gl(u.i,u.h)):(y||(m=ts(m,ph)),u.i=new Ei(m,u.h))}function Kt(u,m,y){u.i.set(m,y)}function Jr(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Fl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Fl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var lo=/[#\/\?@]/g,uo=/[#\?:]/g,gh=/[#\?]/g,ph=/[#\?@]/g,Ks=/#/g;function Ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&mh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ei.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Fn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ai(u,m){Tn(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bi(u,m){return Tn(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,A){y.forEach(function(P){u.call(m,P,A,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const P=u[A];for(let q=0;q<P.length;q++)y.push(m[A])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")bi(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Fn(this,u),bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function co(u,m,y){Ai(u,m),0<y.length&&(u.i=null,u.g.set(Fn(u,m),J(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var P=q;et[A]!==""&&(P+="="+encodeURIComponent(String(et[A]))),u.push(P)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gl(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,A){var P=A.toLowerCase();A!=P&&(Ai(this,A),co(this,P,y))},u)),u.j=m}function es(u,m){const y=new _n;if(g.Image){const A=new Image;A.onload=H(En,y,"TestLoadImage: loaded",!0,m,A),A.onerror=H(En,y,"TestLoadImage: error",!1,m,A),A.onabort=H(En,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(En,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Mn(u,m){const y=new _n,A=new AbortController,P=setTimeout(()=>{A.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(y)}catch{}}function ns(){this.g=new Qr}function Gn(u,m,y){const A=y||"";try{oo(u,function(P,q){let et=P;_(P)&&(et=xn(P)),m.push(A+q+"="+encodeURIComponent(et))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function nr(u){this.l=u.Ub||null,this.j=u.eb||!1}Q(nr,Wa),nr.prototype.g=function(){return new Si(this.l,this.j)},nr.prototype.i=(function(u){return function(){return u}})({});function Si(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Si,ae),r=Si.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ho(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ho(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Qn(this),this.readyState==3&&ho(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},r.Qa=function(u){this.g&&(this.response=u,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fo(u){let m="";return St(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Re(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=fo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Kt(u,m,y))}function Bt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(Bt,ae);var Qs=/^https?$/i,is=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Ja(this.o):Ja(Bn),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Kl(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)y.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(is,m,void 0))||A||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Kl(this,q)}};function Kl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ys(u),Yn(u)}function Ys(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},r.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof f<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)He(u.Ea,0,u);else if(qt(u,"readystatechange"),An(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=et===0){var P=String(u.D).match(Zr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),A=!Qs.test(P?P.toLowerCase():"")}y=A}if(y)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<An(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ys(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){rs(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{y.onreadystatechange=A}catch{}}}function rs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),js(m)}};function Ql(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Et(u[A]))continue;var y=k(u[A]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[P]||[];m[P]=q,q.push(y)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function $s(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,u),this.cb=ss("retryDelaySeedMs",1e4,u),this.Wa=ss("forwardChannelMaxRetries",2,u),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new ns,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$s.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){te(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=tu(this,null,this.W),Ws(this)};function mo(u){if(Yl(u),u.G==3){var m=u.U++,y=on(u.I);if(Kt(y,"SID",u.K),Kt(y,"RID",m),Kt(y,"TYPE","terminate"),as(u,y),m=new $e(u,u.j,m),m.L=2,m.v=Jr(on(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xr(m)}Jl(u)}function Zs(u){u.g&&(os(u),u.g.cancel(),u.g=null)}function Yl(u){Zs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ws(u){if(!qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||N(),lt||(nt(),lt=!0),jt.add(m,u),u.B=0}}function _h(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(M(u.Ga,u,m),yo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new $e(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Xl(this,P,m),y=on(this.I),Kt(y,"RID",u),Kt(y,"CVER",22),this.D&&Kt(y,"X-HTTP-Session-Id",this.D),as(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(fo(q)))+"&"+m:this.m&&Re(y,this.m,q)),Fs(this.h,P),this.Ua&&Kt(y,"TYPE","init"),this.P?(Kt(y,"$req",m),Kt(y,"SID","null"),P.T=!0,On(P,y,null)):On(P,y,m),this.G=2}}else this.G==3&&(u?go(this,u):this.i.length==0||qs(this.h)||go(this))};function go(u,m){var y;m?y=m.l:y=u.U++;const A=on(u.I);Kt(A,"SID",u.K),Kt(A,"RID",y),Kt(A,"AID",u.T),as(u,A),u.m&&u.o&&Re(A,u.m,u.o),y=new $e(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Xl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fs(u.h,y),On(y,A,m)}function as(u,m){u.H&&St(u.H,function(y,A){Kt(m,A,y)}),u.l&&oo({},function(y,A){Kt(m,A,y)})}function Xl(u,m,y){y=Math.min(u.i.length,y);var A=u.l?M(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const et=["count="+y];q==-1?0<y?(q=P[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Mt=!0;for(let ve=0;ve<y;ve++){let kt=P[ve].g;const Ie=P[ve].map;if(kt-=q,0>kt)q=Math.max(0,P[ve].g-100),Mt=!1;else try{Gn(Ie,et,"req"+kt+"_")}catch{A&&A(Ie)}}if(Mt){A=et.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function $l(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||N(),lt||(nt(),lt=!0),jt.add(m,u),u.v=0}}function po(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(M(u.Fa,u),yo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(M(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Zs(this),Zl(this))};function os(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Zl(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),as(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Jr(on(m)),y.m=null,y.P=!0,_i(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Zs(this),po(this),te(19))};function Js(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Wl(u,m){var y=null;if(u.g==m){Js(u),os(u),u.g=null;var A=2}else if(so(u.h,m))y=m.D,Ze(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=$i(),qt(A,new _e(A,y)),Ws(u)}else $l(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&_h(u,m)||A==2&&po(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),P){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function yo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var y=M(u.fb,u),A=u.Xa;const P=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Wr(A,"https"),Jr(A),P?es(A.toString(),y):Mn(A.toString(),y)}else te(2);u.G=0,u.l&&u.l.sa(m),Jl(u),Yl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Jl(u){if(u.G=0,u.ka=[],u.l){const m=ao(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ka,m),X(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function tu(u,m,y){var A=y instanceof me?on(y):new me(y);if(A.g!="")m&&(A.g=m+"."+A.g),er(A,A.s);else{var P=g.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new me(null);A&&Wr(q,A),m&&(q.g=m),P&&er(q,P),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Kt(A,y,m),Kt(A,"VER",u.la),as(u,A),A}function eu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new nr({eb:y})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}r=nu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ta(){}ta.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ae.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}Q(We,ae),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){mo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=xn(u),u=y);m.i.push(new Hl(m.Ya++,u)),m.G==3&&Ws(m)},We.prototype.N=function(){this.g.l=null,delete this.j,mo(this.g),delete this.g,We.aa.N.call(this)};function iu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Q(iu,pi);function ru(){eo.call(this),this.status=1}Q(ru,eo);function Xn(u){this.g=u}Q(Xn,nu),Xn.prototype.ua=function(){qt(this.g,"a")},Xn.prototype.ta=function(u){qt(this.g,new iu(u))},Xn.prototype.sa=function(u){qt(this.g,new ru)},Xn.prototype.ra=function(){qt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,N0=function(){return new ta},C0=function(){return $i()},I0=zn,Ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,yc=Ji,yi.COMPLETE="complete",R0=yi,to.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,ol=to,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,w0=Bt}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Wd("@firebase/firestore");function al(){return Ds.logLevel}function at(r,...t){if(Ds.logLevel<=Ot.DEBUG){const i=t.map(um);Ds.debug(`Firestore (${Ka}): ${r}`,...i)}}function Qi(r,...t){if(Ds.logLevel<=Ot.ERROR){const i=t.map(um);Ds.error(`Firestore (${Ka}): ${r}`,...i)}}function La(r,...t){if(Ds.logLevel<=Ot.WARN){const i=t.map(um);Ds.warn(`Firestore (${Ka}): ${r}`,...i)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r="Unexpected state"){const t=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Gt(r,t){r||Tt()}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends fi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class Y1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class X1{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Is,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Is)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string"),new D0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Qe(t)}}class $1{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Z1{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new $1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J1{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Gt(this.o===void 0);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new W1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=tR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%t.length))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function ja(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new Se(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new Se(0,0))}static max(){return new At(new Se(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,i,a){i===void 0?i=0:i>t.length&&Tt(),a===void 0?a=t.length-i:a>t.length-i&&Tt(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return _l.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof _l?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=t.get(l),f=i.get(l);if(c<f)return-1;if(c>f)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class ne extends _l{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const eR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends _l{construct(t,i,a){return new je(t,i,a)}static isValidIdentifier(t){return eR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new je(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(a+=g,l++):(c(),l++)}if(c(),f)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ne.fromString(t))}static fromName(t){return new mt(ne.fromString(t).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ne(t.slice()))}}function nR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Ur(l,mt.empty(),t)}function iR(r){return new Ur(r.readTime,r.key,-1)}class Ur{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ur(At.min(),mt.empty(),-1)}static max(){return new Ur(At.max(),mt.empty(),-1)}}function rR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==sR)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,f=!1;t.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&i()}),(p=>a(p)))})),f=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((E=>{f[_]=E,++g,g===c&&a(f)}),(E=>l(E)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function oR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Dl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}cm.oe=-1;function Qc(r){return r==null}function Oc(r){return r===0&&1/r==-1/0}function lR(r){return typeof r=="number"&&Number.isInteger(r)&&!Oc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Vs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function O0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||Le.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uc(this.root,t,this.comparator,!0)}}class uc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Le(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const t=this.left.check();if(t!==this.right.check())throw Tt();return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(t,i,a,l,c){return this}insert(t,i,a){return new Le(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(t){return new F_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class F_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new pn([])}unionWith(t){let i=new ze(je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M0("Invalid base64 string: "+c):c}})(t);return new qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(t);return new qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const uR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(Gt(!!r),typeof r=="string"){let t=0;const i=uR.exec(r);if(Gt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xs(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function fm(r){const t=r.mapValue.fields.__previous_value__;return hm(t)?fm(t):t}function vl(r){const t=Pr(r.mapValue.fields.__local_write_time__.timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,i,a,l,c,f,g,p,_){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}class Tl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Tl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc={mapValue:{}};function Os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hm(r)?4:fR(r)?9007199254740991:hR(r)?10:11:Tt()}function ci(r,t){if(r===t)return!0;const i=Os(r);if(i!==Os(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return vl(r).isEqual(vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Pr(l.timestampValue),g=Pr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return xs(l.bytesValue).isEqual(xs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=fe(l.doubleValue),g=fe(c.doubleValue);return f===g?Oc(f)===Oc(g):isNaN(f)&&isNaN(g)}return!1})(r,t);case 9:return ja(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(H_(f)!==H_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ci(f[p],g[p])))return!1;return!0})(r,t);default:return Tt()}}function El(r,t){return(r.values||[]).find((i=>ci(i,t)))!==void 0}function za(r,t){if(r===t)return 0;const i=Os(r),a=Os(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,f){const g=fe(c.integerValue||c.doubleValue),p=fe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return G_(r.timestampValue,t.timestampValue);case 4:return G_(vl(r),vl(t));case 5:return Lt(r.stringValue,t.stringValue);case 6:return(function(c,f){const g=xs(c),p=xs(f);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const E=Lt(g[_],p[_]);if(E!==0)return E}return Lt(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,f){const g=Lt(fe(c.latitude),fe(f.latitude));return g!==0?g:Lt(fe(c.longitude),fe(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return K_(r.arrayValue,t.arrayValue);case 10:return(function(c,f){var g,p,_,E;const I=c.fields||{},M=f.fields||{},H=(g=I.value)===null||g===void 0?void 0:g.arrayValue,Q=(p=M.value)===null||p===void 0?void 0:p.arrayValue,J=Lt(((_=H==null?void 0:H.values)===null||_===void 0?void 0:_.length)||0,((E=Q==null?void 0:Q.values)===null||E===void 0?void 0:E.length)||0);return J!==0?J:K_(H,Q)})(r.mapValue,t.mapValue);case 11:return(function(c,f){if(c===cc.mapValue&&f===cc.mapValue)return 0;if(c===cc.mapValue)return 1;if(f===cc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let I=0;I<p.length&&I<E.length;++I){const M=Lt(p[I],E[I]);if(M!==0)return M;const H=za(g[p[I]],_[E[I]]);if(H!==0)return H}return Lt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw Tt()}}function G_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=Pr(r),a=Pr(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function K_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=za(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function Ba(r){return Pd(r)}function Pd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Pr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return xs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Pd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const f of a)c?c=!1:l+=",",l+=`${f}:${Pd(i.fields[f])}`;return l+"}"})(r.mapValue):Tt()}function Ld(r){return!!r&&"integerValue"in r}function dm(r){return!!r&&"arrayValue"in r}function Q_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _c(r){return!!r&&"mapValue"in r}function hR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function fl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Vs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=fl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=fl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function fR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!_c(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=fl(i)}setAll(t){let i=je.emptyPath(),a={},l=[];t.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}f?a[g.lastSegment()]=fl(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());_c(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];_c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Vs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new rn(fl(this.value))}}function k0(r){const t=[];return Vs(r.fields,((i,a)=>{const l=new je([i]);if(_c(a)){const c=k0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)})),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,a,l,c,f,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ye(t,0,At.min(),At.min(),At.min(),rn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ye(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new Ye(t,2,i,At.min(),At.min(),rn.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,At.min(),At.min(),rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i){this.position=t,this.inclusive=i}}function X_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(f.referenceValue),i.key):a=za(f,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function $_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ci(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function dR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{}class be extends V0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new gR(t,i,a):i==="array-contains"?new _R(t,a):i==="in"?new vR(t,a):i==="not-in"?new TR(t,a):i==="array-contains-any"?new ER(t,a):new be(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new pR(t,a):new yR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(za(i,this.value)):i!==null&&Os(this.value)===Os(i)&&this.matchesComparison(za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends V0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new hi(t,i)}matches(t){return U0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U0(r){return r.op==="and"}function P0(r){return mR(r)&&U0(r)}function mR(r){for(const t of r.filters)if(t instanceof hi)return!1;return!0}function jd(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Ba(r.value);if(P0(r))return r.filters.map((t=>jd(t))).join(",");{const t=r.filters.map((i=>jd(i))).join(",");return`${r.op}(${t})`}}function L0(r,t){return r instanceof be?(function(a,l){return l instanceof be&&a.op===l.op&&a.field.isEqual(l.field)&&ci(a.value,l.value)})(r,t):r instanceof hi?(function(a,l){return l instanceof hi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,f,g)=>c&&L0(f,l.filters[g])),!0):!1})(r,t):void Tt()}function j0(r){return r instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ba(i.value)}`})(r):r instanceof hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(j0).join(" ,")+"}"})(r):"Filter"}class gR extends be{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class pR extends be{constructor(t,i){super(t,"in",i),this.keys=z0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class yR extends be{constructor(t,i){super(t,"not-in",i),this.keys=z0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function z0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>mt.fromName(a.referenceValue)))}class _R extends be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dm(i)&&El(i.arrayValue,this.value)}}class vR extends be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&El(this.value.arrayValue,i)}}class TR extends be{constructor(t,i){super(t,"not-in",i)}matches(t){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!El(this.value.arrayValue,i)}}class ER extends be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>El(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,i=null,a=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.ue=null}}function Z_(r,t=null,i=[],a=[],l=null,c=null,f=null){return new AR(r,t,i,a,l,c,f)}function mm(r){const t=bt(r);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>jd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Qc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ba(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ba(a))).join(",")),t.ue=i}return t.ue}function gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!L0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$_(r.startAt,t.startAt)&&$_(r.endAt,t.endAt)}function zd(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i=null,a=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bR(r,t,i,a,l,c,f,g){return new Yc(r,t,i,a,l,c,f,g)}function pm(r){return new Yc(r)}function W_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SR(r){return r.collectionGroup!==null}function dl(r){const t=bt(r);if(t.ce===null){t.ce=[];const i=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new ze(je.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.ce.push(new kc(c,a))})),i.has(je.keyField().canonicalString())||t.ce.push(new kc(je.keyField(),a))}return t.ce}function ai(r){const t=bt(r);return t.le||(t.le=wR(t,dl(r))),t.le}function wR(r,t){if(r.limitType==="F")return Z_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new kc(l.field,c)}));const i=r.endAt?new Mc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mc(r.startAt.position,r.startAt.inclusive):null;return Z_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Bd(r,t,i){return new Yc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Xc(r,t){return gm(ai(r),ai(t))&&r.limitType===t.limitType}function B0(r){return`${mm(ai(r))}|lt:${r.limitType}`}function Na(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>j0(l))).join(", ")}]`),Qc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ba(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ba(l))).join(",")),`Target(${a})`})(ai(r))}; limitType=${r.limitType})`}function $c(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(f,g,p){const _=X_(f,g,p);return f.inclusive?_<=0:_<0})(a.startAt,dl(a),l)||a.endAt&&!(function(f,g,p){const _=X_(f,g,p);return f.inclusive?_>=0:_>0})(a.endAt,dl(a),l))})(r,t)}function RR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q0(r){return(t,i)=>{let a=!1;for(const l of dl(r)){const c=IR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function IR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?za(p,_):Tt()})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Vs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new re(mt.comparator);function Yi(){return CR}const H0=new re(mt.comparator);function ll(...r){let t=H0;for(const i of r)t=t.insert(i.key,i);return t}function F0(r){let t=H0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ws(){return ml()}function G0(){return ml()}function ml(){return new Qa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const NR=new re(mt.comparator),DR=new ze(mt.comparator);function xt(...r){let t=DR;for(const i of r)t=t.add(i);return t}const xR=new ze(Lt);function OR(){return xR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(t)?"-0":t}}function K0(r){return{integerValue:""+r}}function MR(r,t){return lR(t)?K0(t):ym(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this._=void 0}}function kR(r,t,i){return r instanceof Vc?(function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&hm(c)&&(c=fm(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}})(i,t):r instanceof Al?Y0(r,t):r instanceof bl?X0(r,t):(function(l,c){const f=Q0(l,c),g=J_(f)+J_(l.Pe);return Ld(f)&&Ld(l.Pe)?K0(g):ym(l.serializer,g)})(r,t)}function VR(r,t,i){return r instanceof Al?Y0(r,t):r instanceof bl?X0(r,t):i}function Q0(r,t){return r instanceof Uc?(function(a){return Ld(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Vc extends Zc{}class Al extends Zc{constructor(t){super(),this.elements=t}}function Y0(r,t){const i=$0(t);for(const a of r.elements)i.some((l=>ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class bl extends Zc{constructor(t){super(),this.elements=t}}function X0(r,t){let i=$0(t);for(const a of r.elements)i=i.filter((l=>!ci(l,a)));return{arrayValue:{values:i}}}class Uc extends Zc{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function J_(r){return fe(r.integerValue||r.doubleValue)}function $0(r){return dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Al&&l instanceof Al||a instanceof bl&&l instanceof bl?ja(a.elements,l.elements,ci):a instanceof Uc&&l instanceof Uc?ci(a.Pe,l.Pe):a instanceof Vc&&l instanceof Vc})(r.transform,t.transform)}class PR{constructor(t,i){this.version=t,this.transformResults=i}}class Dn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Dn}static exists(t){return new Dn(void 0,t)}static updateTime(t){return new Dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Wc{}function Z0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new _m(r.key,Dn.none()):new xl(r.key,r.data,Dn.none());{const i=r.data,a=rn.empty();let l=new ze(je.comparator);for(let c of t.fields)if(!l.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?a.delete(c):a.set(c,f),l=l.add(c)}return new jr(r.key,a,new pn(l.toArray()),Dn.none())}}function LR(r,t,i){r instanceof xl?(function(l,c,f){const g=l.value.clone(),p=ev(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,i):r instanceof jr?(function(l,c,f){if(!vc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=ev(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(W0(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,i):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function gl(r,t,i,a){return r instanceof xl?(function(c,f,g,p){if(!vc(c.precondition,f))return g;const _=c.value.clone(),E=nv(c.fieldTransforms,p,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof jr?(function(c,f,g,p){if(!vc(c.precondition,f))return g;const _=nv(c.fieldTransforms,p,f),E=f.data;return E.setAll(W0(c)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(r,t,i,a):(function(c,f,g){return vc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,t,i)}function jR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=Q0(a.transform,l||null);c!=null&&(i===null&&(i=rn.empty()),i.set(a.field,c))}return i||null}function tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ja(a,l,((c,f)=>UR(c,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends Wc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class jr extends Wc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function W0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function ev(r,t,i){const a=new Map;Gt(r.length===i.length);for(let l=0;l<i.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);a.set(c.field,VR(f,g,i[l]))}return a}function nv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,f=i.data.field(l.field);a.set(l.field,kR(c,f,t))}return a}class _m extends Wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Wc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&LR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=gl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=gl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=G0();return this.mutations.forEach((l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=i.has(l.key)?null:g;const p=Z0(f,g);p!==null&&a.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&ja(this.mutations,t.mutations,((i,a)=>tv(i,a)))&&ja(this.baseMutations,t.baseMutations,((i,a)=>tv(i,a)))}}class vm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length);let l=(function(){return NR})();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,a[f].version);return new vm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function FR(r){switch(r){default:return Tt();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function J0(r){if(r===void 0)return Qi("GRPC error has no .code"),W.UNKNOWN;switch(r){case ye.OK:return W.OK;case ye.CANCELLED:return W.CANCELLED;case ye.UNKNOWN:return W.UNKNOWN;case ye.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ye.INTERNAL:return W.INTERNAL;case ye.UNAVAILABLE:return W.UNAVAILABLE;case ye.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ye.NOT_FOUND:return W.NOT_FOUND;case ye.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ye.ABORTED:return W.ABORTED;case ye.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ye.DATA_LOSS:return W.DATA_LOSS;default:return Tt()}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Rs([4294967295,4294967295],0);function iv(r){const t=GR().encode(r),i=new S0;return i.update(t),new Uint8Array(i.digest())}function rv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Rs([i,a],0),new Rs([l,c],0)]}class Tm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ul(`Invalid padding: ${i}`);if(a<0)throw new ul(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ul(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Rs.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(Rs.fromNumber(a)));return l.compare(KR)===1&&(l=new Rs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=iv(t),[a,l]=rv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ee(a,l,c);if(!this.de(f))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Tm(c,l,i);return a.forEach((g=>f.insert(g))),f}insert(t){if(this.Ie===0)return;const i=iv(t),[a,l]=rv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ee(a,l,c);this.Ae(f)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ol.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Jc(At.min(),l,new re(Lt),Yi(),xt())}}class Ol{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ol(a,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class tT{constructor(t,i){this.targetId=t,this.me=i}}class eT{constructor(t,i,a=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class sv{constructor(){this.fe=0,this.ge=ov(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=xt(),i=xt(),a=xt();return this.ge.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Tt()}})),new Ol(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=ov()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QR{constructor(t){this.Le=t,this.Be=new Map,this.ke=Yi(),this.qe=av(),this.Qe=new re(Lt)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:Tt()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const c=l.target;if(zd(c))if(a===0){const f=new mt(c.path);this.Ue(i,f,Ye.newNoDocument(f,At.min()))}else Gt(a===1);else{const f=this.Ye(i);if(f!==a){const g=this.Ze(t),p=g?this.Xe(g,t,f):1;if(p!==0){this.je(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,_)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let f,g;try{f=xs(a).toUint8Array()}catch(p){if(p instanceof M0)return La("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Tm(f,l,c)}catch(p){return La(p instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const f=this.Le.tt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,c,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((c,f)=>{const g=this.Je(f);if(g){if(c.current&&zd(g.target)){const p=new mt(g.target.path);this.ke.get(p)!==null||this.it(f,p)||this.Ue(f,p,Ye.newNoDocument(p,t))}c.be&&(i.set(f,c.ve()),c.Ce())}}));let a=xt();this.qe.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const _=this.Je(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.ke.forEach(((c,f)=>f.setReadTime(t)));const l=new Jc(t,i,this.Qe,this.ke,a);return this.ke=Yi(),this.qe=av(),this.Qe=new re(Lt),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new sv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new ze(Lt),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new sv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function av(){return new re(mt.comparator)}function ov(){return new re(mt.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$R={and:"AND",or:"OR"};class ZR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function qd(r,t){return r.useProto3Json||Qc(t)?t:{value:t}}function Pc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function WR(r,t){return Pc(r,t.toTimestamp())}function oi(r){return Gt(!!r),At.fromTimestamp((function(i){const a=Pr(i);return new Se(a.seconds,a.nanos)})(r))}function Em(r,t){return Hd(r,t).canonicalString()}function Hd(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function iT(r){const t=ne.fromString(r);return Gt(lT(t)),t}function Fd(r,t){return Em(r.databaseId,t.path)}function Sd(r,t){const i=iT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(sT(i))}function rT(r,t){return Em(r.databaseId,t)}function JR(r){const t=iT(r);return t.length===4?ne.emptyPath():sT(t)}function Gd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function lv(r,t,i){return{name:Fd(r,t),fields:i.value.mapValue.fields}}function t2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Gt(E===void 0||typeof E=="string"),qe.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(_){const E=_.code===void 0?W.UNKNOWN:J0(_.code);return new ut(E,_.message||"")})(f);i=new eT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Sd(r,a.document.name),c=oi(a.document.updateTime),f=a.document.createTime?oi(a.document.createTime):At.min(),g=new rn({mapValue:{fields:a.document.fields}}),p=Ye.newFoundDocument(l,c,f,g),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Tc(_,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Sd(r,a.document),c=a.readTime?oi(a.readTime):At.min(),f=Ye.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Tc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Sd(r,a.document),c=a.removedTargetIds||[];i=new Tc([],c,l,null)}else{if(!("filter"in t))return Tt();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,f=new HR(l,c),g=a.targetId;i=new tT(g,f)}}return i}function e2(r,t){let i;if(t instanceof xl)i={update:lv(r,t.key,t.value)};else if(t instanceof _m)i={delete:Fd(r,t.key)};else if(t instanceof jr)i={update:lv(r,t.key,t.data),updateMask:c2(t.fieldMask)};else{if(!(t instanceof zR))return Tt();i={verify:Fd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,f){const g=f.transform;if(g instanceof Vc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Al)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Uc)return{fieldPath:f.field.canonicalString(),increment:g.Pe};throw Tt()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:WR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt()})(r,t.precondition)),i}function n2(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map((i=>(function(l,c){let f=l.updateTime?oi(l.updateTime):oi(c);return f.isEqual(At.min())&&(f=oi(c)),new PR(f,l.transformResults||[])})(i,t)))):[]}function i2(r,t){return{documents:[rT(r,t.path)]}}function r2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rT(r,l);const c=(function(_){if(_.length!==0)return oT(hi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:Da(M.field),direction:o2(M.dir)}})(E)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const g=qd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{_t:i,parent:l}}function s2(r){let t=JR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(I){const M=aT(I);return M instanceof hi&&P0(M)?M.getFilters():[M]})(i.where));let f=[];i.orderBy&&(f=(function(I){return I.map((M=>(function(Q){return new kc(xa(Q.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(I){let M;return M=typeof I=="object"?I.value:I,Qc(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(I){const M=!!I.before,H=I.values||[];return new Mc(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(I){const M=!I.before,H=I.values||[];return new Mc(H,M)})(i.endAt)),bR(t,l,f,c,g,"F",p,_)}function a2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function aT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=xa(i.unaryFilter.field);return be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=xa(i.unaryFilter.field);return be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xa(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xa(i.unaryFilter.field);return be.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}})(r):r.fieldFilter!==void 0?(function(i){return be.create(xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return hi.create(i.compositeFilter.filters.map((a=>aT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt()}})(i.compositeFilter.op))})(r):Tt()}function o2(r){return YR[r]}function l2(r){return XR[r]}function u2(r){return $R[r]}function Da(r){return{fieldPath:r.canonicalString()}}function xa(r){return je.fromServerFormat(r.fieldPath)}function oT(r){return r instanceof be?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NAN"}};if(Q_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NAN"}};if(Q_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(i.field),op:l2(i.op),value:i.value}}})(r):r instanceof hi?(function(i){const a=i.getFilters().map((l=>oT(l)));return a.length===1?a[0]:{compositeFilter:{op:u2(i.op),filters:a}}})(r):Tt()}function c2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function lT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i,a,l,c=At.min(),f=At.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.ct=t}}function f2(r){const t=s2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.un=new m2}addToCollectionParentIndex(t,i){return this.un.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Ur.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class m2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new qa(0)}static kn(){return new qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.changes=new Qa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&gl(a.mutation,l,pn.empty(),Se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,xt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=xt()){const l=ws();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let f=ll();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const a=ws();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,xt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(t,i,a,l){let c=Yi();const f=ml(),g=(function(){return ml()})();return i.forEach(((p,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof jr)?c=c.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),gl(E.mutation,_,E.mutation.getFieldMask(),Se.now())):f.set(_.key,pn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,E)=>f.set(_,E))),i.forEach(((_,E)=>{var I;return g.set(_,new p2(E,(I=f.get(_))!==null&&I!==void 0?I:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=ml();let l=new re(((f,g)=>f-g)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const g of f)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let E=a.get(p)||pn.empty();E=g.applyToLocalView(_,E),a.set(p,E);const I=(l.get(g.batchId)||xt()).add(p);l=l.insert(g.batchId,I)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,E=p.value,I=G0();E.forEach((M=>{if(!c.has(M)){const H=Z0(i.get(M),a.get(M));H!==null&&I.set(M,H),c=c.add(M)}})),f.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Z.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):SR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(ws());let g=-1,p=c;return f.next((_=>Z.forEach(_,((E,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{p=p.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,xt()))).next((E=>({batchId:g,changes:F0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=ll();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let f=ll();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(p=>{const _=(function(I,M){return new Yc(M,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((I,M)=>{f=f.insert(I,M)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((f=>{c.forEach(((p,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))}));let g=ll();return f.forEach(((p,_)=>{const E=c.get(p);E!==void 0&&gl(E.mutation,_,pn.empty(),Se.now()),$c(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return Z.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:oi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:f2(l.bundledQuery),readTime:oi(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.overlays=new re(mt.comparator),this.Ir=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ws();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.ht(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=ws(),c=i.length+1,f=new mt(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new re(((_,E)=>_-E));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=ws(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=ws(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=l)););return Z.resolve(g)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new qR(i,a));let c=this.Ir.get(i);c===void 0&&(c=xt(),this.Ir.set(i,c)),this.Ir.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.Tr=new ze(xe.Er),this.dr=new ze(xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new xe(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new xe(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new mt(new ne([])),a=new xe(i,t),l=new xe(i,t+1),c=[];return this.dr.forEachInRange([a,l],(f=>{this.Vr(f),c.push(f.key)})),c}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new mt(new ne([])),a=new xe(i,t),l=new xe(i,t+1);let c=xt();return this.dr.forEachInRange([a,l],(f=>{c=c.add(f.key)})),c}containsKey(t){const i=new xe(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class xe{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return mt.comparator(t.key,i.key)||Lt(t.wr,i.wr)}static Ar(t,i){return Lt(t.wr,i.wr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new ze(xe.Er)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BR(c,i,a,l);this.mutationQueue.push(f);for(const g of l)this.br=this.br.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,i){return Z.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([a,l],(f=>{const g=this.Dr(f.wr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Lt);return i.forEach((l=>{const c=new xe(l,0),f=new xe(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],(g=>{a=a.add(g.wr)}))})),Z.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const f=new xe(new mt(c),0);let g=new ze(Lt);return this.br.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.wr)),!0)}),f),Z.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return Z.forEach(i.mutations,(l=>{const c=new xe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new xe(i,0),l=this.br.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.Mr=t,this.docs=(function(){return new re(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,f=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let a=Yi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ye.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Yi();const f=i.path,g=new mt(f.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||rR(iR(E),a)<=0||(l.has(E.key)||$c(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Tt()}Or(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new b2(this)}getSize(t){return Z.resolve(this.size)}}class b2 extends g2{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.persistence=t,this.Nr=new Qa((i=>mm(i)),gm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Am,this.targetCount=0,this.kr=qa.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),Z.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new qa(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Kn(i),Z.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.Nr.forEach(((f,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((f=>{c.push(l.markPotentiallyOrphaned(t,f))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,i){this.qr={},this.overlays={},this.Qr=new cm(0),this.Kr=!1,this.Kr=!0,this.$r=new T2,this.referenceDelegate=t(this),this.Ur=new S2(this),this.indexManager=new d2,this.remoteDocumentCache=(function(l){return new A2(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new h2(i),this.Gr=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new v2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new E2(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new R2(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((c=>this.referenceDelegate.jr(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Hr(t,i){return Z.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class R2 extends aR{constructor(t){super(),this.currentSequenceNumber=t}}class bm{constructor(t){this.persistence=t,this.Jr=new Am,this.Yr=null}static Zr(t){return new bm(t)}get Xr(){if(this.Yr)return this.Yr;throw Tt()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.Xr.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(a=>{const l=mt.fromPath(a);return this.ei(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return Z.or([()=>Z.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Sm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return tb()?8:oR(Xe())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Yi(t,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.Zi(t,i,l,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new I2;return this.Xi(t,i,f).next((g=>{if(c.result=g,this.zi)return this.es(t,i,f,g.size)}))})).next((()=>c.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(al()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Na(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(al()<=Ot.DEBUG&&at("QueryEngine","Query:",Na(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(al()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Na(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(i))):Z.resolve())}Yi(t,i){if(W_(i))return Z.resolve(null);let a=ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Bd(i,null,"F"),a=ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const f=xt(...c);return this.Ji.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,a).next((p=>{const _=this.ts(i,g);return this.ns(i,_,f,p.readTime)?this.Yi(t,Bd(i,null,"F")):this.rs(t,_,i,p)}))))})))))}Zi(t,i,a,l){return W_(i)||l.isEqual(At.min())?Z.resolve(null):this.Ji.getDocuments(t,a).next((c=>{const f=this.ts(i,c);return this.ns(i,f,a,l)?Z.resolve(null):(al()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Na(i)),this.rs(t,f,i,nR(l,-1)).next((g=>g)))}))}ts(t,i){let a=new ze(q0(t));return i.forEach(((l,c)=>{$c(t,c)&&(a=a.add(c))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(t,i,a){return al()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Na(i)),this.Ji.getDocumentsMatchingQuery(t,i,Ur.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new re(Lt),this._s=new Qa((c=>mm(c)),gm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new y2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function D2(r,t,i,a){return new N2(r,t,i,a)}async function uT(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],g=[];let p=xt();for(const _ of l){f.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(a,p).next((_=>({hs:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function x2(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,E){const I=_.batch,M=I.keys();let H=Z.resolve();return M.forEach((Q=>{H=H.next((()=>E.getEntry(p,Q))).next((J=>{const X=_.docVersions.get(Q);Gt(X!==null),J.version.compareTo(X)<0&&(I.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),E.addEntry(J)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(p,I)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let p=xt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function cT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function O2(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];t.targetChanges.forEach(((E,I)=>{const M=l.get(I);if(!M)return;g.push(i.Ur.removeMatchingKeys(c,E.removedDocuments,I).next((()=>i.Ur.addMatchingKeys(c,E.addedDocuments,I))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?H=H.withResumeToken(qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),l=l.insert(I,H),(function(J,X,ct){return J.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(M,H,E)&&g.push(i.Ur.updateTargetData(c,H))}));let p=Yi(),_=xt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(M2(c,f,t.documentUpdates).next((E=>{p=E.Ps,_=E.Is}))),!a.isEqual(At.min())){const E=i.Ur.getLastRemoteSnapshotVersion(c).next((I=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return Z.waitFor(g).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.os=l,c)))}function M2(r,t,i){let a=xt(),l=xt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let f=Yi();return i.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):at("LocalStore","Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{Ps:f,Is:l}}))}function k2(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function V2(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Ur.allocateTargetId(a).next((f=>(l=new Nr(t,f,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function Kd(r,t,i){const a=bt(r),l=a.os.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Dl(f))throw f;at("LocalStore",`Failed to update sequence numbers for target ${t}: ${f}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function uv(r,t,i){const a=bt(r);let l=At.min(),c=xt();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,_,E){const I=bt(p),M=I._s.get(E);return M!==void 0?Z.resolve(I.os.get(M)):I.Ur.getTargetData(_,E)})(a,f,ai(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(f,t,i?l:At.min(),i?c:xt()))).next((g=>(U2(a,RR(t),g),{documents:g,Ts:c})))))}function U2(r,t,i){let a=r.us.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.us.set(t,a)}class cv{constructor(){this.activeTargetIds=OR()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class P2{constructor(){this.so=new cv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new cv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function wd(){return hc===null?hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class B2 extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(i,a,l,c,f){const g=wd(),p=this.xo(i,a.toUriEncodedString());at("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,c,f),this.No(i,p,_,l).then((E=>(at("RestConnection",`Received RPC '${i}' ${g}: `,E),E)),(E=>{throw La("RestConnection",`RPC '${i}' ${g} failed with error: `,E,"url: ",p,"request:",l),E}))}Lo(i,a,l,c,f,g){return this.Mo(i,a,l,c,f)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ka})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((c,f)=>i[f]=c)),l&&l.headers.forEach(((c,f)=>i[f]=c))}xo(i,a){const l=j2[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const c=wd();return new Promise(((f,g)=>{const p=new w0;p.setWithCredentials(!0),p.listenOnce(R0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yc.NO_ERROR:const E=p.getResponseJson();at(Ke,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),f(E);break;case yc.TIMEOUT:at(Ke,`RPC '${t}' ${c} timed out`),g(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const I=p.getStatus();if(at(Ke,`RPC '${t}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const H=M==null?void 0:M.error;if(H&&H.status&&H.message){const Q=(function(X){const ct=X.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ct)>=0?ct:W.UNKNOWN})(H.status);g(new ut(Q,H.message))}else g(new ut(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ut(W.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{at(Ke,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(l);at(Ke,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",_,a,15)}))}Bo(t,i,a){const l=wd(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=N0(),g=C0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const E=c.join("");at(Ke,`Creating RPC '${t}' stream ${l}: ${E}`,p);const I=f.createWebChannel(E,p);let M=!1,H=!1;const Q=new z2({Io:X=>{H?at(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(M||(at(Ke,`Opening RPC '${t}' stream ${l} transport.`),I.open(),M=!0),at(Ke,`RPC '${t}' stream ${l} sending:`,X),I.send(X))},To:()=>I.close()}),J=(X,ct,Et)=>{X.listen(ct,(it=>{try{Et(it)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return J(I,ol.EventType.OPEN,(()=>{H||(at(Ke,`RPC '${t}' stream ${l} transport opened.`),Q.yo())})),J(I,ol.EventType.CLOSE,(()=>{H||(H=!0,at(Ke,`RPC '${t}' stream ${l} transport closed`),Q.So())})),J(I,ol.EventType.ERROR,(X=>{H||(H=!0,La(Ke,`RPC '${t}' stream ${l} transport errored:`,X),Q.So(new ut(W.UNAVAILABLE,"The operation could not be completed")))})),J(I,ol.EventType.MESSAGE,(X=>{var ct;if(!H){const Et=X.data[0];Gt(!!Et);const it=Et,ht=it.error||((ct=it[0])===null||ct===void 0?void 0:ct.error);if(ht){at(Ke,`RPC '${t}' stream ${l} received error:`,ht);const dt=ht.status;let St=(function(w){const x=ye[w];if(x!==void 0)return J0(x)})(dt),O=ht.message;St===void 0&&(St=W.INTERNAL,O="Unknown error status: "+dt+" with message "+ht.message),H=!0,Q.So(new ut(St,O)),I.close()}else at(Ke,`RPC '${t}' stream ${l} received:`,Et),Q.bo(Et)}})),J(g,I0.STAT_EVENT,(X=>{X.stat===Ud.PROXY?at(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):X.stat===Ud.NOPROXY&&at(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.wo()}),0),Q}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(r){return new ZR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,i,a,l,c,f,g,p){this.ui=t,this.Ho=a,this.Jo=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hT(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new ut(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return at("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q2 extends fT{constructor(t,i,a,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,f),this.serializer=c}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=t2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?oi(f.readTime):At.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=Gd(this.serializer),i.addTarget=(function(c,f){let g;const p=f.target;if(g=zd(p)?{documents:i2(c,p)}:{query:r2(c,p)._t},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=nT(c,f.resumeToken);const _=qd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(At.min())>0){g.readTime=Pc(c,f.snapshotVersion.toTimestamp());const _=qd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=a2(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=Gd(this.serializer),i.removeTarget=t,this.a_(i)}}class H2 extends fT{constructor(t,i,a,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=n2(t.writeResults,t.commitTime),a=oi(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=Gd(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>e2(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Mo(t,Hd(i,a),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(W.UNKNOWN,c.toString())}))}Lo(t,i,a,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Lo(t,Hd(i,a),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(W.UNKNOWN,f.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class G2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qi(i),this.D_=!1):at("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((f=>{a.enqueueAndForget((async()=>{Us(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const _=bt(p);_.L_.add(4),await Ml(_),_.q_.set("Unknown"),_.L_.delete(4),await eh(_)})(this))}))})),this.q_=new G2(a,l)}}async function eh(r){if(Us(r))for(const t of r.B_)await t(!0)}async function Ml(r){for(const t of r.B_)await t(!1)}function dT(r,t){const i=bt(r);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),Cm(i)?Im(i):Ya(i).r_()&&Rm(i,t))}function wm(r,t){const i=bt(r),a=Ya(i);i.N_.delete(t),a.r_()&&mT(i,t),i.N_.size===0&&(a.r_()?a.o_():Us(i)&&i.q_.set("Unknown"))}function Rm(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ya(r).A_(t)}function mT(r,t){r.Q_.xe(t),Ya(r).R_(t)}function Im(r){r.Q_=new QR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),Ya(r).start(),r.q_.v_()}function Cm(r){return Us(r)&&!Ya(r).n_()&&r.N_.size>0}function Us(r){return bt(r).L_.size===0}function gT(r){r.Q_=void 0}async function Q2(r){r.q_.set("Online")}async function Y2(r){r.N_.forEach(((t,i)=>{Rm(r,t)}))}async function X2(r,t){gT(r),Cm(r)?(r.q_.M_(t),Im(r)):r.q_.set("Unknown")}async function $2(r,t,i){if(r.q_.set("Online"),t instanceof eT&&t.state===2&&t.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.N_.delete(g),l.Q_.removeTarget(g))})(r,t)}catch(a){at("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Lc(r,a)}else if(t instanceof Tc?r.Q_.Ke(t):t instanceof tT?r.Q_.He(t):r.Q_.We(t),!i.isEqual(At.min()))try{const a=await cT(r.localStore);i.compareTo(a)>=0&&await(function(c,f){const g=c.Q_.rt(f);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.N_.get(_);E&&c.N_.set(_,E.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,_)=>{const E=c.N_.get(p);if(!E)return;c.N_.set(p,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),mT(c,p);const I=new Nr(E.target,p,_,E.sequenceNumber);Rm(c,I)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at("RemoteStore","Failed to raise snapshot:",a),await Lc(r,a)}}async function Lc(r,t,i){if(!Dl(t))throw t;r.L_.add(1),await Ml(r),r.q_.set("Offline"),i||(i=()=>cT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await eh(r)}))}function pT(r,t){return t().catch((i=>Lc(r,i,t)))}async function nh(r){const t=bt(r),i=Lr(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Z2(t);)try{const l=await k2(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,W2(t,l)}catch(l){await Lc(t,l)}yT(t)&&_T(t)}function Z2(r){return Us(r)&&r.O_.length<10}function W2(r,t){r.O_.push(t);const i=Lr(r);i.r_()&&i.V_&&i.m_(t.mutations)}function yT(r){return Us(r)&&!Lr(r).n_()&&r.O_.length>0}function _T(r){Lr(r).start()}async function J2(r){Lr(r).p_()}async function tI(r){const t=Lr(r);for(const i of r.O_)t.m_(i.mutations)}async function eI(r,t,i){const a=r.O_.shift(),l=vm.from(a,t,i);await pT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await nh(r)}async function nI(r,t){t&&Lr(r).V_&&await(async function(a,l){if((function(f){return FR(f)&&f!==W.ABORTED})(l.code)){const c=a.O_.shift();Lr(a).s_(),await pT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await nh(a)}})(r,t),yT(r)&&_T(r)}async function fv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const a=Us(i);i.L_.add(3),await Ml(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await eh(i)}async function iI(r,t){const i=bt(r);t?(i.L_.delete(2),await eh(i)):t||(i.L_.add(2),await Ml(i),i.q_.set("Unknown"))}function Ya(r){return r.K_||(r.K_=(function(i,a,l){const c=bt(i);return c.w_(),new q2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Eo:Q2.bind(null,r),Ro:Y2.bind(null,r),mo:X2.bind(null,r),d_:$2.bind(null,r)}),r.B_.push((async t=>{t?(r.K_.s_(),Cm(r)?Im(r):r.q_.set("Unknown")):(await r.K_.stop(),gT(r))}))),r.K_}function Lr(r){return r.U_||(r.U_=(function(i,a,l){const c=bt(i);return c.w_(),new H2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:J2.bind(null,r),mo:nI.bind(null,r),f_:tI.bind(null,r),g_:eI.bind(null,r)}),r.B_.push((async t=>{t?(r.U_.s_(),await nh(r)):(await r.U_.stop(),r.O_.length>0&&(at("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const f=Date.now()+a,g=new Nm(t,i,f,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),Dl(r))return new ut(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=ll(),this.sortedSet=new re(this.comparator)}static emptySet(t){return new Pa(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Pa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.W_=new re(mt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Tt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ha{constructor(t,i,a,l,c,f,g,p,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new Ha(t,i,Pa.emptySet(i),f,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class sI{constructor(){this.queries=mv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=mv(),c.forEach(((f,g)=>{for(const p of g.j_)p.onError(a)}))})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function mv(){return new Qa((r=>B0(r)),Xc)}async function aI(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.H_()&&t.J_()&&(a=2):(c=new rI,a=t.J_()?0:1);try{switch(a){case 0:c.z_=await i.onListen(l,!0);break;case 1:c.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const g=Dm(f,`Initialization of query '${Na(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.j_.push(t),t.Z_(i.onlineState),c.z_&&t.X_(c.z_)&&xm(i)}async function oI(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const f=c.j_.indexOf(t);f>=0&&(c.j_.splice(f,1),c.j_.length===0?l=t.J_()?0:1:!c.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lI(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,f=i.queries.get(c);if(f){for(const g of f.j_)g.X_(l)&&(a=!0);f.z_=l}}a&&xm(i)}function uI(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.j_)c.onError(i);a.queries.delete(t)}function xm(r){r.Y_.forEach((t=>{t.next()}))}var Qd,gv;(gv=Qd||(Qd={})).ea="default",gv.Cache="cache";class cI{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ha(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=Ha.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t){this.key=t}}class TT{constructor(t){this.key=t}}class hI{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xt(),this.mutatedKeys=xt(),this.Aa=q0(t),this.Ra=new Pa(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new dv,l=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,I)=>{const M=l.get(E),H=$c(this.query,I)?I:null,Q=!!M&&this.mutatedKeys.has(M.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let X=!1;M&&H?M.data.isEqual(H.data)?Q!==J&&(a.track({type:3,doc:H}),X=!0):this.ga(M,H)||(a.track({type:2,doc:H}),X=!0,(p&&this.Aa(H,p)>0||_&&this.Aa(H,_)<0)&&(g=!0)):!M&&H?(a.track({type:0,doc:H}),X=!0):M&&!H&&(a.track({type:1,doc:M}),X=!0,(p||_)&&(g=!0)),X&&(H?(f=f.add(H),c=J?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{Ra:f,fa:a,ns:g,mutatedKeys:c}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const f=t.fa.G_();f.sort(((E,I)=>(function(H,Q){const J=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return J(H)-J(Q)})(E.type,I.type)||this.Aa(E.doc,I.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,_=p!==this.Ea;return this.Ea=p,f.length!==0||_?{snapshot:new Ha(this.query,t.Ra,c,f,t.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=xt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new TT(a))})),this.da.forEach((a=>{t.has(a)||i.push(new vT(a))})),i}ba(t){this.Ta=t.Ts,this.da=xt();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return Ha.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class dI{constructor(t){this.key=t,this.va=!1}}class mI{constructor(t,i,a,l,c,f){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new Qa((g=>B0(g)),Xc),this.Ma=new Map,this.xa=new Set,this.Oa=new re(mt.comparator),this.Na=new Map,this.La=new Am,this.Ba={},this.ka=new Map,this.qa=qa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gI(r,t,i=!0){const a=RT(r);let l;const c=a.Fa.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await ET(a,t,i,!0),l}async function pI(r,t){const i=RT(r);await ET(i,t,!0,!1)}async function ET(r,t,i,a){const l=await V2(r.localStore,ai(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await yI(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&i&&dT(r.remoteStore,l),g}async function yI(r,t,i,a,l){r.Ka=(I,M,H)=>(async function(J,X,ct,Et){let it=X.view.ma(ct);it.ns&&(it=await uv(J.localStore,X.query,!1).then((({documents:O})=>X.view.ma(O,it))));const ht=Et&&Et.targetChanges.get(X.targetId),dt=Et&&Et.targetMismatches.get(X.targetId)!=null,St=X.view.applyChanges(it,J.isPrimaryClient,ht,dt);return yv(J,X.targetId,St.wa),St.snapshot})(r,I,M,H);const c=await uv(r.localStore,t,!0),f=new hI(t,c.Ts),g=f.ma(c.documents),p=Ol.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);yv(r,i,_.wa);const E=new fI(t,i,f);return r.Fa.set(t,E),r.Ma.has(i)?r.Ma.get(i).push(t):r.Ma.set(i,[t]),_.snapshot}async function _I(r,t,i){const a=bt(r),l=a.Fa.get(t),c=a.Ma.get(l.targetId);if(c.length>1)return a.Ma.set(l.targetId,c.filter((f=>!Xc(f,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Kd(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&wm(a.remoteStore,l.targetId),Yd(a,l.targetId)})).catch(Nl)):(Yd(a,l.targetId),await Kd(a.localStore,l.targetId,!0))}async function vI(r,t){const i=bt(r),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),wm(i.remoteStore,a.targetId))}async function TI(r,t,i){const a=II(r);try{const l=await(function(f,g){const p=bt(f),_=Se.now(),E=g.reduce(((H,Q)=>H.add(Q.key)),xt());let I,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Q=Yi(),J=xt();return p.cs.getEntries(H,E).next((X=>{Q=X,Q.forEach(((ct,Et)=>{Et.isValidDocument()||(J=J.add(ct))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,Q))).next((X=>{I=X;const ct=[];for(const Et of g){const it=jR(Et,I.get(Et.key).overlayedDocument);it!=null&&ct.push(new jr(Et.key,it,k0(it.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,ct,g)})).next((X=>{M=X;const ct=X.applyToLocalDocumentSet(I,J);return p.documentOverlayCache.saveOverlays(H,X.batchId,ct)}))})).then((()=>({batchId:M.batchId,changes:F0(I)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let _=f.Ba[f.currentUser.toKey()];_||(_=new re(Lt)),_=_.insert(g,p),f.Ba[f.currentUser.toKey()]=_})(a,l.batchId,i),await kl(a,l.changes),await nh(a.remoteStore)}catch(l){const c=Dm(l,"Failed to persist write");i.reject(c)}}async function AT(r,t){const i=bt(r);try{const a=await O2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const f=i.Na.get(c);f&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.va=!0:l.modifiedDocuments.size>0?Gt(f.va):l.removedDocuments.size>0&&(Gt(f.va),f.va=!1))})),await kl(i,a,t)}catch(a){await Nl(a)}}function pv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((c,f)=>{const g=f.view.Z_(t);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=bt(f);p.onlineState=g;let _=!1;p.queries.forEach(((E,I)=>{for(const M of I.j_)M.Z_(g)&&(_=!0)})),_&&xm(p)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function EI(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),c=l&&l.key;if(c){let f=new re(mt.comparator);f=f.insert(c,Ye.newNoDocument(c,At.min()));const g=xt().add(c),p=new Jc(At.min(),new Map,new re(Lt),f,g);await AT(a,p),a.Oa=a.Oa.remove(c),a.Na.delete(t),Om(a)}else await Kd(a.localStore,t,!1).then((()=>Yd(a,t,i))).catch(Nl)}async function AI(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await x2(i.localStore,t);ST(i,a,null),bT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await kl(i,l)}catch(l){await Nl(l)}}async function bI(r,t,i){const a=bt(r);try{const l=await(function(f,g){const p=bt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return p.mutationQueue.lookupMutationBatch(_,g).next((I=>(Gt(I!==null),E=I.keys(),p.mutationQueue.removeMutationBatch(_,I)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>p.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);ST(a,t,i),bT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await kl(a,l)}catch(l){await Nl(l)}}function bT(r,t){(r.ka.get(t)||[]).forEach((i=>{i.resolve()})),r.ka.delete(t)}function ST(r,t,i){const a=bt(r);let l=a.Ba[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function Yd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Ma.get(t))r.Fa.delete(a),i&&r.Ca.$a(a,i);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach((a=>{r.La.containsKey(a)||wT(r,a)}))}function wT(r,t){r.xa.delete(t.path.canonicalString());const i=r.Oa.get(t);i!==null&&(wm(r.remoteStore,i),r.Oa=r.Oa.remove(t),r.Na.delete(i),Om(r))}function yv(r,t,i){for(const a of i)a instanceof vT?(r.La.addReference(a.key,t),SI(r,a)):a instanceof TT?(at("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,t),r.La.containsKey(a.key)||wT(r,a.key)):Tt()}function SI(r,t){const i=t.key,a=i.path.canonicalString();r.Oa.get(i)||r.xa.has(a)||(at("SyncEngine","New document in limbo: "+i),r.xa.add(a),Om(r))}function Om(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const i=new mt(ne.fromString(t)),a=r.qa.next();r.Na.set(a,new dI(i)),r.Oa=r.Oa.insert(i,a),dT(r.remoteStore,new Nr(ai(pm(i.path)),a,"TargetPurposeLimboResolution",cm.oe))}}async function kl(r,t,i){const a=bt(r),l=[],c=[],f=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,p)=>{f.push(a.Ka(p,t,i).then((_=>{var E;if((_||i)&&a.isPrimaryClient){const I=_?!_.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=Sm.Wi(p.targetId,_);c.push(I)}})))})),await Promise.all(f),a.Ca.d_(l),await(async function(p,_){const E=bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Z.forEach(_,(M=>Z.forEach(M.$i,(H=>E.persistence.referenceDelegate.addReference(I,M.targetId,H))).next((()=>Z.forEach(M.Ui,(H=>E.persistence.referenceDelegate.removeReference(I,M.targetId,H)))))))))}catch(I){if(!Dl(I))throw I;at("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const M=I.targetId;if(!I.fromCache){const H=E.os.get(M),Q=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(Q);E.os=E.os.insert(M,J)}}})(a.localStore,c))}async function wI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){at("SyncEngine","User change. New user:",t.toKey());const a=await uT(i.localStore,t);i.currentUser=t,(function(c,f){c.ka.forEach((g=>{g.forEach((p=>{p.reject(new ut(W.CANCELLED,f))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await kl(i,a.hs)}}function RI(r,t){const i=bt(r),a=i.Na.get(t);if(a&&a.va)return xt().add(a.key);{let l=xt();const c=i.Ma.get(t);if(!c)return l;for(const f of c){const g=i.Fa.get(f);l=l.unionWith(g.view.Va)}return l}}function RT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EI.bind(null,t),t.Ca.d_=lI.bind(null,t.eventManager),t.Ca.$a=uI.bind(null,t.eventManager),t}function II(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bI.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=th(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return D2(this.persistence,new C2,t.initialUser,this.serializer)}Ga(t){return new w2(bm.Zr,this.serializer)}Wa(t){return new P2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class Xd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wI.bind(null,this.syncEngine),await iI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sI})()}createDatastore(t){const i=th(t.databaseInfo.databaseId),a=(function(c){return new B2(c)})(t.databaseInfo);return(function(c,f,g,p){return new F2(c,f,g,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,f,g){return new K2(a,l,c,f,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return hv.D()?new hv:new L2})())}createSyncEngine(t,i){return(function(l,c,f,g,p,_,E){const I=new mI(l,c,f,g,p,_);return E&&(I.Qa=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=bt(l);at("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await Ml(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=x0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{at("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(at("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Dm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Id(r,t){r.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await uT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function _v(r,t){r.asyncQueue.verifyOperationInProgress();const i=await DI(r);at("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>fv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>fv(t.remoteStore,l))),r._onlineComponents=t}async function DI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await Id(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;La("Error using user provided cache. Falling back to memory cache: "+i),await Id(r,new jc)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await Id(r,new jc);return r._offlineComponents}async function IT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await _v(r,r._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await _v(r,new Xd))),r._onlineComponents}function xI(r){return IT(r).then((t=>t.syncEngine))}async function vv(r){const t=await IT(r),i=t.eventManager;return i.onListen=gI.bind(null,t.syncEngine),i.onUnlisten=_I.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=pI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vI.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r,t,i){if(!i)throw new ut(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function OI(r,t,i,a){if(t===!0&&a===!0)throw new ut(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Ev(r){if(!mt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Av(r){if(mt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt()}function li(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mm(r);throw new ut(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ih{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Q1;switch(a.type){case"firstParty":return new Z1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Tv.get(i);a&&(at("ComponentProvider","Removing Datastore"),Tv.delete(i),a.terminate())})(this),Promise.resolve()}}function MI(r,t,i,a={}){var l;const c=(r=li(r,ih))._getSettings(),f=`${t}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),a.mockUserToken){let g,p;if(typeof a.mockUserToken=="string")g=a.mockUserToken,p=Qe.MOCK_USER;else{g=Uv(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const _=a.mockUserToken.sub||a.mockUserToken.user_id;if(!_)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(_)}r._authCredentials=new Y1(new D0(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new rh(this.firestore,t,this._query)}}class sn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}}class Mr extends rh{constructor(t,i,a){super(t,i,pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new mt(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function Sv(r,t,...i){if(r=Be(r),NT("collection","path",t),r instanceof ih){const a=ne.fromString(t,...i);return Av(a),new Mr(r,null,a)}{if(!(r instanceof sn||r instanceof Mr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return Av(a),new Mr(r.firestore,null,a)}}function ni(r,t,...i){if(r=Be(r),arguments.length===1&&(t=x0.newId()),NT("doc","path",t),r instanceof ih){const a=ne.fromString(t,...i);return Ev(a),new sn(r,null,new mt(a))}{if(!(r instanceof sn||r instanceof Mr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return Ev(a),new sn(r.firestore,r instanceof Mr?r.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hT(this,"async_queue_retry"),this.Vu=()=>{const a=Rd();a&&at("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=Rd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Rd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Is;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Dl(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g})(a);throw Qi("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=Nm.createAndSchedule(this,t,i,a,(c=>this.yu(c)));return this.Tu.push(l),l}fu(){this.Eu&&Tt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Rv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ms extends ih{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new wv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wv(t),this._firestoreClient=void 0,await t}}}function kI(r,t){const i=typeof r=="object"?r:tm(),a=typeof r=="string"?r:"(default)",l=qc(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Mv("firestore");c&&MI(l,...c)}return l}function DT(r){if(r._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VI(r),r._firestoreClient}function VI(r){var t,i,a;const l=r._freezeSettings(),c=(function(g,p,_,E){return new cR(g,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,CT(E.experimentalLongPollingOptions),E.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new NI(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(qe.fromBase64String(t))}catch(i){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fa(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=/^__.*__$/;class PI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,i,this.fieldTransforms):new xl(t,this.data,i,this.fieldTransforms)}}class xT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new jr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function OT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class Pm{constructor(t,i,a,l,c,f){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Pm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return zc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(OT(this.Cu)&&UI.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class LI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||th(t)}Qu(t,i,a,l=!1){return new Pm({Cu:t,methodName:i,qu:a,path:je.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(r){const t=r._freezeSettings(),i=th(r._databaseId);return new LI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function MT(r,t,i,a,l,c={}){const f=r.Qu(c.merge||c.mergeFields?2:0,t,i,l);jm("Data must be an object, but it was:",f,a);const g=kT(a,f);let p,_;if(c.merge)p=new pn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const I of c.mergeFields){const M=$d(t,I,i);if(!f.contains(M))throw new ut(W.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);UT(E,M)||E.push(M)}p=new pn(E),_=f.fieldTransforms.filter((I=>p.covers(I.field)))}else p=null,_=f.fieldTransforms;return new PI(new rn(g),p,_)}class ah extends km{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ah}}function jI(r,t,i,a){const l=r.Qu(1,t,i);jm("Data must be an object, but it was:",l,a);const c=[],f=rn.empty();Vs(a,((p,_)=>{const E=zm(t,p,i);_=Be(_);const I=l.Nu(E);if(_ instanceof ah)c.push(E);else{const M=oh(_,I);M!=null&&(c.push(E),f.set(E,M))}}));const g=new pn(c);return new xT(f,g,l.fieldTransforms)}function zI(r,t,i,a,l,c){const f=r.Qu(1,t,i),g=[$d(t,a,i)],p=[l];if(c.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push($d(t,c[M])),p.push(c[M+1]);const _=[],E=rn.empty();for(let M=g.length-1;M>=0;--M)if(!UT(_,g[M])){const H=g[M];let Q=p[M];Q=Be(Q);const J=f.Nu(H);if(Q instanceof ah)_.push(H);else{const X=oh(Q,J);X!=null&&(_.push(H),E.set(H,X))}}const I=new pn(_);return new xT(E,I,f.fieldTransforms)}function oh(r,t){if(VT(r=Be(r)))return jm("Unsupported field value:",t,r),kT(r,t);if(r instanceof km)return(function(a,l){if(!OT(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const c=[];let f=0;for(const g of a){let p=oh(g,l.Lu(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Be(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Se.fromDate(a);return{timestampValue:Pc(l.serializer,c)}}if(a instanceof Se){const c=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Pc(l.serializer,c)}}if(a instanceof Vm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fa)return{bytesValue:nT(l.serializer,a._byteString)};if(a instanceof sn){const c=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw l.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Em(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Um)return(function(f,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return ym(g.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${Mm(a)}`)})(r,t)}function kT(r,t){const i={};return O0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vs(r,((a,l)=>{const c=oh(l,t.Mu(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function VT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Vm||r instanceof Fa||r instanceof sn||r instanceof km||r instanceof Um)}function jm(r,t,i){if(!VT(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=Mm(i);throw a==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+a)}}function $d(r,t,i){if((t=Be(t))instanceof sh)return t._internalPath;if(typeof t=="string")return zm(r,t);throw zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const BI=new RegExp("[~\\*/\\[\\]]");function zm(r,t,i){if(t.search(BI)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sh(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function zc(r,t,i,a,l){const c=a&&!a.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${a}`),f&&(p+=` in document ${l}`),p+=")"),new ut(W.INVALID_ARGUMENT,g+r+p)}function UT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(LT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qI extends PT{data(){return super.data()}}function LT(r,t){return typeof t=="string"?zm(r,t):t instanceof sh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FI{convertValue(t,i="none"){switch(Os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Vs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((f=>fe(f.doubleValue)));return new Um(c)}convertGeoPoint(t){return new Vm(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fm(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(vl(t));default:return null}}convertTimestamp(t){const i=Pr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Gt(lT(a));const l=new Tl(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||Qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zT extends PT{constructor(t,i,a,l,c,f){super(t,i,a,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(LT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Ec extends zT{data(t={}){return super.data(t)}}class GI{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Ec(this._firestore,this._userDataWriter,a.key,a,new cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new Ec(l._firestore,l._userDataWriter,g.doc.key,g.doc,new cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Ec(l._firestore,l._userDataWriter,g.doc.key,g.doc,new cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:KI(g.type),doc:p,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function KI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}class BT extends FI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,i)}}function QI(r,t,i){r=li(r,sn);const a=li(r.firestore,Ms),l=jT(r.converter,t);return lh(a,[MT(Lm(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Dn.none())])}function Ss(r,t,i,...a){r=li(r,sn);const l=li(r.firestore,Ms),c=Lm(l);let f;return f=typeof(t=Be(t))=="string"||t instanceof sh?zI(c,"updateDoc",r._key,t,i,a):jI(c,"updateDoc",r._key,t),lh(l,[f.toMutation(r._key,Dn.exists(!0))])}function YI(r){return lh(li(r.firestore,Ms),[new _m(r._key,Dn.none())])}function XI(r,t){const i=li(r.firestore,Ms),a=ni(r),l=jT(r.converter,t);return lh(i,[MT(Lm(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Dn.exists(!1))]).then((()=>a))}function $I(r,...t){var i,a,l;r=Be(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Rv(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Rv(t[f])){const I=t[f];t[f]=(i=I.next)===null||i===void 0?void 0:i.bind(I),t[f+1]=(a=I.error)===null||a===void 0?void 0:a.bind(I),t[f+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let p,_,E;if(r instanceof sn)_=li(r.firestore,Ms),E=pm(r._key.path),p={next:I=>{t[f]&&t[f](ZI(_,r,I))},error:t[f+1],complete:t[f+2]};else{const I=li(r,rh);_=li(I.firestore,Ms),E=I._query;const M=new BT(_);p={next:H=>{t[f]&&t[f](new GI(_,M,I,H))},error:t[f+1],complete:t[f+2]},HI(r._query)}return(function(M,H,Q,J){const X=new CI(J),ct=new cI(H,X,Q);return M.asyncQueue.enqueueAndForget((async()=>aI(await vv(M),ct))),()=>{X.Za(),M.asyncQueue.enqueueAndForget((async()=>oI(await vv(M),ct)))}})(DT(_),E,g,p)}function lh(r,t){return(function(a,l){const c=new Is;return a.asyncQueue.enqueueAndForget((async()=>TI(await xI(a),l,c))),c.promise})(DT(r),t)}function ZI(r,t,i){const a=i.docs.get(t._key),l=new BT(r);return new zT(r,l,t._key,a,new cl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Ka=l})(ks),Cs(new kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const f=a.getProvider("app").getImmediate(),g=new Ms(new X1(a.getProvider("auth-internal")),new J1(a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(_.options.projectId,E)})(f,l),f);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ii(q_,"4.7.3",t),ii(q_,"4.7.3","esm2017")})();const WI={apiKey:"AIzaSyCkz9Pen_EfzhW1NrxKPtKXNKZKjdLqM-I",authDomain:"socialmedialiketrack.firebaseapp.com",projectId:"socialmedialiketrack",storageBucket:"socialmedialiketrack.appspot.com",messagingSenderId:"339042819255",appId:"1:339042819255:web:5054b4b5ec2891571c0132",measurementId:"G-YPPYRNBBRY"},Bm=jv(WI),fc=p1(Bm);H1(Bm);const Pn=kI(Bm),JI={[gn.Facebook]:"border-blue-500",[gn.Instagram]:"border-pink-500",[gn.TikTok]:"border-black",[gn.LinkedIn]:"border-sky-600",[gn.X]:"border-gray-500"},tC=({post:r,onEdit:t,onDelete:i,userRole:a})=>{const l=async()=>{const Q=ni(Pn,"posts",r.id);await Ss(Q,{totalComments:r.totalComments+1})},c=async()=>{const Q=ni(Pn,"posts",r.id);await Ss(Q,{moderatorLikes:r.moderatorLikes+1})},f=async()=>{const Q=ni(Pn,"posts",r.id);await Ss(Q,{totalComments:Math.max(0,r.totalComments-1)})},g=async()=>{const Q=ni(Pn,"posts",r.id);await Ss(Q,{moderatorLikes:Math.max(0,r.moderatorLikes-1)})},p=async()=>{if(window.confirm("Sei sicuro di voler azzerare i contatori per questo post?")){const Q=ni(Pn,"posts",r.id);await Ss(Q,{totalComments:0,moderatorLikes:0})}},{likesByRule:_,commentsForNextLike:E,progressPercentage:I,isLikeTime:M}=Zt.useMemo(()=>{if(r.totalComments<=0)return{likesByRule:0,commentsForNextLike:3,progressPercentage:0,isLikeTime:!1};const Q=Math.floor(r.totalComments/3),J=3-r.totalComments%3,X=r.totalComments%3/3*100;return{likesByRule:Q,commentsForNextLike:J===3?0:J,progressPercentage:X,isLikeTime:r.totalComments>0&&r.totalComments%3===0}},[r.totalComments]),H=new Date(r.date).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"});return C.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-t-4 ${JI[r.platform]} flex flex-col transition-transform duration-300 hover:scale-105 hover:z-10 relative`,children:[a===Ma.Admin&&C.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 z-30",children:[C.jsx("button",{onClick:()=>i(r),className:"p-2 bg-white/80 rounded-full text-gray-600 hover:bg-red-500 hover:text-white transition-colors duration-200","aria-label":"Delete post",children:C.jsx(OA,{className:"w-4 h-4"})}),C.jsx("button",{onClick:()=>t(r),className:"p-2 bg-white/80 rounded-full text-gray-600 hover:bg-yellow-500 hover:text-white transition-colors duration-200","aria-label":"Edit post",children:C.jsx(PA,{className:"w-4 h-4"})}),(r.totalComments>0||r.moderatorLikes>0)&&C.jsx("button",{onClick:p,className:"p-2 bg-white/80 rounded-full text-gray-600 hover:bg-blue-500 hover:text-white transition-colors duration-200","aria-label":"Reset counters",children:C.jsx(UA,{className:"w-4 h-4"})})]}),r.imageUrl&&C.jsx("img",{src:r.imageUrl,alt:r.description,className:"w-full h-48 object-cover"}),C.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[C.jsxs("div",{className:"flex-grow",children:[C.jsx("p",{className:"text-gray-600 leading-relaxed mb-4 text-base",children:r.description}),C.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[C.jsx(MA,{className:"w-4 h-4 mr-2"}),C.jsx("span",{children:H})]})]}),C.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100",children:[C.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Contatori"}),C.jsxs("div",{className:"flex justify-between items-center text-center mb-4",children:[C.jsxs("div",{className:"w-1/2",children:[C.jsx("span",{className:"text-xs font-medium text-gray-500 block",children:"Commenti Inseriti"}),C.jsxs("div",{className:"flex items-center justify-center mt-1",children:[a===Ma.Admin&&C.jsx("button",{onClick:f,disabled:r.totalComments<=0,className:"p-1 mr-2 bg-gray-200 rounded-full text-gray-600 hover:bg-gray-300 transition-colors disabled:opacity-50",children:C.jsx(l_,{className:"w-3 h-3"})}),C.jsxs("button",{onClick:l,className:"flex items-center justify-center text-xl font-bold text-sky-600 group focus:outline-none","aria-label":"Aggiungi commento",children:[C.jsx(VA,{className:"w-5 h-5 mr-1.5 text-sky-500"}),r.totalComments]})]})]}),C.jsx("div",{className:"border-l border-gray-200 h-10"}),C.jsxs("div",{className:"w-1/2",children:[C.jsx("span",{className:"text-xs font-medium text-gray-500 block",children:"Like Inseriti"}),C.jsxs("div",{className:"flex items-center justify-center mt-1",children:[a===Ma.Admin&&C.jsx("button",{onClick:g,disabled:r.moderatorLikes<=0,className:"p-1 mr-2 bg-gray-200 rounded-full text-gray-600 hover:bg-gray-300 transition-colors disabled:opacity-50",children:C.jsx(l_,{className:"w-3 h-3"})}),C.jsxs("button",{onClick:c,className:"flex items-center justify-center text-xl font-bold text-red-600 group focus:outline-none","aria-label":"Aggiungi like",children:[C.jsx(kA,{className:`w-5 h-5 mr-1.5 transition-colors ${r.moderatorLikes>0?"text-red-500":"text-gray-400"}`}),r.moderatorLikes]})]})]})]}),C.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("span",{className:"text-xs font-medium text-gray-500 block",children:"Like da Regola (1/3)"}),C.jsx("span",{className:"text-xl font-bold text-gray-700",children:_})]}),M?C.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 px-3 py-2 rounded-md text-center text-sm",role:"alert",children:C.jsx("p",{className:"font-bold",children:" il momento del Like!"})}):C.jsxs("div",{children:[C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:C.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${I}%`}})}),C.jsxs("p",{className:"text-center text-xs text-gray-500 mt-1","aria-live":"polite",children:[E," ",E===1?"commento":"commenti"," per il prossimo like"]})]})]})]})]})]})},eC=({onClose:r,onAddPost:t,onUpdatePost:i,postToEdit:a})=>{const[l,c]=Zt.useState(""),[f,g]=Zt.useState(new Date().toISOString().split("T")[0]),[p,_]=Zt.useState(null),[E,I]=Zt.useState(""),M=!!a;Zt.useEffect(()=>{M&&(c(a.description),g(a.date),_(a.imageUrl),I(a.imageUrl?"Immagine corrente":""))},[a,M]);const H=J=>{if(J.target.files&&J.target.files[0]){const X=J.target.files[0];I(X.name);const ct=new FileReader;ct.onloadend=()=>{_(ct.result)},ct.readAsDataURL(X)}},Q=J=>{J.preventDefault(),M?i({...a,description:l,date:f,imageUrl:p}):t({description:l,date:f,imageUrl:p,totalComments:0,moderatorLikes:0})};return C.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6 sm:p-8 relative transform transition-all",onClick:J=>J.stopPropagation(),children:[C.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-3xl leading-none",children:""}),C.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:M?"Modifica Post":"Aggiungi Nuovo Post"}),C.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrizione post"}),C.jsx("textarea",{id:"description",value:l,onChange:J=>c(J.target.value),required:!0,rows:4,className:"w-full bg-white text-gray-900 rounded-md px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Data"}),C.jsx("input",{id:"date",type:"date",value:f,onChange:J=>g(J.target.value),required:!0,className:"w-full bg-white text-gray-900 rounded-md px-3 py-2 border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card post (Immagine)"}),C.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:C.jsxs("div",{className:"space-y-1 text-center",children:[p?C.jsx("img",{src:p,alt:"Preview",className:"mx-auto h-24 w-auto rounded-md"}):C.jsx(xA,{className:"mx-auto h-12 w-12 text-gray-400"}),C.jsxs("div",{className:"flex text-sm text-gray-600",children:[C.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-white focus-within:ring-indigo-500 px-2 py-1",children:[C.jsx("span",{children:"Carica un file"}),C.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:H,accept:"image/*"})]}),C.jsx("p",{className:"pl-1",children:"o trascina qui"})]}),C.jsx("p",{className:"text-xs text-gray-500",children:E||"PNG, JPG, GIF fino a 10MB"})]})})]}),C.jsxs("div",{className:"flex justify-end items-center pt-2 space-x-4",children:[C.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-white text-gray-900 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:"Annulla"}),C.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:M?"Salva Modifiche":"Aggiungi Post"})]})]})]})})},nC=({title:r,message:t,onConfirm:i,onCancel:a,confirmText:l="Conferma",cancelText:c="Annulla",confirmButtonVariant:f="primary"})=>{const[g,p]=Zt.useState(!1);Zt.useEffect(()=>{const M=setTimeout(()=>p(!0),50);return()=>clearTimeout(M)},[]);const _=()=>{p(!1),setTimeout(a,300)},E=()=>{p(!1),setTimeout(i,300)},I={primary:"bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500",danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};return C.jsx("div",{className:`fixed inset-0 bg-gray-900 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out ${g?"bg-opacity-50":"bg-opacity-0"}`,onClick:_,role:"alertdialog","aria-modal":"true","aria-labelledby":"confirmation-title","aria-describedby":"confirmation-message",children:C.jsxs("div",{className:`bg-white rounded-lg shadow-xl w-full max-w-md p-6 sm:p-8 relative transform transition-all duration-300 ease-out ${g?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:M=>M.stopPropagation(),children:[C.jsxs("div",{className:"flex items-start",children:[C.jsx("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${f==="danger"?"bg-red-100":"bg-indigo-100"} sm:mx-0 sm:h-10 sm:w-10`,children:C.jsx(Cv,{className:`h-6 w-6 ${f==="danger"?"text-red-600":"text-indigo-600"}`,"aria-hidden":"true"})}),C.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[C.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900",id:"confirmation-title",children:r}),C.jsx("div",{className:"mt-2",children:C.jsx("p",{className:"text-sm text-gray-600",id:"confirmation-message",children:t})})]})]}),C.jsxs("div",{className:"mt-6 sm:mt-5 sm:flex sm:flex-row-reverse sm:gap-3",children:[C.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 sm:w-auto sm:text-sm ${I[f]}`,onClick:E,children:l}),C.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm transition-colors",onClick:_,children:c})]})]})})},iC=({onClose:r})=>{const[t,i]=Zt.useState(!1);Zt.useEffect(()=>{const l=setTimeout(()=>i(!0),50);return()=>clearTimeout(l)},[]);const a=()=>{i(!1),setTimeout(r,300)};return C.jsx("div",{className:`fixed inset-0 bg-gray-900 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out ${t?"bg-opacity-50":"bg-opacity-0"}`,onClick:a,role:"dialog","aria-modal":"true","aria-labelledby":"rules-title",children:C.jsxs("div",{className:`bg-white rounded-lg shadow-xl w-full max-w-lg p-6 sm:p-8 relative transform transition-all duration-300 ease-out ${t?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:l=>l.stopPropagation(),children:[C.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-3xl leading-none","aria-label":"Chiudi finestra",children:""}),C.jsx("h2",{id:"rules-title",className:"text-2xl font-bold text-gray-900 mb-4",children:"Regole per i Moderatori"}),C.jsxs("div",{className:"space-y-4 text-gray-700",children:[C.jsx("p",{children:"Il tuo compito  monitorare i commenti e aggiungere like in modo strategico per massimizzare l'engagement."}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-semibold text-gray-800",children:"Regola principale:"}),C.jsxs("p",{className:"mt-1 pl-4 border-l-4 border-indigo-500",children:["Aggiungi ",C.jsx("strong",{className:"text-indigo-600",children:"1 like da moderatore"})," per ogni ",C.jsx("strong",{className:"text-indigo-600",children:"3 commenti"})," ricevuti su un post."]})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-semibold text-gray-800",children:"Come funziona:"}),C.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[C.jsxs("li",{children:["Clicca sull'icona dei commenti ",C.jsxs("strong",{className:"text-sky-500",children:["(",C.jsx("span",{className:"inline-block align-middle",children:""}),")"]})," per registrare ogni nuovo commento ricevuto sul social network."]}),C.jsx("li",{children:"Il sistema calcoler automaticamente quando  il momento di mettere un like."}),C.jsxs("li",{children:["Quando la card mostra l'avviso ",C.jsx("strong",{className:"text-green-600",children:'" il momento del Like!"'}),", clicca sull'icona del cuore ",C.jsxs("strong",{className:"text-red-500",children:["(",C.jsx("span",{className:"inline-block align-middle",children:""}),")"]}),"."]})]})]}),C.jsx("p",{className:"pt-2 text-sm text-gray-500",children:"Seguire questa regola ci aiuta a mantenere un'interazione bilanciata e a far crescere la nostra community!"})]}),C.jsx("div",{className:"flex justify-end mt-8",children:C.jsx("button",{type:"button",onClick:a,className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-indigo-500",children:"Ho capito!"})})]})})},rC=({user:r,onLogout:t})=>{const[i,a]=Zt.useState([]),[l,c]=Zt.useState(gn.Facebook),[f,g]=Zt.useState(!1),[p,_]=Zt.useState(null),[E,I]=Zt.useState(null),[M,H]=Zt.useState(!1);Zt.useEffect(()=>{const it=$I(Sv(Pn,"posts"),ht=>{const dt=ht.docs.map(St=>({...St.data(),id:St.id}));a(dt)});return()=>it()},[]);const Q=Zt.useMemo(()=>i.filter(it=>it.platform===l).sort((it,ht)=>new Date(ht.date).getTime()-new Date(it.date).getTime()),[i,l]),J=async it=>{if("id"in it){const ht=ni(Pn,"posts",it.id);await Ss(ht,{...it})}else await XI(Sv(Pn,"posts"),it);g(!1),_(null)},X=async it=>{const ht=ni(Pn,"posts",it.id);await Ss(ht,{...it})},ct=async()=>{if(E){const it=ni(Pn,"posts",E.id);await YI(it),I(null)}},Et=it=>{_(it),g(!0)};return C.jsxs("div",{className:"min-h-screen bg-gray-50 pb-16",children:[C.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:C.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("div",{className:"w-1/4"}),C.jsxs("div",{className:"w-2/4 text-center",children:[C.jsx("h1",{className:"text-5xl font-bold text-gray-900",children:"Social Like Dashboard"}),C.jsxs("p",{className:"text-gray-600 flex items-center justify-center mt-2 text-lg",children:["Monitora e gestisci i like con la regola 1 like ogni 3 commenti.",C.jsx("button",{onClick:()=>H(!0),className:"ml-2",children:C.jsx(Cv,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})]})]}),C.jsxs("div",{className:"w-1/4 flex items-center justify-end space-x-4",children:[C.jsxs("div",{className:"text-right",children:[C.jsx("span",{className:"font-semibold capitalize text-lg",children:r.username}),C.jsx("span",{className:"block text-sm text-gray-500 capitalize",children:r.role})]}),C.jsx("button",{onClick:t,className:"px-5 py-2.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Logout"})]})]})})}),C.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[C.jsxs("div",{className:"flex justify-between items-center mb-8",children:[C.jsx(jA,{activePlatform:l,onPlatformChange:c}),r.role===Ma.Admin&&C.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 bg-indigo-600 text-white font-semibold px-6 py-3 rounded-lg shadow-md hover:bg-indigo-700 transition-colors",children:[C.jsx(DA,{className:"w-6 h-6"}),C.jsx("span",{className:"text-base",children:"Add Post"})]})]}),C.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:["Posts on ",l]}),Q.length>0?C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Q.map(it=>C.jsx(tC,{post:it,onUpdate:X,onEdit:Et,onDelete:()=>I(it),userRole:r.role},it.id))}):C.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-sm",children:[C.jsxs("p",{className:"text-gray-500 text-lg",children:["Nessun post da visualizzare per ",l,"."]}),r.role===Ma.Admin&&C.jsx("p",{className:"text-gray-500 mt-2",children:"Aggiungi un nuovo post per iniziare!"})]})]}),f&&C.jsx(eC,{onClose:()=>{g(!1),_(null)},onSubmit:J,postToEdit:p,activePlatform:l}),E&&C.jsx(nC,{title:"Conferma Eliminazione",message:"Sei sicuro di voler eliminare questo post? L'azione  irreversibile.",onConfirm:ct,onCancel:()=>I(null)}),M&&C.jsx(iC,{onClose:()=>H(!1)})]})},sC=()=>{const[r,t]=Zt.useState(null),[i,a]=Zt.useState(!1);Zt.useEffect(()=>{const f=sw(fc,g=>{g||JS(fc).catch(p=>{console.error("Anonymous sign-in failed:",p)}),a(!0)});return()=>f()},[]);const l=async f=>{t(f),localStorage.setItem("loggedInUser",JSON.stringify(f)),fc.currentUser&&await QI(ni(Pn,"users",fc.currentUser.uid),{role:f.role})},c=()=>{t(null),localStorage.removeItem("loggedInUser")};return Zt.useEffect(()=>{const f=localStorage.getItem("loggedInUser");if(f)try{const g=JSON.parse(f);g&&g.username&&g.role&&t(g)}catch(g){console.error("Failed to parse user from localStorage",g),localStorage.removeItem("loggedInUser")}},[]),i?C.jsx("div",{className:"App",children:r?C.jsx(rC,{user:r,onLogout:c}):C.jsx(SA,{onLoginSuccess:l})}):C.jsx("div",{children:"Loading..."})};bA.createRoot(document.getElementById("root")).render(C.jsx(gA.StrictMode,{children:C.jsx(sC,{})}));
